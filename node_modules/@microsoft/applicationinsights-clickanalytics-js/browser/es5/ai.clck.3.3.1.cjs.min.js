/*!
 * Application Insights JavaScript SDK - Click Analytics, 3.3.1
 * Copyright (c) Microsoft and contributors. All rights reserved.
 */
"use strict";var strShimFunction="function",strShimObject="object",strShimUndefined="undefined",strShimPrototype="prototype",ObjClass$1=Object;function _pureAssign(e,t){return e||t}function _pureRef(e,t){return e[t]}var UNDEF_VALUE=undefined,NULL_VALUE=null,EMPTY="",FUNCTION="function",OBJECT="object",PROTOTYPE="prototype",__PROTO__="__proto__",UNDEFINED="undefined",CONSTRUCTOR="constructor",SYMBOL="Symbol",POLYFILL_TAG="_polyfill",LENGTH="length",NAME="name",CALL="call",TO_STRING="toString",ObjClass=_pureAssign(Object),ObjProto=_pureRef(ObjClass,PROTOTYPE),StrCls=_pureAssign(String),StrProto=_pureRef(StrCls,PROTOTYPE),ArrCls=_pureAssign(Array),ArrProto=_pureRef(ArrCls,PROTOTYPE),ArrSlice=_pureRef(ArrProto,"slice");function safe(e,t){try{return{v:e.apply(this,t)}}catch(n){return{e:n}}}function _createIs(t){return function(e){return typeof e===t}}function _createObjIs(e){var t="[object "+e+"]";return function(e){return!(!e||objToString(e)!==t)}}function objToString(e){return ObjProto[TO_STRING].call(e)}function isUndefined(e){return typeof e===UNDEFINED||e===UNDEFINED}function isNullOrUndefined(e){return e===NULL_VALUE||isUndefined(e)}function isStrictNullOrUndefined(e){return e===NULL_VALUE||!isDefined(e)}function isDefined(e){return!!e||e!==UNDEF_VALUE}var isString=_createIs("string"),isFunction=_createIs(FUNCTION);function isObject(e){return!(!e&&isNullOrUndefined(e)||!e||typeof e!==OBJECT)}var isArray=_pureRef(ArrCls,"isArray"),isBoolean=_createIs("boolean"),isError=_createObjIs("Error"),objGetOwnPropertyDescriptor=_pureRef(ObjClass,"getOwnPropertyDescriptor");function objHasOwnProperty(e,t){return!!e&&ObjProto.hasOwnProperty[CALL](e,t)}var objHasOwn=_pureAssign(_pureRef(ObjClass,"hasOwn"),polyObjHasOwn);function polyObjHasOwn(e,t){return objHasOwnProperty(e,t)||!!objGetOwnPropertyDescriptor(e,t)}function objForEachKey(e,t,n){if(e&&isObject(e))for(var r in e)if(objHasOwn(e,r)&&-1===t[CALL](n||e,r,e[r]))break}var propMap={e:"enumerable",c:"configurable",v:"value",w:"writable",g:"get",s:"set"};function _createProp(t){var e,n={};return n[propMap.c]=!0,n[propMap.e]=!0,t.l&&(n.get=function(){return t.l.v},(e=objGetOwnPropertyDescriptor(t.l,"v"))&&e.set&&(n.set=function(e){t.l.v=e})),objForEachKey(t,function(e,t){n[propMap[e]]=isUndefined(t)?n[propMap[e]]:t}),n}var objDefineProp=_pureRef(ObjClass,"defineProperty");function objDefine(e,t,n){return objDefineProp(e,t,_createProp(n))}function _createKeyValueMap(e,n,r,t,_){var o={};return objForEachKey(e,function(e,t){_assignMapValue(o,e,n?t:e,_),_assignMapValue(o,t,r?t:e,_)}),t?t(o):o}function _assignMapValue(e,t,n,r){objDefineProp(e,t,{value:n,enumerable:!0,writable:!!r})}var asString=_pureAssign(StrCls),ERROR_TYPE="[object Error]";function dumpObj(e,t){var n=EMPTY,r=ObjProto[TO_STRING][CALL](e);r===ERROR_TYPE&&(e={stack:asString(e.stack),message:asString(e.message),name:asString(e.name)});try{n=(n=JSON.stringify(e,NULL_VALUE,t?"number"==typeof t?t:4:UNDEF_VALUE))&&n.replace(/"(\w+)"\s*:\s{0,1}/g,"$1: ")||asString(e)}catch(_){n=" - "+dumpObj(_,t)}return r+": "+n}function throwError(e){throw Error(e)}function throwTypeError(e){throw new TypeError(e)}var _objFreeze=_pureRef(ObjClass,"freeze");function _doNothing(e){return e}function _getProto(e){return e[__PROTO__]||NULL_VALUE}var objKeys=_pureRef(ObjClass,"keys");function objDeepFreeze(e){return _objFreeze&&objForEachKey(e,function(e,t){(isArray(t)||isObject(t))&&objDeepFreeze(t)}),objFreeze(e)}var objFreeze=_pureAssign(_objFreeze,_doNothing),objGetPrototypeOf=_pureAssign(_pureRef(ObjClass,"getPrototypeOf"),_getProto);function createEnumKeyMap(e){return _createKeyValueMap(e,0,0,objFreeze)}var _globalCfg,_wellKnownSymbolMap=createEnumKeyMap({asyncIterator:0,hasInstance:1,isConcatSpreadable:2,iterator:3,match:4,matchAll:5,replace:6,search:7,species:8,split:9,toPrimitive:10,toStringTag:11,unscopables:12}),GLOBAL_CONFIG_KEY="__tsUtils$gblCfg";function _getGlobalValue(){var e;return(e=(e=(e=typeof globalThis!==UNDEFINED?globalThis:e)||typeof self===UNDEFINED?e:self)||typeof window===UNDEFINED?e:window)||typeof global===UNDEFINED?e:global}function _getGlobalConfig(){var e;return _globalCfg||(e=safe(_getGlobalValue).v||{},_globalCfg=e[GLOBAL_CONFIG_KEY]=e[GLOBAL_CONFIG_KEY]||{}),_globalCfg}var _unwrapFunction=_unwrapFunctionWithPoly;function _unwrapFunctionWithPoly(r,e,_){var o=e&&e[r];return function(e){var t,n=e&&e[r]||o;if(n||_)return t=arguments,(n||_).apply(e,n?ArrSlice[CALL](t,1):t);throwTypeError('"'+asString(r)+'" not defined for '+dumpObj(e))}}var _polySymbols,_wellKnownSymbolCache,_globalLazyTestHooks,strSubstring=_unwrapFunctionWithPoly("substring",StrProto),UNIQUE_REGISTRY_ID="_urid";function _globalSymbolRegistry(){var e;return _polySymbols||(e=_getGlobalConfig(),_polySymbols=e.gblSym=e.gblSym||{k:{},s:{}}),_polySymbols}function polyNewSymbol(e){var t={description:asString(e),toString:function(){return SYMBOL+"("+e+")"}};return t[POLYFILL_TAG]=!0,t}function polySymbolFor(e){var t,n,r=_globalSymbolRegistry();return objHasOwn(r.k,e)||(t=polyNewSymbol(e),n=objKeys(r.s).length,t[UNIQUE_REGISTRY_ID]=function(){return n+"_"+t[TO_STRING]()},r.k[e]=t,r.s[t[UNIQUE_REGISTRY_ID]()]=asString(e)),r.k[e]}function polyGetKnownSymbol(e){_wellKnownSymbolCache=_wellKnownSymbolCache||{};e=_wellKnownSymbolMap[e];return e?_wellKnownSymbolCache[e]=_wellKnownSymbolCache[e]||polyNewSymbol(SYMBOL+"."+e):void 0}function _initTestHooks(){_globalLazyTestHooks=_getGlobalConfig()}function createCachedValue(e){return objDefineProp({toJSON:function(){return e}},"v",{value:e})}var _cachedGlobal,WINDOW="window";function _getGlobalInstFn(e,t){var n;return function(){return _globalLazyTestHooks||_initTestHooks(),(n=n&&!_globalLazyTestHooks.lzy?n:createCachedValue(safe(e,t).v)).v}}function getGlobal(e){return _globalLazyTestHooks||_initTestHooks(),(_cachedGlobal=_cachedGlobal&&!1!==e&&!_globalLazyTestHooks.lzy?_cachedGlobal:createCachedValue(safe(_getGlobalValue).v||NULL_VALUE)).v}function getInst(e,t){t=_cachedGlobal&&!1!==t?_cachedGlobal.v:getGlobal(t);return t&&t[e]?t[e]:e===WINDOW?getWindow():NULL_VALUE}function hasDocument(){return!!getDocument()}var getDocument=_getGlobalInstFn(getInst,["document"]);function hasWindow(){return!!getWindow()}var _symbol,_symbolFor,_iterSymbol$1,getWindow=_getGlobalInstFn(getInst,[WINDOW]),getNavigator=_getGlobalInstFn(getInst,["navigator"]);function _initSymbol(){return _symbol=createCachedValue(safe(getInst,[SYMBOL]).v)}function _getSymbolKey(e){var t=(_globalLazyTestHooks.lzy?0:_symbol)||_initSymbol();return t.v?t.v[e]:UNDEF_VALUE}function getKnownSymbol(e,t){var n=_wellKnownSymbolMap[e],r=(_globalLazyTestHooks||_initTestHooks(),(_globalLazyTestHooks.lzy?0:_symbol)||_initSymbol());return r.v?r.v[n||e]:t?UNDEF_VALUE:polyGetKnownSymbol(e)}function newSymbol(e,t){_globalLazyTestHooks||_initTestHooks();var n=(_globalLazyTestHooks.lzy?0:_symbol)||_initSymbol();return n.v?n.v(e):t?NULL_VALUE:polyNewSymbol(e)}function symbolFor(e){return _globalLazyTestHooks||_initTestHooks(),((_symbolFor=(_globalLazyTestHooks.lzy?0:_symbolFor)||createCachedValue(safe(_getSymbolKey,["for"]).v)).v||polySymbolFor)(e)}function isIterator(e){return!!e&&isFunction(e.next)}function isIterable(e){return!isStrictNullOrUndefined(e)&&isFunction(e[getKnownSymbol(3)])}function iterForOf(e,t,n){if(e&&(isIterator(e)||(e=e[(_iterSymbol$1=_iterSymbol$1||createCachedValue(getKnownSymbol(3))).v]?e[_iterSymbol$1.v]():null),isIterator(e))){var r=UNDEF_VALUE,_=UNDEF_VALUE;try{for(var o=0;!(_=e.next()).done&&-1!==t[CALL](n||e,_.value,o,e);)o++}catch(a){r={e:a},e["throw"]&&(_=NULL_VALUE,e["throw"](r))}finally{try{_&&!_.done&&e["return"]&&e["return"](_)}finally{if(r)throw r.e}}}}function fnApply(e,t,n){return e.apply(t,n)}function arrAppend(t,e){return!isUndefined(e)&&t&&(isArray(e)?fnApply(t.push,t,e):isIterator(e)||isIterable(e)?iterForOf(e,function(e){t.push(e)}):t.push(e)),t}function arrForEach(e,t,n){if(e)for(var r=e[LENGTH]>>>0,_=0;_<r&&!(_ in e&&-1===t[CALL](n||e,e[_],_,e));_++);}var _isProtoArray,arrIndexOf=_unwrapFunctionWithPoly("indexOf",ArrProto),objCreate=_pureAssign(_pureRef(ObjClass,"create"),polyObjCreate);function polyObjCreate(e){if(!e)return{};var t=typeof e;function n(){}return t!==OBJECT&&t!==FUNCTION&&throwTypeError("Prototype must be an Object or function: "+dumpObj(e)),n[PROTOTYPE]=e,new n}function objSetPrototypeOf(e,t){return(ObjClass.setPrototypeOf||function(n,e){var t;(_isProtoArray=_isProtoArray||createCachedValue(((t={})[__PROTO__]=[],t instanceof Array))).v?n[__PROTO__]=e:objForEachKey(e,function(e,t){return n[e]=t})})(e,t)}function _createCustomError(e,t,n){function r(){this[CONSTRUCTOR]=t,safe(objDefine,[this,NAME,{v:e,c:!0,e:!1}])}return safe(objDefine,[t,NAME,{v:e,c:!0,e:!1}]),(t=objSetPrototypeOf(t,n))[PROTOTYPE]=n===NULL_VALUE?objCreate(n):(r[PROTOTYPE]=n[PROTOTYPE],new r),t}function _setName(e,t){t&&(e[NAME]=t)}function createCustomError(_,o,e){var a=e||Error,i=a[PROTOTYPE][NAME],c=Error.captureStackTrace;return _createCustomError(_,function(){var e=this,t=arguments;try{safe(_setName,[a,_]);var n,r=fnApply(a,e,ArrSlice[CALL](t))||e;return r!==e&&(n=objGetPrototypeOf(e))!==objGetPrototypeOf(r)&&objSetPrototypeOf(r,n),c&&c(r,e[CONSTRUCTOR]),o&&o(r,t),r}finally{safe(_setName,[a,i])}},a)}function utcNow(){return(Date.now||polyUtcNow)()}function polyUtcNow(){return(new Date).getTime()}function _createTrimFn(t){return function(e){return isNullOrUndefined(e)&&throwTypeError("strTrim called ["+dumpObj(e)+"]"),e&&e.replace?e.replace(t,EMPTY):e}}var _fnToString,_objCtrFnString,_gblWindow,polyStrTrim=_createTrimFn(/^\s+|(?=\s)\s+$/g),strTrim=_unwrapFunctionWithPoly("trim",StrProto,polyStrTrim);function isPlainObject(e){if(!e||typeof e!==OBJECT)return!1;var t=!1;if(e!==(_gblWindow=_gblWindow||!hasWindow()||getWindow())){_objCtrFnString||(_fnToString=Function[PROTOTYPE][TO_STRING],_objCtrFnString=_fnToString[CALL](ObjClass));try{var n=objGetPrototypeOf(e),t=(t=!n)||(n=objHasOwnProperty(n,CONSTRUCTOR)?n[CONSTRUCTOR]:n)&&typeof n===FUNCTION&&_fnToString[CALL](n)===_objCtrFnString}catch(r){}}return t}var strIndexOf=_unwrapFunctionWithPoly("indexOf",StrProto),REF="ref",UNREF="unref",HAS_REF="hasRef",ENABLED="enabled";function _createTimerHandler(e,t,n){var r,_=!0,o=e?t(NULL_VALUE):NULL_VALUE;function a(){return _=!1,o&&o[UNREF]&&o[UNREF](),r}function i(){o&&n(o),o=NULL_VALUE}function c(){return o=t(o),_||a(),r}return(r={cancel:i,refresh:c})[HAS_REF]=function(){return o&&o[HAS_REF]?o[HAS_REF]():_},r[REF]=function(){return _=!0,o&&o[REF]&&o[REF](),r},r[UNREF]=a,{h:r=objDefineProp(r,ENABLED,{get:function(){return!!o},set:function(e){!e&&o&&i(),e&&!o&&c()}}),dn:function(){o=NULL_VALUE}}}function _createTimeoutWith(e,t,n){var r=isArray(t),_=r?t.length:0,o=(0<_?t[0]:r?UNDEF_VALUE:t)||setTimeout,a=(1<_?t[1]:UNDEF_VALUE)||clearTimeout,i=n[0],c=(n[0]=function(){c.dn(),fnApply(i,UNDEF_VALUE,ArrSlice[CALL](arguments))},_createTimerHandler(e,function(e){if(e){if(e.refresh)return e.refresh(),e;fnApply(a,UNDEF_VALUE,[e])}return fnApply(o,UNDEF_VALUE,n)},function(e){fnApply(a,UNDEF_VALUE,[e])}));return c.h}function scheduleTimeout(e,t){return _createTimeoutWith(!0,UNDEF_VALUE,ArrSlice[CALL](arguments))}var _a$3,strHasOwnProperty="hasOwnProperty",extendStaticsFn=function(e,t){return(extendStaticsFn=ObjClass$1.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t[strHasOwnProperty](n)&&(e[n]=t[n])})(e,t)};function __extendsFn(e,t){function n(){this.constructor=e}typeof t!==strShimFunction&&null!==t&&throwTypeError("Class extends value "+t+" is not a constructor or null"),extendStaticsFn(e,t),e[strShimPrototype]=null===t?objCreate(t):(n[strShimPrototype]=t[strShimPrototype],new n)}var Constructor="constructor",Prototype="prototype",strFunction="function",DynInstFuncTable="_dynInstFuncs",DynProxyTag="_isDynProxy",DynClassName="_dynClass",DynClassNamePrefix="_dynCls$",DynInstChkTag="_dynInstChk",DynAllowInstChkTag=DynInstChkTag,DynProtoDefaultOptions="_dfOpts",UnknownValue="_unknown_",str__Proto="__proto__",DynProtoBaseProto="_dyn"+str__Proto,DynProtoGlobalSettings="__dynProto$Gbl",DynProtoCurrent="_dynInstProto",strUseBaseInst="useBaseInst",strSetInstFuncs="setInstFuncs",Obj=Object,_objGetPrototypeOf=Obj.getPrototypeOf,_objGetOwnProps=Obj.getOwnPropertyNames,_gbl=getGlobal(),_gblInst=_gbl[DynProtoGlobalSettings]||(_gbl[DynProtoGlobalSettings]={o:((_a$3={})[strSetInstFuncs]=!0,_a$3[strUseBaseInst]=!0,_a$3),n:1e3});function _isObjectOrArrayPrototype(e){return e&&(e===Obj[Prototype]||e===Array[Prototype])}function _isObjectArrayOrFunctionPrototype(e){return _isObjectOrArrayPrototype(e)||e===Function[Prototype]}function _getObjProto(e){if(e){if(_objGetPrototypeOf)return _objGetPrototypeOf(e);var t=e[str__Proto]||e[Prototype]||(e[Constructor]?e[Constructor][Prototype]:null),n=e[DynProtoBaseProto]||t;objHasOwnProperty(e,DynProtoBaseProto)||(delete e[DynProtoCurrent],n=e[DynProtoBaseProto]=e[DynProtoCurrent]||e[DynProtoBaseProto],e[DynProtoCurrent]=t)}return n}function _forEachProp(e,t){var n=[];if(_objGetOwnProps)n=_objGetOwnProps(e);else for(var r in e)"string"==typeof r&&objHasOwnProperty(e,r)&&n.push(r);if(n&&0<n.length)for(var _=0;_<n.length;_++)t(n[_])}function _isDynamicCandidate(e,t,n){return t!==Constructor&&typeof e[t]===strFunction&&(n||objHasOwnProperty(e,t))&&t!==str__Proto&&t!==Prototype}function _throwTypeError(e){throwTypeError("DynamicProto: "+e)}function _getInstanceFuncs(t){var n=objCreate(null);return _forEachProp(t,function(e){!n[e]&&_isDynamicCandidate(t,e,!1)&&(n[e]=t[e])}),n}function _hasVisited(e,t){for(var n=e.length-1;0<=n;n--)if(e[n]===t)return!0;return!1}function _getBaseFuncs(e,t,n,o){function r(e,t,n){var r,_=t[n];return _[DynProxyTag]&&o&&!1!==(r=e[DynInstFuncTable]||{})[DynAllowInstChkTag]&&(_=(r[t[DynClassName]]||{})[n]||_),function(){return _.apply(e,arguments)}}for(var _=objCreate(null),a=(_forEachProp(n,function(e){_[e]=r(t,n,e)}),_getObjProto(e)),i=[];a&&!_isObjectArrayOrFunctionPrototype(a)&&!_hasVisited(i,a);)_forEachProp(a,function(e){!_[e]&&_isDynamicCandidate(a,e,!_objGetPrototypeOf)&&(_[e]=r(t,a,e))}),i.push(a),a=_getObjProto(a);return _}function _getInstFunc(e,t,n,r){var _=null;if(e&&objHasOwnProperty(n,DynClassName)){var o=e[DynInstFuncTable]||objCreate(null);if((_=(o[n[DynClassName]]||objCreate(null))[t])||_throwTypeError("Missing ["+t+"] "+strFunction),!_[DynInstChkTag]&&!1!==o[DynAllowInstChkTag]){for(var a=!objHasOwnProperty(e,t),i=_getObjProto(e),c=[];a&&i&&!_isObjectArrayOrFunctionPrototype(i)&&!_hasVisited(c,i);){var s=i[t];if(s){a=s===r;break}c.push(i),i=_getObjProto(i)}try{a&&(e[t]=_),_[DynInstChkTag]=1}catch(u){o[DynAllowInstChkTag]=!1}}}return _}function _getProtoFunc(e,t,n){var r=t[e];return typeof(r=r===n?_getObjProto(t)[e]:r)!==strFunction&&_throwTypeError("["+e+"] is not a "+strFunction),r}function _populatePrototype(_,e,o,a,t){var n,i;_isObjectOrArrayPrototype(_)||_isObjectOrArrayPrototype(n=o[DynInstFuncTable]=o[DynInstFuncTable]||objCreate(null))||(i=n[e]=n[e]||objCreate(null),!1!==n[DynAllowInstChkTag]&&(n[DynAllowInstChkTag]=!!t),_isObjectOrArrayPrototype(i)||_forEachProp(o,function(e){var t,n,r;_isDynamicCandidate(o,e,!1)&&o[e]!==a[e]&&(i[e]=o[e],delete o[e],objHasOwnProperty(_,e)&&(!_[e]||_[e][DynProxyTag])||(_[e]=(t=_,n=e,(r=function(){return(_getInstFunc(this,n,t,r)||_getProtoFunc(n,t,r)).apply(this,arguments)})[DynProxyTag]=1,r)))}))}function _checkPrototype(e,t){if(_objGetPrototypeOf){for(var n=[],r=_getObjProto(t);r&&!_isObjectArrayOrFunctionPrototype(r)&&!_hasVisited(n,r);){if(r===e)return!0;n.push(r),r=_getObjProto(r)}return!1}return!0}function _getObjName(e,t){return objHasOwnProperty(e,Prototype)?e.name||t||UnknownValue:((e||{})[Constructor]||{}).name||t||UnknownValue}function dynamicProto(e,t,n,r){objHasOwnProperty(e,Prototype)||_throwTypeError("theClass is an invalid class definition.");var _=e[Prototype],o=(_checkPrototype(_,t)||_throwTypeError("["+_getObjName(e)+"] not in hierarchy of ["+_getObjName(t)+"]"),null),e=(objHasOwnProperty(_,DynClassName)?o=_[DynClassName]:(o=DynClassNamePrefix+_getObjName(e,"_")+"$"+_gblInst.n,_gblInst.n++,_[DynClassName]=o),dynamicProto[DynProtoDefaultOptions]),a=!!e[strUseBaseInst],i=(a&&r&&r[strUseBaseInst]!==undefined&&(a=!!r[strUseBaseInst]),_getInstanceFuncs(t)),a=(n(t,_getBaseFuncs(_,t,i,a)),!!_objGetPrototypeOf&&!!e[strSetInstFuncs]);_populatePrototype(_,o,t,i,!1!==(a=a&&r?!!r[strSetInstFuncs]:a))}dynamicProto[DynProtoDefaultOptions]=_gblInst.o;var aggregationErrorType,_DYN_TO_LOWER_CASE="toLowerCase",_DYN_BLK_VAL="blkVal",_DYN_LENGTH$1="length",_DYN_RD_ONLY="rdOnly",_DYN_NOTIFY="notify",_DYN_WARN_TO_CONSOLE="warnToConsole",_DYN_THROW_INTERNAL="throwInternal",_DYN_SET_DF="setDf",_DYN_WATCH="watch",_DYN_LOGGER="logger",_DYN_APPLY="apply",_DYN_PUSH="push",_DYN_SPLICE="splice",_DYN_HDLR="hdlr",_DYN_CANCEL="cancel",_DYN_INITIALIZE="initialize",_DYN_IDENTIFIER="identifier",_DYN_IS_INITIALIZED="isInitialized",_DYN_GET_PLUGIN="getPlugin",_DYN_NAME$1="name",_DYN_TIME="time",_DYN_PROCESS_NEXT="processNext",_DYN_GET_PROCESS_TEL_CONT2="getProcessTelContext",_DYN_UNLOAD="unload",_DYN_LOGGING_LEVEL_CONSOL4="loggingLevelConsole",_DYN_CREATE_NEW="createNew",_DYN_TEARDOWN="teardown",_DYN_MESSAGE_ID="messageId",_DYN_MESSAGE="message",_DYN_IS_ASYNC="isAsync",_DYN_DIAG_LOG="diagLog",_DYN__DO_TEARDOWN="_doTeardown",_DYN_UPDATE="update",_DYN_GET_NEXT="getNext",_DYN_SET_NEXT_PLUGIN="setNextPlugin",_DYN_USER_AGENT="userAgent",_DYN_SPLIT="split",_DYN_NODE_TYPE="nodeType",_DYN_REPLACE="replace",_DYN_LOG_INTERNAL_MESSAGE="logInternalMessage",_DYN_TYPE="type",_DYN_HANDLER="handler",_DYN_IS_CHILD_EVT="isChildEvt",_DYN_GET_CTX="getCtx",_DYN_SET_CTX="setCtx",_DYN_COMPLETE="complete";function throwAggregationError(e,t){aggregationErrorType=aggregationErrorType||createCustomError("AggregationError",function(e,t){1<t[_DYN_LENGTH$1]&&(e.errors=t[1])});var n=e||"One or more errors occurred.";throw arrForEach(t,function(e,t){n+="\n".concat(t," > ").concat(dumpObj(e))}),new aggregationErrorType(n,t||[])}var UNDEFINED_VALUE=undefined,STR_EMPTY="",STR_CORE="core",STR_DISABLED="disabled",STR_EXTENSION_CONFIG="extensionConfig",STR_PROCESS_TELEMETRY="processTelemetry",STR_PRIORITY="priority",STR_GET_PERF_MGR="getPerfMgr",STR_NOT_DYNAMIC_ERROR="Not dynamic - ",rCamelCase=/-([a-z])/g,rNormalizeInvalid=/([^\w\d_$])/g,rLeadingNumeric=/^(\d+[\w\d_$])/;function isNotNullOrUndefined(e){return!isNullOrUndefined(e)}function normalizeJsName(e){return e&&isString(e)?(e=(e=e[_DYN_REPLACE](rCamelCase,function(e,t){return t.toUpperCase()}))[_DYN_REPLACE](rNormalizeInvalid,"_"))[_DYN_REPLACE](rLeadingNumeric,function(e,t){return"_"+t}):e}function strContains(e,t){return!(!e||!t)&&-1!==strIndexOf(e,t)}function getExceptionName(e){return isError(e)?e[_DYN_NAME$1]:STR_EMPTY}function _createProxyFunction(e,t){var n=null,r=null;return isFunction(e)?n=e:r=e,function(){var e=arguments;if(r=n?n():r)return r[t][_DYN_APPLY](r,e)}}function proxyFunctionAs(e,t,n,r,_){e&&t&&n&&(!1===_&&!isUndefined(e[t])||(e[t]=_createProxyFunction(n,r)))}function objExtend(e,t,n,r,_,o){var a=arguments,i=a[0]||{},c=a[_DYN_LENGTH$1],s=!1,u=1;for(0<c&&isBoolean(i)&&(s=i,i=a[u]||{},u++),isObject(i)||(i={});u<c;u++){var l,N,E,D,f=a[u],T=isArray(f),A=isObject(f);for(l in f)(T&&l in f||A&&objHasOwn(f,l))&&(N=f[l],E=void 0,s&&N&&((E=isArray(N))||isPlainObject(N))&&(D=i[l],E?isArray(D)||(D=[]):isPlainObject(D)||(D={}),N=objExtend(s,D,N)),N!==undefined&&(i[l]=N))}return i}var strLocation="location",strConsole="console",strJSON="JSON",strCrypto="crypto",strMsCrypto="msCrypto",strMsie="msie",strTrident="trident/",_isTrident=null,_navUserAgentCheck=null,_enableMocks=!1;function getLocation(e){if(e&&_enableMocks){e=getInst("__mockLocation");if(e)return e}return typeof location===strShimObject&&location?location:getInst(strLocation)}function getConsole(){return typeof console!==strShimUndefined?console:getInst(strConsole)}function hasJSON(){return!!(typeof JSON===strShimObject&&JSON||null!==getInst(strJSON))}function getJSON(){return hasJSON()?JSON||getInst(strJSON):null}function getCrypto(){return getInst(strCrypto)}function getMsCrypto(){return getInst(strMsCrypto)}function isIE(){var e=getNavigator();return!e||e[_DYN_USER_AGENT]===_navUserAgentCheck&&null!==_isTrident||(e=((_navUserAgentCheck=e[_DYN_USER_AGENT])||STR_EMPTY)[_DYN_TO_LOWER_CASE](),_isTrident=strContains(e,strMsie)||strContains(e,strTrident)),_isTrident}var UInt32Mask=4294967296,MaxUInt32=4294967295,SEED1=123456789,SEED2=987654321,_mwcSeeded=!1,_mwcW=SEED1,_mwcZ=SEED2;function _mwcSeed(e){e<0&&(e>>>=0),_mwcW=SEED1+e&MaxUInt32,_mwcZ=SEED2-e&MaxUInt32,_mwcSeeded=!0}function _autoSeedMwc(){try{var e=2147483647&utcNow();_mwcSeed((Math.random()*UInt32Mask^e)+e)}catch(t){}}function random32(e){var t=0,n=getCrypto()||getMsCrypto();return 0===(t=n&&n.getRandomValues?n.getRandomValues(new Uint32Array(1))[0]&MaxUInt32:t)&&isIE()&&(_mwcSeeded||_autoSeedMwc(),t=mwcRandom32()&MaxUInt32),0===t&&(t=Math.floor(UInt32Mask*Math.random()|0)),e||(t>>>=0),t}function mwcRandom32(e){var t=((_mwcZ=36969*(65535&_mwcZ)+(_mwcZ>>16)&MaxUInt32)<<16)+(65535&(_mwcW=18e3*(65535&_mwcW)+(_mwcW>>16)&MaxUInt32))>>>0&MaxUInt32|0;return e||(t>>>=0),t}function newId(e){void 0===e&&(e=22);for(var t=random32()>>>0,n=0,r=STR_EMPTY;r[_DYN_LENGTH$1]<e;)r+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"[0|63&t]||"",t>>>=6,5==++n&&(t=(random32()<<2&4294967295|3&t)>>>0,n=0);return r}var version="3.3.1",instanceName="."+newId(6),_dataUid=0;function _canAcceptData(e){return 1===e[_DYN_NODE_TYPE]||9===e[_DYN_NODE_TYPE]||!+e[_DYN_NODE_TYPE]}function _getCache(e,t){var n=t[e.id];if(!n){n={};try{_canAcceptData(t)&&objDefine(t,e.id,{e:!1,v:n})}catch(r){}}return n}function createUniqueNamespace(e,t){return normalizeJsName(e+_dataUid+++((t=void 0!==t&&t)?"."+version:STR_EMPTY)+instanceName)}function createElmNodeData(e){var o={id:createUniqueNamespace("_aiData-"+(e||STR_EMPTY)+"."+version),accept:function(e){return _canAcceptData(e)},get:function(e,t,n,r){var _=e[o.id];return _?_[normalizeJsName(t)]:(r&&((_=_getCache(o,e))[normalizeJsName(t)]=n),n)},kill:function(e,t){if(e&&e[t])try{delete e[t]}catch(n){}}};return o}function _isConfigDefaults(e){return e&&isObject(e)&&(e.isVal||e.fb||objHasOwn(e,"v")||objHasOwn(e,"mrg")||objHasOwn(e,"ref")||e.set)}function _getDefault(e,t,n){var r,_=n.dfVal||isDefined;if(t&&n.fb){var o=n.fb;isArray(o)||(o=[o]);for(var a=0;a<o[_DYN_LENGTH$1];a++){var i=o[a],c=t[i];if(_(c)?r=c:e&&(_(c=e.cfg[i])&&(r=c),e.set(e.cfg,asString(i),c)),_(r))break}}return!_(r)&&_(n.v)?n.v:r}function _resolveDefaultValue(n,r,e){var _,t=e;return(t=e&&_isConfigDefaults(e)?_getDefault(n,r,e):t)&&(_isConfigDefaults(t)&&(t=_resolveDefaultValue(n,r,t)),isArray(t)?(_=[])[_DYN_LENGTH$1]=t[_DYN_LENGTH$1]:isPlainObject(t)&&(_={}),_&&(objForEachKey(t,function(e,t){t&&_isConfigDefaults(t)&&(t=_resolveDefaultValue(n,r,t)),_[e]=t}),t=_)),t}function _applyDefaultValue(n,e,t,r){var _,o,a,i,c,s,u=r,u=_isConfigDefaults(u)?(_=u.isVal,o=u.set,c=u[_DYN_RD_ONLY],l=u[_DYN_BLK_VAL],a=u.mrg,!(i=u.ref)&&isUndefined(i)&&(i=!!a),_getDefault(n,e,u)):r,r=(l&&n[_DYN_BLK_VAL](e,t),!0),l=e[t];!l&&isNullOrUndefined(l)||(s=l,r=!1,_&&s!==u&&!_(s)&&(s=u,r=!0),o&&(r=(s=o(s,u,e))===u)),r?s=u&&_resolveDefaultValue(n,e,u):(isPlainObject(s)||isArray(u))&&a&&u&&(isPlainObject(u)||isArray(u))&&objForEachKey(u,function(e,t){_applyDefaultValue(n,s,e,t)}),n.set(e,t,s),i&&n.ref(e,t),c&&n[_DYN_RD_ONLY](e,t)}var CFG_HANDLER_LINK=symbolFor("[[ai_dynCfg_1]]"),BLOCK_DYNAMIC=symbolFor("[[ai_blkDynCfg_1]]"),FORCE_DYNAMIC=symbolFor("[[ai_frcDynCfg_1]]");function _cfgDeepCopy(e){var n;return e&&(isArray(e)?(n=[])[_DYN_LENGTH$1]=e[_DYN_LENGTH$1]:isPlainObject(e)&&(n={}),n)?(objForEachKey(e,function(e,t){n[e]=_cfgDeepCopy(t)}),n):e}function getDynamicConfigHandler(e){if(e){var t=e[CFG_HANDLER_LINK]||e;if(t.cfg&&(t.cfg===e||t.cfg[CFG_HANDLER_LINK]===t))return t}return null}function blockDynamicConversion(e){if(e&&(isPlainObject(e)||isArray(e)))try{e[BLOCK_DYNAMIC]=!0}catch(t){}return e}function _canMakeDynamic(e,t,n){var r=!1;return!n||e[t.blkVal]||(r=n[FORCE_DYNAMIC])||n[BLOCK_DYNAMIC]?r:isPlainObject(n)||isArray(n)}function throwInvalidAccess(e){throwTypeError("InvalidAccess:"+e)}var arrayMethodsToPatch=["push","pop","shift","unshift","splice"],_throwDynamicError=function(e,t,n,r){e&&e[_DYN_THROW_INTERNAL](3,108,"".concat(n," [").concat(t,"] failed - ")+dumpObj(r))};function _patchArray(_,o,a){isArray(o)&&arrForEach(arrayMethodsToPatch,function(e){var r=o[e];o[e]=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=r[_DYN_APPLY](this,e);return _makeDynamicObject(_,o,a,"Patching"),n}})}function _getOwnPropGetter(e,t){e=objGetOwnPropertyDescriptor(e,t);return e&&e.get}function _createDynamicProperty(_,o,a,i){var c={n:a,h:[],trk:function(e){e&&e.fn&&(-1===arrIndexOf(c.h,e)&&c.h[_DYN_PUSH](e),_.trk(e,c))},clr:function(e){e=arrIndexOf(c.h,e);-1!==e&&c.h[_DYN_SPLICE](e,1)}},s=!0,u=!1;function l(){s&&(u=u||_canMakeDynamic(l,_,i),i&&!i[CFG_HANDLER_LINK]&&u&&(i=_makeDynamicObject(_,i,a,"Converting")),s=!1);var e=_.act;return e&&c.trk(e),i}l[_.prop]={chng:function(){_.add(c)}},objDefine(o,c.n,{g:l,s:function(t){if(i!==t){l[_.ro]&&!_.upd&&throwInvalidAccess("["+a+"] is read-only:"+dumpObj(o)),s&&(u=u||_canMakeDynamic(l,_,i),s=!1);var e,n=u&&l[_.rf];if(u)if(n){objForEachKey(i,function(e){i[e]=t?t[e]:UNDEFINED_VALUE});try{objForEachKey(t,function(e,t){_setDynamicProperty(_,i,e,t)}),t=i}catch(r){_throwDynamicError((_.hdlr||{})[_DYN_LOGGER],a,"Assigning",r),u=!1}}else i&&i[CFG_HANDLER_LINK]&&objForEachKey(i,function(e){var e=_getOwnPropGetter(i,e);e&&(e=e[_.prop])&&e.chng()});t!==i&&(e=t&&_canMakeDynamic(l,_,t),!n&&e&&(t=_makeDynamicObject(_,t,a,"Converting")),i=t,u=e),_.add(c)}}})}function _setDynamicProperty(e,t,n,r){var _;return t&&((_=_getOwnPropGetter(t,n))&&_[e.prop]?t[n]=r:_createDynamicProperty(e,t,n,r)),t}function _setDynamicPropertyState(e,t,n,r){if(t){var _=_getOwnPropGetter(t,n),o=_&&!!_[e.prop],a=r&&r[0],i=r&&r[1],r=r&&r[2];if(!o){if(r)try{blockDynamicConversion(t)}catch(c){_throwDynamicError((e.hdlr||{})[_DYN_LOGGER],n,"Blocking",c)}try{_setDynamicProperty(e,t,n,t[n]),_=_getOwnPropGetter(t,n)}catch(c){_throwDynamicError((e.hdlr||{})[_DYN_LOGGER],n,"State",c)}}a&&(_[e.rf]=a),i&&(_[e.ro]=i),r&&(_[e.blkVal]=!0)}return t}function _makeDynamicObject(n,r,e,t){try{objForEachKey(r,function(e,t){_setDynamicProperty(n,r,e,t)}),r[CFG_HANDLER_LINK]||(objDefineProp(r,CFG_HANDLER_LINK,{get:function(){return n[_DYN_HDLR]}}),_patchArray(n,r,e))}catch(_){_throwDynamicError((n.hdlr||{})[_DYN_LOGGER],e,t,_)}return r}var symPrefix="[[ai_",symPostfix="]]";function _createState(o){var a,e=newSymbol(symPrefix+"get"+o.uid+symPostfix),t=newSymbol(symPrefix+"ro"+o.uid+symPostfix),n=newSymbol(symPrefix+"rf"+o.uid+symPostfix),r=newSymbol(symPrefix+"blkVal"+o.uid+symPostfix),i=newSymbol(symPrefix+"dtl"+o.uid+symPostfix),_=null,c=null;function s(t,e){var n=a.act;try{(a.act=t)&&t[i]&&(arrForEach(t[i],function(e){e.clr(t)}),t[i]=[]),e({cfg:o.cfg,set:o.set.bind(o),setDf:o[_DYN_SET_DF].bind(o),ref:o.ref.bind(o),rdOnly:o[_DYN_RD_ONLY].bind(o)})}catch(_){var r=o[_DYN_LOGGER];throw r&&r[_DYN_THROW_INTERNAL](1,107,dumpObj(_)),_}finally{a.act=n||null}}function u(){if(_){var e=_,n=(_=null,c&&c[_DYN_CANCEL](),c=null,[]);if(arrForEach(e,function(t){if(t&&(t[i]&&(arrForEach(t[i],function(e){e.clr(t)}),t[i]=null),t.fn))try{s(t,t.fn)}catch(e){n[_DYN_PUSH](e)}}),_)try{u()}catch(t){n[_DYN_PUSH](t)}0<n[_DYN_LENGTH$1]&&throwAggregationError("Watcher error(s): ",n)}}return(e={prop:e,ro:t,rf:n})[_DYN_BLK_VAL]=r,e[_DYN_HDLR]=o,e.add=function(e){if(e&&0<e.h[_DYN_LENGTH$1]){_=_||[],c=c||scheduleTimeout(function(){c=null,u()},0);for(var t=0;t<e.h[_DYN_LENGTH$1];t++){var n=e.h[t];n&&-1===arrIndexOf(_,n)&&_[_DYN_PUSH](n)}}},e[_DYN_NOTIFY]=u,e.use=s,e.trk=function(e,t){e&&(e=e[i]=e[i]||[],-1===arrIndexOf(e,t)&&e[_DYN_PUSH](t))},a=e}function _createAndUseHandler(e,t){var n={fn:t,rm:function(){n.fn=null,t=e=null}};return objDefine(n,"toJSON",{v:function(){return"WatcherHandler"+(n.fn?"":"[X]")}}),e.use(n,t),n}function _createDynamicHandler(_,e,t){var n=getDynamicConfigHandler(e);if(n)return n;var o,n=createUniqueNamespace("dyncfg",!0),t=e&&!1!==t?e:_cfgDeepCopy(e),r=((e={uid:null,cfg:t})[_DYN_LOGGER]=_,e[_DYN_NOTIFY]=function(){o[_DYN_NOTIFY]()},e.set=function(e,t,n){try{e=_setDynamicProperty(o,e,t,n)}catch(r){_throwDynamicError(_,t,"Setting value",r)}return e[t]},e[_DYN_SET_DF]=function(n,e){return e&&objForEachKey(e,function(e,t){_applyDefaultValue(r,n,e,t)}),n},e[_DYN_WATCH]=function(e){return _createAndUseHandler(o,e)},e.ref=function(e,t){return _setDynamicPropertyState(o,e,t,((e={})[0]=!0,e))[t]},e[_DYN_RD_ONLY]=function(e,t){return _setDynamicPropertyState(o,e,t,((e={})[1]=!0,e))[t]},e[_DYN_BLK_VAL]=function(e,t){return _setDynamicPropertyState(o,e,t,((e={})[2]=!0,e))[t]},e._block=function(n,r){o.use(null,function(e){var t=o.upd;try{isUndefined(r)||(o.upd=r),n(e)}finally{o.upd=t}})},e);return objDefine(r,"uid",{c:!1,e:!1,w:!1,v:n}),_makeDynamicObject(o=_createState(r),t,"config","Creating"),r}function _logInvalidAccess(e,t){e?(e[_DYN_WARN_TO_CONSOLE](t),e[_DYN_THROW_INTERNAL](2,108,t)):throwInvalidAccess(t)}function createDynamicConfig(e,t,n,r){n=_createDynamicHandler(n,e||{},r);return t&&n[_DYN_SET_DF](n.cfg,t),n}function onConfigChange(e,t,n){var r=e[CFG_HANDLER_LINK]||e;return!r.cfg||r.cfg!==e&&r.cfg[CFG_HANDLER_LINK]!==r?(_logInvalidAccess(n,STR_NOT_DYNAMIC_ERROR+dumpObj(e)),createDynamicConfig(e,null,n)[_DYN_WATCH](t)):r[_DYN_WATCH](t)}function cfgDfMerge(e){return{mrg:!0,v:e}}function cfgDfValidate(e,t,n){return{fb:n,isVal:e,v:t}}function cfgDfFunc(e){return{isVal:isFunction,v:e||null}}function cfgDfString(e){return{isVal:isString,v:asString(e||STR_EMPTY)}}var _a$2,_aiNamespace=null;function _getExtensionNamespace(){var e=getInst("Microsoft");return _aiNamespace=e?e.ApplicationInsights:_aiNamespace}function getDebugExt(e){var t=_aiNamespace;return(t=t||!0===e.disableDbgExt?t:_aiNamespace||_getExtensionNamespace())?t.ChromeDbgExt:null}var STR_WARN_TO_CONSOLE="warnToConsole",AiNonUserActionablePrefix="AI (Internal): ",AiUserActionablePrefix="AI: ",AIInternalMessagePrefix="AITR_",defaultValues$2={loggingLevelConsole:0,loggingLevelTelemetry:1,maxMessageLimit:25,enableDebug:!1},_logFuncs=((_a$2={})[0]=null,_a$2[1]="errorToConsole",_a$2[2]=STR_WARN_TO_CONSOLE,_a$2[3]="debugToConsole",_a$2);function _sanitizeDiagnosticText(e){return e?'"'+e[_DYN_REPLACE](/\"/g,STR_EMPTY)+'"':STR_EMPTY}function _logToConsole(e,t){var n,r=getConsole();r&&(n="log",r[e]&&(n=e),isFunction(r[n])&&r[n](t))}var _InternalLogMessage=function(){function e(e,t,n,r){void 0===n&&(n=!1),this[_DYN_MESSAGE_ID]=e,this[_DYN_MESSAGE]=(n?AiUserActionablePrefix:AiNonUserActionablePrefix)+e;n=STR_EMPTY,hasJSON()&&(n=getJSON().stringify(r)),e=(t?" message:"+_sanitizeDiagnosticText(t):STR_EMPTY)+(r?" props:"+_sanitizeDiagnosticText(n):STR_EMPTY);this[_DYN_MESSAGE]+=e}return e.dataType="MessageData",e}();function safeGetLogger(e,t){return(e||{})[_DYN_LOGGER]||new DiagnosticLogger(t)}var DiagnosticLogger=function(){function e(r){this.identifier="DiagnosticLogger",this.queue=[];var c,_,s,u,t,l=0,N={};dynamicProto(e,this,function(o){function a(e,t){var n,r;s<=l||(r=!0,n=AIInternalMessagePrefix+t[_DYN_MESSAGE_ID],N[n]?r=!1:N[n]=!0,r&&(e<=_&&(o.queue[_DYN_PUSH](t),l++,i(1===e?"error":"warn",t)),l===s&&(r=new _InternalLogMessage(23,n="Internal events throttle limit per PageView reached for this app.",!1),o.queue[_DYN_PUSH](r),1===e?o.errorToConsole(n):o[_DYN_WARN_TO_CONSOLE](n))))}function i(e,t){var n=getDebugExt(r||{});n&&n[_DYN_DIAG_LOG]&&n[_DYN_DIAG_LOG](e,t)}t=onConfigChange(createDynamicConfig(r||{},defaultValues$2,o).cfg,function(e){e=e.cfg;c=e[_DYN_LOGGING_LEVEL_CONSOL4],_=e.loggingLevelTelemetry,s=e.maxMessageLimit,u=e.enableDebug}),o.consoleLoggingLevel=function(){return c},o[_DYN_THROW_INTERNAL]=function(e,t,n,r,_){t=new _InternalLogMessage(t,n,_=void 0!==_&&_,r);if(u)throw dumpObj(t);n=_logFuncs[e]||STR_WARN_TO_CONSOLE;isUndefined(t[_DYN_MESSAGE])?i("throw"+(1===e?"Critical":"Warning"),t):(_?(r=+t[_DYN_MESSAGE_ID],!N[r]&&e<=c&&(o[n](t[_DYN_MESSAGE]),N[r]=!0)):e<=c&&o[n](t[_DYN_MESSAGE]),a(e,t))},o.debugToConsole=function(e){_logToConsole("debug",e),i("warning",e)},o[_DYN_WARN_TO_CONSOLE]=function(e){_logToConsole("warn",e),i("warning",e)},o.errorToConsole=function(e){_logToConsole("error",e),i("error",e)},o.resetInternalMessageCount=function(){l=0,N={}},o[_DYN_LOG_INTERNAL_MESSAGE]=a,o[_DYN_UNLOAD]=function(e){t&&t.rm(),t=null}})}return e.__ieDyn=1,e}();function _getLogger(e){return e||new DiagnosticLogger}function _throwInternal(e,t,n,r,_,o){void 0===o&&(o=!1),_getLogger(e)[_DYN_THROW_INTERNAL](t,n,r,_,o)}var strExecutionContextKey="ctx",strParentContextKey="ParentContextKey",strChildrenContextKey="ChildrenContextKey",PerfEvent=function(){function o(e,t,n){var r,_=this;_.start=utcNow(),_[_DYN_NAME$1]=e,_[_DYN_IS_ASYNC]=n,_[_DYN_IS_CHILD_EVT]=function(){return!1},isFunction(t)&&objDefine(_,"payload",{g:function(){return!r&&isFunction(t)&&(r=t(),t=null),r}}),_[_DYN_GET_CTX]=function(e){return e?(e===o[strParentContextKey]||e===o[strChildrenContextKey]?_:_[strExecutionContextKey]||{})[e]:null},_[_DYN_SET_CTX]=function(e,t){e&&(e===o[strParentContextKey]?(_[e]||(_[_DYN_IS_CHILD_EVT]=function(){return!0}),_[e]=t):e===o[strChildrenContextKey]?_[e]=t:(_[strExecutionContextKey]=_[strExecutionContextKey]||{})[e]=t)},_[_DYN_COMPLETE]=function(){var e=0,t=_[_DYN_GET_CTX](o[strChildrenContextKey]);if(isArray(t))for(var n=0;n<t[_DYN_LENGTH$1];n++){var r=t[n];r&&(e+=r[_DYN_TIME])}_[_DYN_TIME]=utcNow()-_.start,_.exTime=_[_DYN_TIME]-e,_[_DYN_COMPLETE]=function(){}}}return o.ParentContextKey="parent",o.ChildrenContextKey="childEvts",o}(),doPerfActiveKey="CoreUtils.doPerf";function doPerf(e,t,n,r,_){if(e)if(e=e[STR_GET_PERF_MGR]?e[STR_GET_PERF_MGR]():e){var o,a=void 0,i=e[_DYN_GET_CTX](doPerfActiveKey);try{if(a=e.create(t(),r,_))return i&&a[_DYN_SET_CTX]&&(a[_DYN_SET_CTX](PerfEvent[strParentContextKey],i),i[_DYN_GET_CTX]&&i[_DYN_SET_CTX]&&((o=i[_DYN_GET_CTX](PerfEvent[strChildrenContextKey]))||(o=[],i[_DYN_SET_CTX](PerfEvent[strChildrenContextKey],o)),o[_DYN_PUSH](a))),e[_DYN_SET_CTX](doPerfActiveKey,a),n(a)}catch(c){a&&a[_DYN_SET_CTX]&&a[_DYN_SET_CTX]("exception",c)}finally{a&&e.fire(a),e[_DYN_SET_CTX](doPerfActiveKey,i)}}return n()}var pluginStateData=createElmNodeData("plugin");function _getPluginState(e){return pluginStateData.get(e,"state",{},!0)}function unloadComponents(n,r,_,e){var o=0;return function a(){for(;o<n[_DYN_LENGTH$1];){var e=n[o++];if(e){var t=e._doUnload||e[_DYN__DO_TEARDOWN];if(isFunction(t)&&!0===t.call(e,r,_,a))return!0}}}()}var _a$1,strTelemetryPluginChain="TelemetryPluginChain",strHasRunFlags="_hasRun",strGetTelCtx="_getTelCtx",_chainId=0;function _getNextProxyStart(e,t,n){for(;e;){if(e[_DYN_GET_PLUGIN]()===n)return e;e=e[_DYN_GET_NEXT]()}return createTelemetryProxyChain([n],t.config||{},t)}function _createInternalContext(e,o,n,t){var r=null,_=[],a=(o=o||createDynamicConfig({},null,n[_DYN_LOGGER]),null!==t&&(r=t?_getNextProxyStart(e,n,t):e),{_next:function(){var e,t=r;return r=t?t[_DYN_GET_NEXT]():null,t||(e=_)&&0<e[_DYN_LENGTH$1]&&(arrForEach(e,function(e){try{e.func.call(e.self,e.args)}catch(t){_throwInternal(n[_DYN_LOGGER],2,73,"Unexpected Exception during onComplete - "+dumpObj(t))}}),_=[]),t},ctx:{core:function(){return n},diagLog:function(){return safeGetLogger(n,o.cfg)},getCfg:function(){return o.cfg},getExtCfg:function(e,t){var r=i(e,!0);return t&&objForEachKey(t,function(e,t){var n;!isNullOrUndefined(r[e])||!(n=o.cfg[e])&&isNullOrUndefined(n)||(r[e]=n),_applyDefaultValue(o,r,e,t)}),o[_DYN_SET_DF](r,t)},getConfig:function(e,t,n){void 0===n&&(n=!1);var r,e=i(e,!1),_=o.cfg;return!e||!e[t]&&isNullOrUndefined(e[t])?!_[t]&&isNullOrUndefined(_[t])||(r=_[t]):r=e[t],r||!isNullOrUndefined(r)?r:n},hasNext:function(){return!!r},getNext:function(){return r},setNext:function(e){r=e},iterate:function(e){for(;t=a._next();){var t=t[_DYN_GET_PLUGIN]();t&&e(t)}},onComplete:function(e,t){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];e&&_[_DYN_PUSH]({func:e,self:isUndefined(t)?a.ctx:t,args:n})}}});function i(e,t){var n,r=null,_=o.cfg;return _&&e&&(n=_[STR_EXTENSION_CONFIG],_[STR_EXTENSION_CONFIG]=n=!n&&t?{}:n,(n=o.ref(_,STR_EXTENSION_CONFIG))&&(r=n[e],n[e]=r=!r&&t?{}:r,r=o.ref(n,e))),r}return a}function createProcessTelemetryContext(e,t,n,r){var _=createDynamicConfig(t),o=_createInternalContext(e,_,n,r),a=o.ctx;return a[_DYN_PROCESS_NEXT]=function(e){var t=o._next();return t&&t[STR_PROCESS_TELEMETRY](e,a),!t},a[_DYN_CREATE_NEW]=function(e,t){return createProcessTelemetryContext((e=isArray(e=void 0===e?null:e)?createTelemetryProxyChain(e,_.cfg,n,t):e)||a[_DYN_GET_NEXT](),_.cfg,n,t)},a}function createProcessTelemetryUnloadContext(e,n,t){var r=createDynamicConfig(n.config),_=_createInternalContext(e,r,n,t),o=_.ctx;return o[_DYN_PROCESS_NEXT]=function(e){var t=_._next();return t&&t[_DYN_UNLOAD](o,e),!t},o[_DYN_CREATE_NEW]=function(e,t){return createProcessTelemetryUnloadContext((e=isArray(e=void 0===e?null:e)?createTelemetryProxyChain(e,r.cfg,n,t):e)||o[_DYN_GET_NEXT](),n,t)},o}function createProcessTelemetryUpdateContext(e,n,t){var r=createDynamicConfig(n.config),_=_createInternalContext(e,r,n,t).ctx;return _[_DYN_PROCESS_NEXT]=function(t){return _.iterate(function(e){isFunction(e[_DYN_UPDATE])&&e[_DYN_UPDATE](_,t)})},_[_DYN_CREATE_NEW]=function(e,t){return createProcessTelemetryUpdateContext((e=isArray(e=void 0===e?null:e)?createTelemetryProxyChain(e,r.cfg,n,t):e)||_[_DYN_GET_NEXT](),n,t)},_}function createTelemetryProxyChain(e,t,n,r){var _,o=null,a=!r;return isArray(e)&&0<e[_DYN_LENGTH$1]&&(_=null,arrForEach(e,function(e){(a=!a&&r===e||a)&&e&&isFunction(e[STR_PROCESS_TELEMETRY])&&(e=createTelemetryPluginProxy(e,t,n),o=o||e,_&&_._setNext(e),_=e)})),r&&!o?createTelemetryProxyChain([r],t,n):o}function createTelemetryPluginProxy(c,r,_){var s=null,o=isFunction(c[STR_PROCESS_TELEMETRY]),a=isFunction(c[_DYN_SET_NEXT_PLUGIN]),u=c?c[_DYN_IDENTIFIER]+"-"+c[STR_PRIORITY]+"-"+_chainId++:"Unknown-0-"+_chainId++,i={getPlugin:function(){return c},getNext:function(){return s},processTelemetry:function(n,e){var t;l(e=e||(t=(t=c&&isFunction(c[strGetTelCtx])?c[strGetTelCtx]():t)||createProcessTelemetryContext(i,r,_)),function(e){if(!c||!o)return!1;var t=_getPluginState(c);return!t[_DYN_TEARDOWN]&&!t[STR_DISABLED]&&(a&&c[_DYN_SET_NEXT_PLUGIN](s),c[STR_PROCESS_TELEMETRY](n,e),!0)},"processTelemetry",function(){return{item:n}},!n.sync)||e[_DYN_PROCESS_NEXT](n)},unload:function(r,_){l(r,function(){var e,t,n=!1;return c&&(e=_getPluginState(c),t=c[STR_CORE]||e[STR_CORE],!c||t&&t!==r.core()||e[_DYN_TEARDOWN]||(e[STR_CORE]=null,e[_DYN_TEARDOWN]=!0,e[_DYN_IS_INITIALIZED]=!1,c[_DYN_TEARDOWN]&&!0===c[_DYN_TEARDOWN](r,_)&&(n=!0))),n},"unload",function(){},_[_DYN_IS_ASYNC])||r[_DYN_PROCESS_NEXT](_)},update:function(r,_){l(r,function(){var e,t,n=!1;return c&&(e=_getPluginState(c),t=c[STR_CORE]||e[STR_CORE],!c||t&&t!==r.core()||e[_DYN_TEARDOWN]||c[_DYN_UPDATE]&&!0===c[_DYN_UPDATE](r,_)&&(n=!0)),n},"update",function(){},!1)||r[_DYN_PROCESS_NEXT](_)},_id:u,_setNext:function(e){s=e}};function l(n,r,_,e,t){var o=!1,a=c?c[_DYN_IDENTIFIER]:strTelemetryPluginChain,i=(i=n[strHasRunFlags])||(n[strHasRunFlags]={});return n.setNext(s),c&&doPerf(n[STR_CORE](),function(){return a+":"+_},function(){i[u]=!0;try{var e=s?s._id:STR_EMPTY;e&&(i[e]=!1),o=r(n)}catch(t){e=!s||i[s._id];e&&(o=!0),s&&e||_throwInternal(n[_DYN_DIAG_LOG](),1,73,"Plugin ["+a+"] failed during "+_+" - "+dumpObj(t)+", run flags: "+dumpObj(i))}},e,t),o}return objFreeze(i)}function createUnloadHandlerContainer(){var t=[];return{add:function(e){e&&t[_DYN_PUSH](e)},run:function(n,r){arrForEach(t,function(e){try{e(n,r)}catch(t){_throwInternal(n[_DYN_DIAG_LOG](),2,73,"Unexpected error calling unload handler - "+dumpObj(t))}}),t=[]}}}function createUnloadHookContainer(){var t=[];return{run:function(n){var e=t;t=[],arrForEach(e,function(e){try{(e.rm||e.remove).call(e)}catch(t){_throwInternal(n,2,73,"Unloading:"+dumpObj(t))}})},add:function(e){e&&arrAppend(t,e)}}}var strGetPlugin="getPlugin",defaultValues$1=((_a$1={})[STR_EXTENSION_CONFIG]={isVal:isNotNullOrUndefined,v:{}},_a$1),BaseTelemetryPlugin=function(){function e(){var _,o,s,u,l,a=this;function t(e){var t,e=e=void 0===e?null:e;return e||(t=o||createProcessTelemetryContext(null,{},a[STR_CORE]),e=s&&s[strGetPlugin]?t[_DYN_CREATE_NEW](null,s[strGetPlugin]):t[_DYN_CREATE_NEW](null,s)),e}function i(e,t,n){createDynamicConfig(e,defaultValues$1,safeGetLogger(t)),!n&&t&&(n=t[_DYN_GET_PROCESS_TEL_CONT2]()[_DYN_GET_NEXT]());var r=s;s&&s[strGetPlugin]&&(r=s[strGetPlugin]()),a[STR_CORE]=t,o=createProcessTelemetryContext(n,e,t,r)}function N(){_=!1,a[STR_CORE]=null,s=o=null,l=createUnloadHookContainer(),u=createUnloadHandlerContainer()}N(),dynamicProto(e,a,function(c){c[_DYN_INITIALIZE]=function(e,t,n,r){i(e,t,r),_=!0},c[_DYN_TEARDOWN]=function(e,t){var n,r,_,o,a=c[STR_CORE];if(a&&(!e||a===e[STR_CORE]()))return r=!1,_=e||createProcessTelemetryUnloadContext(null,a,s&&s[strGetPlugin]?s[strGetPlugin]():s),o=t||((e={reason:0})[_DYN_IS_ASYNC]=!1,e),c[_DYN__DO_TEARDOWN]&&!0===c[_DYN__DO_TEARDOWN](_,o,i)?n=!0:i(),n;function i(){r||(r=!0,u.run(_,t),l.run(_[_DYN_DIAG_LOG]()),!0===n&&_[_DYN_PROCESS_NEXT](o),N())}},c[_DYN_UPDATE]=function(e,t){var n,r,_,o=c[STR_CORE];if(o&&(!e||o===e[STR_CORE]()))return r=!1,_=e||createProcessTelemetryUpdateContext(null,o,s&&s[strGetPlugin]?s[strGetPlugin]():s),c._doUpdate&&!0===c._doUpdate(_,t||{reason:0},a)?n=!0:a(),n;function a(){r||(r=!0,i(_.getCfg(),_.core(),_[_DYN_GET_NEXT]()))}},proxyFunctionAs(c,"_addUnloadCb",function(){return u},"add"),proxyFunctionAs(c,"_addHook",function(){return l},"add"),objDefine(c,"_unloadHooks",{g:function(){return l}})}),a[_DYN_DIAG_LOG]=function(e){return t(e)[_DYN_DIAG_LOG]()},a[_DYN_IS_INITIALIZED]=function(){return _},a.setInitialized=function(e){_=e},a[_DYN_SET_NEXT_PLUGIN]=function(e){s=e},a[_DYN_PROCESS_NEXT]=function(e,t){t?t[_DYN_PROCESS_NEXT](e):s&&isFunction(s[STR_PROCESS_TELEMETRY])&&s[STR_PROCESS_TELEMETRY](e,null)},a._getTelCtx=t}return e.__ieDyn=1,e}(),strOnPrefix="on",strAttachEvent="attachEvent",strAddEventHelper="addEventListener",strDetachEvent="detachEvent",strRemoveEventListener="removeEventListener",strEvents="events",rRemoveEmptyNs=(createUniqueNamespace("aiEvtPageHide"),createUniqueNamespace("aiEvtPageShow"),/\.[\.]+/g),rRemoveTrailingEmptyNs=/[\.]+$/,_guid=1,elmNodeData=createElmNodeData("events"),eventNamespace=/^([^.]*)(?:\.(.+)|)/;function _normalizeNamespace(e){return e&&e[_DYN_REPLACE]?e[_DYN_REPLACE](/^[\s\.]+|(?=[\s\.])[\.\s]+$/g,STR_EMPTY):e}function _getEvtNamespace(e,t){t&&(n=STR_EMPTY,isArray(t)?(n=STR_EMPTY,arrForEach(t,function(e){(e=_normalizeNamespace(e))&&("."!==e[0]&&(e="."+e),n+=e)})):n=_normalizeNamespace(t),n&&("."!==n[0]&&(n="."+n),e=(e||STR_EMPTY)+n));var n,t=eventNamespace.exec(e||STR_EMPTY)||[],e={};return e[_DYN_TYPE]=t[1],e.ns=(t[2]||STR_EMPTY).replace(rRemoveEmptyNs,".").replace(rRemoveTrailingEmptyNs,STR_EMPTY)[_DYN_SPLIT](".").sort().join("."),e}function _getRegisteredEvents(e,t,n){e=elmNodeData.get(e,strEvents,{},n=void 0===n||n);return e[t]||(e[t]=[])}function _doDetach(e,t,n,r){e&&t&&t[_DYN_TYPE]&&(e[strRemoveEventListener]?e[strRemoveEventListener](t[_DYN_TYPE],n,r):e[strDetachEvent]&&e[strDetachEvent](strOnPrefix+t[_DYN_TYPE],n))}function _doAttach(e,t,n,r){var _=!1;return e&&t&&t[_DYN_TYPE]&&n&&(e[strAddEventHelper]?(e[strAddEventHelper](t[_DYN_TYPE],n,r),_=!0):e[strAttachEvent]&&(e[strAttachEvent](strOnPrefix+t[_DYN_TYPE],n),_=!0)),_}function _doUnregister(e,t,n,r){for(var _=t[_DYN_LENGTH$1];_--;){var o=t[_];!o||n.ns&&n.ns!==o.evtName.ns||r&&!r(o)||(_doDetach(e,o.evtName,o[_DYN_HANDLER],o.capture),t[_DYN_SPLICE](_,1))}}function _unregisterEvents(n,r,_){var e;r[_DYN_TYPE]?_doUnregister(n,_getRegisteredEvents(n,r[_DYN_TYPE]),r,_):(objForEachKey(e=elmNodeData.get(n,strEvents,{}),function(e,t){_doUnregister(n,t,r,_)}),0===objKeys(e)[_DYN_LENGTH$1]&&elmNodeData.kill(n,strEvents))}function mergeEvtNamespace(e,t){return t?_getEvtNamespace("xx",isArray(t)?[e].concat(t):[e,t]).ns[_DYN_SPLIT]("."):e}function eventOn(e,t,n,r,_){void 0===_&&(_=!1);var o,a=!1;if(e)try{var i,c=_getEvtNamespace(t,r);(a=_doAttach(e,c,n,_))&&elmNodeData.accept(e)&&((o={guid:_guid++,evtName:c})[_DYN_HANDLER]=n,o.capture=_,i=o,_getRegisteredEvents(e,c.type)[_DYN_PUSH](i))}catch(s){}return a}function eventOff(e,t,n,r,_){if(void 0===_&&(_=!1),e)try{var o=_getEvtNamespace(t,r),a=!1;_unregisterEvents(e,o,function(e){return!((!o.ns||n)&&e[_DYN_HANDLER]!==n)&&(a=!0)}),a||_doDetach(e,o,n,_)}catch(i){}}var strNotSpecified="not_specified",PropertiesPluginIdentifier="AppInsightsPropertiesPlugin",_DYN_INDEX_OF="indexOf",_DYN_LENGTH="length",_DYN_TRACK_PAGE_ACTION="trackPageAction",_DYN_PAGE_ACTION_PAGE_TAG0="pageActionPageTags",_DYN__DO_UNLOAD="_doUnload",_DYN_PAGE_NAME="pageName",_DYN_CONTENT_NAME="contentName",_DYN_REQUEST_URI="requestUri",_DYN_PAGE_TYPE="pageType",_DYN_USE_DEFAULT_CONTENT_1="useDefaultContentNameOrId",_DYN_CAPTURE_ALL_META_DAT2="captureAllMetaDataContent",_DYN_META_DATA_PREFIX="metaDataPrefix",_DYN_PARENT_DATA_TAG="parentDataTag",_DYN_BEHAVIOR_VALIDATOR="behaviorValidator",_DYN_DEFAULT_RIGHT_CLICK_3="defaultRightClickBhvr",_DYN_TAG_NAME="tagName",_DYN_TO_UPPER_CASE="toUpperCase",_DYN_PATHNAME="pathname",_DYN_CORE_DATA="coreData",_DYN_GET_ATTRIBUTE="getAttribute",_DYN_PARENT_NODE="parentNode",_DYN_CUSTOM_DATA_PREFIX="customDataPrefix",_DYN_NAME="name",_DYN_DATA="data",_DYN_PROPERTIES="properties",_DYN_ACTION_TYPE="actionType",_DYN_BEHAVIOR="behavior",_DYN_CLICK_COORDINATES="clickCoordinates",_DYN_CONTENT="content",_DYN_REF_URI="refUri",_DYN_PARENT_ID="parentId",_DYN_CAPTURE_PAGE_ACTION="capturePageAction",_DYN_SET_COMMON_PROPERTIE4="setCommonProperties",_DYN_GET_ELEMENT_CONTENT="getElementContent",_DYN__GET_VALID_BEHAVIOR="_getValidBehavior",_DYN__TRACE_LOGGER="_traceLogger",_DYN_CLICK_COORDINATE_X="clickCoordinateX",_DYN_CLICK_COORDINATE_Y="clickCoordinateY",_DYN__CONFIG="_config",_DYN_DATA_TAGS="dataTags",_DYN__PAGE_TAGS="_pageTags",_DYN__PAGE_TAGS_CALLBACK="_pageTagsCallback",_DYN__META_TAGS="_metaTags",_DYN_SET_BASIC_PROPERTIES="setBasicProperties",_DYN__PAGE_TYPE_META_TAG="_pageTypeMetaTag",_DYN__BEHAVIOR_META_TAG="_behaviorMetaTag",_DYN_PARENT_ELEMENT="parentElement",_DYN_ATTRIBUTES="attributes",DEFAULT_DONOT_TRACK_TAG="ai-dnt",DEFAULT_AI_BLOB_ATTRIBUTE_TAG="ai-blob",DEFAULT_DATA_PREFIX="data-";function removeInvalidElements(e){for(var t in e)isValueAssigned(e[t])&&("{}"!==JSON.stringify(e[t])||"callback"===t)||delete e[t]}function isValueAssigned(e){return!(isNullOrUndefined(e)||""===e)}function isRightClick(e){try{if("which"in e)return 3===e.which;if("button"in e)return 2===e.button}catch(t){}}function isLeftClick(e){try{if("which"in e)return 1===e.which;if("button"in e)return 1===e.button}catch(t){}}function isMiddleClick(e){try{if("which"in e)return 2===e.which;if("button"in e)return 4===e.button}catch(t){}}function isKeyboardEnter(e){try{if("keyCode"in e)return 13===e.keyCode}catch(t){}}function isKeyboardSpace(e){try{if("keyCode"in e)return 32===e.keyCode}catch(t){}}function isElementDnt(e,t){return!!isValueAssigned(findClosestByAttribute(e,t))}function findClosestByAttribute(e,t){return walkUpDomChainWithElementValidation(e,isAttributeInElement,t)}function isAttributeInElement(e,t){return isValueAssigned(e[_DYN_GET_ATTRIBUTE](t))}function walkUpDomChainWithElementValidation(e,t,n){var r=e;if(r){for(;!t(r,n);)if(!(r=r[_DYN_PARENT_NODE])||!r[_DYN_GET_ATTRIBUTE])return null;return r}}function isElementAnAnchor(e){return"A"===e.nodeName}function findClosestAnchor(e){return walkUpDomChainWithElementValidation(e,isElementAnAnchor)}function extractFieldFromObject(e,t){var n;return e&&e[t]&&(n=e[t],delete e[t]),n}function bracketIt(e){return"["+e+"]"}function BehaviorMapValidator(t){return function(e){return t[e]||""}}function BehaviorValueValidator(e){return function(t){var n;return arrForEach(e,function(e){if(e===t)return n=e,-1}),n||""}}function BehaviorEnumValidator(t){return function(e){return t[e]||""}}var clickCaptureInputTypes$1={BUTTON:!0,CHECKBOX:!0,RADIO:!0,RESET:!0,SUBMIT:!0};function getImageHref(e){if(e){e=findClosestAnchor(e);if(1===e[_DYN_LENGTH]){e=e[0];if(e.href)return e.href;if(e.src)return e.src}}return""}function getClickTarget(e){var t="";switch(e[_DYN_TAG_NAME]){case"A":case"AREA":t=e.href||"";break;case"IMG":t=getImageHref(e);break;case"INPUT":var n=e.type;n&&clickCaptureInputTypes$1[n[_DYN_TO_UPPER_CASE]()]&&(n=getLocation()||{},t=e.form?e.form.action||n[_DYN_PATHNAME]||"":n[_DYN_PATHNAME]||"")}return t}function getPageName(e,t){return t&&t[_DYN_PAGE_NAME]?t[_DYN_PAGE_NAME]:e.callback&&isFunction(e.callback[_DYN_PAGE_NAME])?e.callback[_DYN_PAGE_NAME]():e.coreData&&e.coreData[_DYN_PAGE_NAME]?e.coreData[_DYN_PAGE_NAME]:(t=getDocument())&&t.title||""}function sanitizeUrl(e,t){if(!t)return null;var n=t.protocol+"//"+(t.hostname||t.host)+(isValueAssigned(t.port)?":"+t.port:"")+t[_DYN_PATHNAME];return e.urlCollectHash&&(n+=isValueAssigned(t.hash)?t.hash:""),e.urlCollectQuery&&(n+=isValueAssigned(t.search)?t.search:""),n}function getUri(e,t){return e.coreData&&e.coreData[_DYN_REQUEST_URI]&&""!==e[_DYN_CORE_DATA][_DYN_REQUEST_URI]?e.coreData[_DYN_REQUEST_URI]:sanitizeUrl(e,t)}var _a,_b,_c,_d,WebEvent=function(){function n(e,t,o,a,i,c){dynamicProto(n,this,function(r){function _(){r[_DYN__PAGE_TAGS]={},r._clickAnalyticsPlugin=e,r[_DYN__CONFIG]=t,r._contentHandler=o,r[_DYN__PAGE_TAGS_CALLBACK]=a,r[_DYN__META_TAGS]=i,r[_DYN__TRACE_LOGGER]=c}function n(e,t,n){return t&&t[n]?t[n]:e?e[n]:""}_(),r[_DYN_SET_BASIC_PROPERTIES]=function(e,t){isValueAssigned(e[_DYN_NAME])||(e[_DYN_PAGE_NAME]=getPageName(r[_DYN__CONFIG],t)),!isValueAssigned(e.uri)&&hasWindow()&&(e.uri=getUri(r[_DYN__CONFIG],getLocation()))},r[_DYN_SET_COMMON_PROPERTIE4]=function(e,t){r[_DYN_SET_BASIC_PROPERTIES](e,t),r._setPageTags(e,t),r._pageTypeMetaTag=n(r._metaTags,r._config[_DYN_CORE_DATA],"pageType"),r._behaviorMetaTag=n(r._metaTags,r._config[_DYN_CORE_DATA],"behavior"),isValueAssigned(t[_DYN_PAGE_TYPE])&&(e[_DYN_PAGE_TYPE]=t[_DYN_PAGE_TYPE]),isValueAssigned(r._pageTypeMetaTag)&&!isValueAssigned(e[_DYN_PAGE_TYPE])&&(e[_DYN_PAGE_TYPE]=r[_DYN__PAGE_TYPE_META_TAG])},r._setPageTags=function(e,t){if(r[_DYN__PAGE_TAGS_CALLBACK]&&(r[_DYN__PAGE_TAGS]=objExtend(!0,r[_DYN__PAGE_TAGS],r[_DYN__PAGE_TAGS_CALLBACK]())),isValueAssigned(t.pageTags)&&(r[_DYN__PAGE_TAGS]=objExtend(!0,r[_DYN__PAGE_TAGS],t.pageTags)),r[_DYN__META_TAGS])for(var n in r[_DYN__PAGE_TAGS].metaTags={},r[_DYN__META_TAGS])"behavior"!=n&&"market"!=n&&"pageType"!=n&&(r[_DYN__PAGE_TAGS].metaTags[n]=r[_DYN__META_TAGS][n]);e[_DYN_PROPERTIES]=e[_DYN_PROPERTIES]||{},e[_DYN_PROPERTIES].pageTags=r[_DYN__PAGE_TAGS]},r._getBehavior=function(e){var t;return e&&isValueAssigned(e[_DYN_BEHAVIOR])?t=e[_DYN_BEHAVIOR]:isValueAssigned(r[_DYN__BEHAVIOR_META_TAG])&&(t=r[_DYN__BEHAVIOR_META_TAG]),r[_DYN__GET_VALID_BEHAVIOR](t)},r[_DYN__GET_VALID_BEHAVIOR]=function(e){return r._config[_DYN_BEHAVIOR_VALIDATOR](e)},r[_DYN__DO_UNLOAD]=function(e,t,n){_()}})}return n.__ieDyn=1,n}(),PageAction=function(a){function i(e,t,n,r,_,o){e=a.call(this,e,t,n,r,_,o)||this;return dynamicProto(i,e,function(a,e){function r(e,t,n){isValueAssigned(n)&&(e[t]=n)}a[_DYN_TRACK_PAGE_ACTION]=function(e,t){var n={name:"Microsoft.ApplicationInsights.{0}.Event",baseType:"EventData",ext:{web:{}},data:{},baseData:{}};r(n.baseData,"name",e[_DYN_NAME]),r(n[_DYN_DATA],"baseTypeSource","ClickEvent"),r(n[_DYN_DATA],"uri",e.uri),r(n.data,"pageType",e[_DYN_PAGE_TYPE]),r(n[_DYN_DATA],"properties",e[_DYN_PROPERTIES]),r(n[_DYN_DATA],"actionType",e[_DYN_ACTION_TYPE]),r(n[_DYN_DATA],"behavior",e[_DYN_BEHAVIOR]),r(n[_DYN_DATA],"clickCoordinates",e[_DYN_CLICK_COORDINATES]),r(n[_DYN_DATA],"content",e[_DYN_CONTENT]),r(n[_DYN_DATA],"targetUri",e.targetUri),r(n[_DYN_DATA],"timeToAction",e.timeToAction),r(n[_DYN_DATA],"refUri",e[_DYN_REF_URI]),r(n.data,"pageName",e[_DYN_PAGE_NAME]),r(n[_DYN_DATA],"parentId",e[_DYN_PARENT_ID]),t&&objForEachKey(t,function(e,t){n[_DYN_DATA][e]||r(n[_DYN_DATA],e,t)}),a._clickAnalyticsPlugin.core.track(n)},a[_DYN_CAPTURE_PAGE_ACTION]=function(e,t,n,r){t=isValueAssigned(t)?t:{};var _={name:""},n=isValueAssigned(n)?n:{},o=(a[_DYN_SET_COMMON_PROPERTIE4](_,t),_[_DYN_BEHAVIOR]=a._getBehavior(t),{});r&&(_.behavior=a._config[_DYN_DEFAULT_RIGHT_CLICK_3]),e&&(_.targetUri=getClickTarget(e),(o=a._contentHandler[_DYN_GET_ELEMENT_CONTENT](e)).bhvr&&!isValueAssigned(t[_DYN_BEHAVIOR])&&(r=extractFieldFromObject(o,"bhvr"),_[_DYN_BEHAVIOR]=a[_DYN__GET_VALID_BEHAVIOR](r)),isValueAssigned(o.id)||isValueAssigned(o[_DYN_CONTENT_NAME])||_throwInternal(a[_DYN__TRACE_LOGGER],2,102,"Missing attributes id or contentName in click event. Click event information will still be collected!")),_.name=o.id||o[_DYN_CONTENT_NAME]||strNotSpecified,_[_DYN_PARENT_ID]=o.parentid||o.parentName||strNotSpecified,isValueAssigned(t[_DYN_ACTION_TYPE])&&(_[_DYN_ACTION_TYPE]=t[_DYN_ACTION_TYPE]),isValueAssigned(t[_DYN_CLICK_COORDINATE_X])&&isValueAssigned(t[_DYN_CLICK_COORDINATE_Y])&&(_[_DYN_CLICK_COORDINATES]=t[_DYN_CLICK_COORDINATE_X]+"X"+t[_DYN_CLICK_COORDINATE_Y]),(e=o)&&(delete e.id,delete e.parentid,delete e.parentname,a._config&&a._config.dataTags&&isValueAssigned(a._config.dataTags[_DYN_PARENT_DATA_TAG])&&delete e[a[_DYN__CONFIG][_DYN_DATA_TAGS].parentDataTag]),_[_DYN_CONTENT]=bracketIt(JSON.stringify(objExtend(o,t&&t.contentTags?t.contentTags:{}))),_.timeToAction=-1,_.refUri=isValueAssigned(t.refUri)?t.refUri:a._config[_DYN_CORE_DATA].referrerUri,a[_DYN__CONFIG].dropInvalidEvents&&_[_DYN_NAME]===strNotSpecified&&_[_DYN_PARENT_ID]===strNotSpecified&&"[{}]"===_[_DYN_CONTENT]||a[_DYN_TRACK_PAGE_ACTION](_,n)}}),e}return __extendsFn(i,a),i.__ieDyn=1,i}(WebEvent),ActionType={CLICKLEFT:"CL",CLICKRIGHT:"CR",CLICKMIDDLE:"CM",SCROLL:"S",ZOOM:"Z",RESIZE:"R",KEYBOARDENTER:"KE",KEYBOARDSPACE:"KS",OTHER:"O"},clickCaptureInputTypes={BUTTON:!0,CHECKBOX:!0,RADIO:!0,RESET:!0,SUBMIT:!0},AutoCaptureHandler=function(){function o(e,t,n,r){this._analyticsPlugin=e,this._config=t,this._pageAction=n,this._traceLogger=r;var _=mergeEvtNamespace(createUniqueNamespace("AutoCaptureHandler"),e._evtNamespace);dynamicProto(o,this,function(u){function n(e){var t,n,r,_={A:!0,BUTTON:!0,AREA:!0,INPUT:!0},o=getWindow();if(e=isNullOrUndefined(e)&&o?o.event:e){var a=e.srcElement||e.target,i=((o={})[_DYN_CLICK_COORDINATE_X]=e.pageX,o[_DYN_CLICK_COORDINATE_Y]=e.pageY,o),c=isRightClick(e);if(c)i[_DYN_ACTION_TYPE]=ActionType.CLICKRIGHT;else if(isLeftClick(e))i[_DYN_ACTION_TYPE]=ActionType.CLICKLEFT;else if(isKeyboardEnter(e))i[_DYN_ACTION_TYPE]=ActionType.KEYBOARDENTER;else if(isKeyboardSpace(e))i[_DYN_ACTION_TYPE]=ActionType.KEYBOARDSPACE;else{if(!isMiddleClick(e))return;i[_DYN_ACTION_TYPE]=ActionType.CLICKMIDDLE}for(;a&&a[_DYN_TAG_NAME];){var s=(a=a.control&&_[a.control[_DYN_TAG_NAME][_DYN_TO_UPPER_CASE]()]?a.control:a)[_DYN_TAG_NAME][_DYN_TO_UPPER_CASE]();if(_[s]){"INPUT"===s&&!clickCaptureInputTypes[a.type[_DYN_TO_UPPER_CASE]()]||(s=i,n={},r=c,isElementDnt(t=a,u._config.dataTags[_DYN_CUSTOM_DATA_PREFIX]+u[_DYN__CONFIG][_DYN_DATA_TAGS].dntDataTag)||u._pageAction[_DYN_CAPTURE_PAGE_ACTION](t,s,n,r));break}a=a.parentElement||a[_DYN_PARENT_NODE]}}}u.click=function(){var e=getWindow(),t=getDocument();e?(eventOn(e,-1!==navigator.appVersion[_DYN_INDEX_OF]("MSIE")?"click":"mousedown",n,_),eventOn(e,"keyup",n,_)):t&&(eventOn(t,"click",n,_),eventOn(t,"keyup",n,_))},u[_DYN__DO_UNLOAD]=function(e,t,n){eventOff(getWindow(),null,null,_),eventOff(getDocument(),null,null,_)}})}return o.__ieDyn=1,o}(),MAX_CONTENTNAME_LENGTH=200,DomContentHandler=function(){function t(e,f){this._config=e,this._traceLogger=f,dynamicProto(t,this,function(N){function E(e,t,n,r,_){for(var o=e,a=!1,i=!1;!isNullOrUndefined(o)&&!isNullOrUndefined(o[_DYN_ATTRIBUTES]);){for(var c=o[_DYN_ATTRIBUTES],s=0;s<c[_DYN_LENGTH];s++){var u,l=c[s];0===l.name[_DYN_INDEX_OF](n)&&(0===l.name[_DYN_INDEX_OF](r)&&(a=!0),0!==l.name[_DYN_INDEX_OF](_)&&(u=l[_DYN_NAME].replace(n,""),i&&"id"===u||isValueAssigned(t[u])||(t[u]=l.value)))}if(a)break;i=!0,o=o[_DYN_PARENT_NODE]}}function t(e,t,n){var r={};if(hasDocument())for(var _=getDocument().querySelectorAll("meta"),o=0;o<_[_DYN_LENGTH];o++){var a=_[o];a[_DYN_NAME]&&(e||0===a.name[_DYN_INDEX_OF](t))&&(r[n?a[_DYN_NAME].replace(t,""):a[_DYN_NAME]]=a[_DYN_CONTENT])}return r}function l(e,t,n){for(var r=e[_DYN_ATTRIBUTES],_=!1,o=0;o<r[_DYN_LENGTH];o++){var a=r[o][_DYN_NAME];if(a===n)return!1;0===a[_DYN_INDEX_OF](t)&&(_=!0)}return _}function D(e){var t,n,r=(N[_DYN__CONFIG]||{})[_DYN_DATA_TAGS],_=(N[_DYN__CONFIG]||{}).callback,o={};return e&&r[_DYN_USE_DEFAULT_CONTENT_1]&&(_=_[_DYN_CONTENT_NAME]?_[_DYN_CONTENT_NAME](e,r[_DYN_USE_DEFAULT_CONTENT_1]):"",t=function(e){if(!1===r[_DYN_USE_DEFAULT_CONTENT_1]||!e[_DYN_TAG_NAME])return"";var t,n=getDocument()||{};switch(e[_DYN_TAG_NAME]){case"A":t=n.all?e.innerText||e.innerHTML:e.text||e.innerHTML;break;case"IMG":case"AREA":t=e.alt;break;default:t=e.value||e[_DYN_NAME]||e.alt||e.innerText||e.id}return strSubstring(t,0,MAX_CONTENTNAME_LENGTH)}(e),(n={id:e.id})[_DYN_CONTENT_NAME]=_||t||e[_DYN_GET_ATTRIBUTE]("alt"),o=n),o}N.getMetadata=function(){var e=(N[_DYN__CONFIG]||{})[_DYN_DATA_TAGS];return hasDocument()?isValueAssigned(e.metaDataPrefix)?t(e[_DYN_CAPTURE_ALL_META_DAT2],e[_DYN_META_DATA_PREFIX],!1):t(e[_DYN_CAPTURE_ALL_META_DAT2],"",!1):{}},N[_DYN_GET_ELEMENT_CONTENT]=function(c){if(!c)return{};var e,t=(N[_DYN__CONFIG]||{})[_DYN_DATA_TAGS],n={},s=t[_DYN_CUSTOM_DATA_PREFIX],u=s+t.aiBlobAttributeTag;if(isValueAssigned(t[_DYN_PARENT_DATA_TAG])&&(e=s+t[_DYN_PARENT_DATA_TAG]),l(c,s,u))n=objExtend(n,function(e,t,n,r){var _=(N[_DYN__CONFIG]||{})[_DYN_DATA_TAGS],o={};if(!e)return o;var a=D(e);if(isValueAssigned(n))E(e,o,t,n,r);else for(var i,c=e,s=o,u=t,l=0;l<c.attributes[_DYN_LENGTH];l++)0===(i=c[_DYN_ATTRIBUTES][l]).name[_DYN_INDEX_OF](u)&&(s[i[_DYN_NAME].replace(u,"")]=i.value);return _[_DYN_USE_DEFAULT_CONTENT_1]&&(isValueAssigned(o.id)||(o.id=a.id||""),o[_DYN_CONTENT_NAME]=a[_DYN_CONTENT_NAME]||""),o.id||o[_DYN_CONTENT_NAME]||_throwInternal(f,2,102,"Invalid content blob.  Missing required attributes (id, contentName.  Content information will still be collected!"),o}(c,s,e,u));else if(t=c[_DYN_GET_ATTRIBUTE](u))try{n=JSON.parse(t)}catch(r){_throwInternal(N[_DYN__TRACE_LOGGER],1,101,"Can not parse "+t)}else n=objExtend(n,function(e,t,n,r){var _={};if(!e)return _;var o=D(e),_={id:o.id||"",contentName:o[_DYN_CONTENT_NAME]||""};return isValueAssigned(n)&&E(e,_,t,n,r),_.id||_[_DYN_CONTENT_NAME]||_throwInternal(f,2,102,"Invalid content blob.  Missing required attributes (id, contentName.  Content information will still be collected!"),_}(c,s,e,u));return removeInvalidElements(n),e?objExtend(n,function(e){var t=e.parentid,e=e.parentname;if(t||e||!c)return{};var n,t=c,e=s,r=u,_={},o=walkUpDomChainWithElementValidation(t[_DYN_PARENT_ELEMENT],l,e);if(o){var r=o[_DYN_GET_ATTRIBUTE](r)||t[r];if(r){try{var a=JSON.parse(r)}catch(i){_throwInternal(f,1,101,"Can not parse "+r)}a&&(n=a.id)}else n=o[_DYN_GET_ATTRIBUTE](e+"id")}return n?_.parentid=n:(r=D(t[_DYN_PARENT_ELEMENT]),_.parentid=r.id,_.parentname=r[_DYN_CONTENT_NAME]),_}(n)):n}})}return t.__ieDyn=1,t}(),defaultValues=objDeepFreeze(((_a={autoCapture:!0,callback:cfgDfMerge(((_b={})[_DYN_PAGE_ACTION_PAGE_TAG0]=cfgDfFunc(),_b[_DYN_PAGE_NAME]=cfgDfFunc(),_b[_DYN_CONTENT_NAME]=cfgDfFunc(),_b)),pageTags:{},coreData:cfgDfMerge(((_c={referrerUri:hasDocument()?getDocument().referrer:""})[_DYN_REQUEST_URI]=cfgDfString(),_c[_DYN_PAGE_NAME]=cfgDfString(),_c[_DYN_PAGE_TYPE]=cfgDfString(),_c)),dataTags:cfgDfMerge(((_d={})[_DYN_USE_DEFAULT_CONTENT_1]=!1,_d.aiBlobAttributeTag=DEFAULT_AI_BLOB_ATTRIBUTE_TAG,_d.customDataPrefix=cfgDfValidate(_dataPrefixChk,DEFAULT_DATA_PREFIX),_d[_DYN_CAPTURE_ALL_META_DAT2]=!1,_d.dntDataTag=DEFAULT_DONOT_TRACK_TAG,_d[_DYN_META_DATA_PREFIX]=cfgDfString(),_d[_DYN_PARENT_DATA_TAG]=cfgDfString(),_d))})[_DYN_BEHAVIOR_VALIDATOR]=cfgDfFunc(function(e){return e||""}),_a[_DYN_DEFAULT_RIGHT_CLICK_3]=cfgDfString(),_a.dropInvalidEvents=!1,_a.urlCollectHash=!1,_a.urlCollectQuery=!1,_a));function _dataPrefixChk(e){return e&&0===e[_DYN_INDEX_OF](DEFAULT_DATA_PREFIX)}var ClickAnalyticsPlugin=function(E){function D(){var c,s,u,l,N=E.call(this)||this;return N.identifier="ClickAnalyticsPlugin",N.priority=181,dynamicProto(D,N,function(a,e){var i=a.identifier;u=s=c=null,l=!1,a.initialize=function(e,t,n,r){var _,o;isNullOrUndefined(t)&&throwError("Error initializing"),E.prototype.initialize.call(N,e,t,n,r),_=a.core,a._addHook(onConfigChange(e,function(e){var e=createProcessTelemetryContext(null,e.cfg,_).getExtCfg(i,defaultValues),t=a.diagLog(),n=(u=new DomContentHandler(e,t)).getMetadata(),n=(c=new PageAction(a,e,u,e.callback[_DYN_PAGE_ACTION_PAGE_TAG0],n,t),s&&s[_DYN__DO_UNLOAD](),s=new AutoCaptureHandler(a,e,c,t),!!e.autoCapture);!l&&n&&s.click(),l=n})),arrForEach(n,function(e){e.identifier===PropertiesPluginIdentifier&&(o=e)}),o&&o.context&&o.context.internal&&(t=o.context.internal.sdkVersion)&&(64<(t+="_ClickPlugin"+D.Version)[_DYN_LENGTH]&&(t=strTrim(strSubstring(t,0,64))),o.context.internal.sdkVersion=t)},a.processTelemetry=function(e,t){a.processNext(e,t)},a[_DYN_TRACK_PAGE_ACTION]=function(e,t){try{c[_DYN_TRACK_PAGE_ACTION](e,t)}catch(n){_throwInternal(a.diagLog(),1,103,"trackPageAction failed, page action event will not be collected: "+getExceptionName(n),{exception:dumpObj(n)})}},a._doTeardown=function(e,t,n){return unloadComponents([s,u,c],e,t)}}),N}return __extendsFn(D,E),D.Version="3.3.1",D}(BaseTelemetryPlugin);exports.BehaviorEnumValidator=BehaviorEnumValidator,exports.BehaviorMapValidator=BehaviorMapValidator,exports.BehaviorValueValidator=BehaviorValueValidator,exports.ClickAnalyticsPlugin=ClickAnalyticsPlugin;
//# sourceMappingURL=ai.clck.3.3.1.cjs.min.js.map
