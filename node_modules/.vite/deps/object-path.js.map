{
  "version": 3,
  "sources": ["../../object-path/index.js"],
  "sourcesContent": ["(function (root, factory) {\r\n  'use strict'\r\n\r\n  /*istanbul ignore next:cant test*/\r\n  if (typeof module === 'object' && typeof module.exports === 'object') {\r\n    module.exports = factory()\r\n  } else if (typeof define === 'function' && define.amd) {\r\n    // AMD. Register as an anonymous module.\r\n    define([], factory)\r\n  } else {\r\n    // Browser globals\r\n    root.objectPath = factory()\r\n  }\r\n})(this, function () {\r\n  'use strict'\r\n\r\n  var toStr = Object.prototype.toString\r\n\r\n  function hasOwnProperty (obj, prop) {\r\n    if (obj == null) {\r\n      return false\r\n    }\r\n    //to handle objects with null prototypes (too edge case?)\r\n    return Object.prototype.hasOwnProperty.call(obj, prop)\r\n  }\r\n\r\n  function isEmpty (value) {\r\n    if (!value) {\r\n      return true\r\n    }\r\n    if (isArray(value) && value.length === 0) {\r\n      return true\r\n    } else if (typeof value !== 'string') {\r\n      for (var i in value) {\r\n        if (hasOwnProperty(value, i)) {\r\n          return false\r\n        }\r\n      }\r\n      return true\r\n    }\r\n    return false\r\n  }\r\n\r\n  function toString (type) {\r\n    return toStr.call(type)\r\n  }\r\n\r\n  function isObject (obj) {\r\n    return typeof obj === 'object' && toString(obj) === '[object Object]'\r\n  }\r\n\r\n  var isArray = Array.isArray || function (obj) {\r\n    /*istanbul ignore next:cant test*/\r\n    return toStr.call(obj) === '[object Array]'\r\n  }\r\n\r\n  function isBoolean (obj) {\r\n    return typeof obj === 'boolean' || toString(obj) === '[object Boolean]'\r\n  }\r\n\r\n  function getKey (key) {\r\n    var intKey = parseInt(key)\r\n    if (intKey.toString() === key) {\r\n      return intKey\r\n    }\r\n    return key\r\n  }\r\n\r\n  function factory (options) {\r\n    options = options || {}\r\n\r\n    var objectPath = function (obj) {\r\n      return Object.keys(objectPath).reduce(function (proxy, prop) {\r\n        if (prop === 'create') {\r\n          return proxy\r\n        }\r\n\r\n        /*istanbul ignore else*/\r\n        if (typeof objectPath[prop] === 'function') {\r\n          proxy[prop] = objectPath[prop].bind(objectPath, obj)\r\n        }\r\n\r\n        return proxy\r\n      }, {})\r\n    }\r\n\r\n    var hasShallowProperty\r\n    if (options.includeInheritedProps) {\r\n      hasShallowProperty = function () {\r\n        return true\r\n      }\r\n    } else {\r\n      hasShallowProperty = function (obj, prop) {\r\n        return (typeof prop === 'number' && Array.isArray(obj)) || hasOwnProperty(obj, prop)\r\n      }\r\n    }\r\n\r\n    function getShallowProperty (obj, prop) {\r\n      if (hasShallowProperty(obj, prop)) {\r\n        return obj[prop]\r\n      }\r\n    }\r\n\r\n    var getShallowPropertySafely\r\n    if (options.includeInheritedProps) {\r\n      getShallowPropertySafely = function (obj, currentPath) {\r\n        if (typeof currentPath !== 'string' && typeof currentPath !== 'number') {\r\n          currentPath = String(currentPath)\r\n        }\r\n        var currentValue = getShallowProperty(obj, currentPath)\r\n        if (currentPath === '__proto__' || currentPath === 'prototype' ||\r\n          (currentPath === 'constructor' && typeof currentValue === 'function')) {\r\n          throw new Error('For security reasons, object\\'s magic properties cannot be set')\r\n        }\r\n        return currentValue\r\n      }\r\n    } else {\r\n      getShallowPropertySafely = function (obj, currentPath) {\r\n        return getShallowProperty(obj, currentPath)\r\n      }\r\n    }\r\n\r\n    function set (obj, path, value, doNotReplace) {\r\n      if (typeof path === 'number') {\r\n        path = [path]\r\n      }\r\n      if (!path || path.length === 0) {\r\n        return obj\r\n      }\r\n      if (typeof path === 'string') {\r\n        return set(obj, path.split('.').map(getKey), value, doNotReplace)\r\n      }\r\n      var currentPath = path[0]\r\n      var currentValue = getShallowPropertySafely(obj, currentPath)\r\n      if (path.length === 1) {\r\n        if (currentValue === void 0 || !doNotReplace) {\r\n          obj[currentPath] = value\r\n        }\r\n        return currentValue\r\n      }\r\n\r\n      if (currentValue === void 0) {\r\n        //check if we assume an array\r\n        if (typeof path[1] === 'number') {\r\n          obj[currentPath] = []\r\n        } else {\r\n          obj[currentPath] = {}\r\n        }\r\n      }\r\n\r\n      return set(obj[currentPath], path.slice(1), value, doNotReplace)\r\n    }\r\n\r\n    objectPath.has = function (obj, path) {\r\n      if (typeof path === 'number') {\r\n        path = [path]\r\n      } else if (typeof path === 'string') {\r\n        path = path.split('.')\r\n      }\r\n\r\n      if (!path || path.length === 0) {\r\n        return !!obj\r\n      }\r\n\r\n      for (var i = 0; i < path.length; i++) {\r\n        var j = getKey(path[i])\r\n\r\n        if ((typeof j === 'number' && isArray(obj) && j < obj.length) ||\r\n          (options.includeInheritedProps ? (j in Object(obj)) : hasOwnProperty(obj, j))) {\r\n          obj = obj[j]\r\n        } else {\r\n          return false\r\n        }\r\n      }\r\n\r\n      return true\r\n    }\r\n\r\n    objectPath.ensureExists = function (obj, path, value) {\r\n      return set(obj, path, value, true)\r\n    }\r\n\r\n    objectPath.set = function (obj, path, value, doNotReplace) {\r\n      return set(obj, path, value, doNotReplace)\r\n    }\r\n\r\n    objectPath.insert = function (obj, path, value, at) {\r\n      var arr = objectPath.get(obj, path)\r\n      at = ~~at\r\n      if (!isArray(arr)) {\r\n        arr = []\r\n        objectPath.set(obj, path, arr)\r\n      }\r\n      arr.splice(at, 0, value)\r\n    }\r\n\r\n    objectPath.empty = function (obj, path) {\r\n      if (isEmpty(path)) {\r\n        return void 0\r\n      }\r\n      if (obj == null) {\r\n        return void 0\r\n      }\r\n\r\n      var value, i\r\n      if (!(value = objectPath.get(obj, path))) {\r\n        return void 0\r\n      }\r\n\r\n      if (typeof value === 'string') {\r\n        return objectPath.set(obj, path, '')\r\n      } else if (isBoolean(value)) {\r\n        return objectPath.set(obj, path, false)\r\n      } else if (typeof value === 'number') {\r\n        return objectPath.set(obj, path, 0)\r\n      } else if (isArray(value)) {\r\n        value.length = 0\r\n      } else if (isObject(value)) {\r\n        for (i in value) {\r\n          if (hasShallowProperty(value, i)) {\r\n            delete value[i]\r\n          }\r\n        }\r\n      } else {\r\n        return objectPath.set(obj, path, null)\r\n      }\r\n    }\r\n\r\n    objectPath.push = function (obj, path /*, values */) {\r\n      var arr = objectPath.get(obj, path)\r\n      if (!isArray(arr)) {\r\n        arr = []\r\n        objectPath.set(obj, path, arr)\r\n      }\r\n\r\n      arr.push.apply(arr, Array.prototype.slice.call(arguments, 2))\r\n    }\r\n\r\n    objectPath.coalesce = function (obj, paths, defaultValue) {\r\n      var value\r\n\r\n      for (var i = 0, len = paths.length; i < len; i++) {\r\n        if ((value = objectPath.get(obj, paths[i])) !== void 0) {\r\n          return value\r\n        }\r\n      }\r\n\r\n      return defaultValue\r\n    }\r\n\r\n    objectPath.get = function (obj, path, defaultValue) {\r\n      if (typeof path === 'number') {\r\n        path = [path]\r\n      }\r\n      if (!path || path.length === 0) {\r\n        return obj\r\n      }\r\n      if (obj == null) {\r\n        return defaultValue\r\n      }\r\n      if (typeof path === 'string') {\r\n        return objectPath.get(obj, path.split('.'), defaultValue)\r\n      }\r\n\r\n      var currentPath = getKey(path[0])\r\n      var nextObj = getShallowPropertySafely(obj, currentPath)\r\n      if (nextObj === void 0) {\r\n        return defaultValue\r\n      }\r\n\r\n      if (path.length === 1) {\r\n        return nextObj\r\n      }\r\n\r\n      return objectPath.get(obj[currentPath], path.slice(1), defaultValue)\r\n    }\r\n\r\n    objectPath.del = function del (obj, path) {\r\n      if (typeof path === 'number') {\r\n        path = [path]\r\n      }\r\n\r\n      if (obj == null) {\r\n        return obj\r\n      }\r\n\r\n      if (isEmpty(path)) {\r\n        return obj\r\n      }\r\n      if (typeof path === 'string') {\r\n        return objectPath.del(obj, path.split('.'))\r\n      }\r\n\r\n      var currentPath = getKey(path[0])\r\n      getShallowPropertySafely(obj, currentPath)\r\n      if (!hasShallowProperty(obj, currentPath)) {\r\n        return obj\r\n      }\r\n\r\n      if (path.length === 1) {\r\n        if (isArray(obj)) {\r\n          obj.splice(currentPath, 1)\r\n        } else {\r\n          delete obj[currentPath]\r\n        }\r\n      } else {\r\n        return objectPath.del(obj[currentPath], path.slice(1))\r\n      }\r\n\r\n      return obj\r\n    }\r\n\r\n    return objectPath\r\n  }\r\n\r\n  var mod = factory()\r\n  mod.create = factory\r\n  mod.withInheritedProps = factory({includeInheritedProps: true})\r\n  return mod\r\n})\r\n"],
  "mappings": "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",
  "names": []
}
