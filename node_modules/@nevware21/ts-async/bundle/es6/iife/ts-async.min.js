/*!
 * NevWare21 Solutions LLC - ts-async, 0.5.2
 * https://github.com/nevware21/ts-async
 * Copyright (c) NevWare21 Solutions LLC and contributors. All rights reserved.
 * Licensed under the MIT license.
 */
this.nevware21=this.nevware21||{},this.nevware21["ts-async"]=function(e){function t(e,t){return e||t}function n(e,t){return e[t]}var a=void 0,l=null,C="",z="function",F="object",f="prototype",q="__proto__",r="undefined",J="constructor",W="Symbol",H="_polyfill",L="length",U="name",s="call",B="toString",i=t(Object),G=n(i,f),K=t(Array),M=n(K,f),v=n(M,"slice");function b(e,t){try{return{v:e.apply(this,t)}}catch(e){return{e:e}}}function Q(t){return function(e){return typeof e===t}}function j(e){return typeof e===r||e===r}var R=Q(z),V=n(K,"isArray"),X=Q("number");function I(e){return e&&e.then&&R(e.then)}var Y=n(i,"getOwnPropertyDescriptor"),Z=t(n(i,"hasOwn"),ee);function ee(e,t){return!!e&&G.hasOwnProperty[s](e,t)||!!Y(e,t)}function te(e,t,n){if(e&&(e||e!==l&&!j(e))&&e&&typeof e===F)for(var r in e)if(Z(e,r)&&-1===t[s](n||e,r,e[r]))break}var ne={e:"enumerable",c:"configurable",v:"value",w:"writable",g:"get",s:"set"},E=n(i,"defineProperty"),re=n(i,"defineProperties");function ie(e,t,n){return E(e,t,(r=n,(i={})[ne.c]=!0,i[ne.e]=!0,r.l&&(i.get=function(){return r.l.v},e=Y(r.l,"v"))&&e.set&&(i.set=function(e){r.l.v=e}),te(r,function(e,t){i[ne[e]]=j(t)?i[ne[e]]:t}),i));var r,i}function ue(e,t,n,r){E(e,t,{value:n,enumerable:!0,writable:!!r})}var u=t(t(String)),oe="[object Error]";function T(e,t){var n=C,r=G[B][s](e);r===oe&&(e={stack:u(e.stack),message:u(e.message),name:u(e.name)});try{n=(n=JSON.stringify(e,l,t?"number"==typeof t?t:4:a))&&n.replace(/"(\w+)"\s*:\s{0,1}/g,"$1: ")||u(e)}catch(e){n=" - "+T(e,t)}return r+": "+n}function D(e){throw new TypeError(e)}function ce(e){return e}function ae(e){return e[q]||l}var le=t(n(i,"freeze"),ce),fe=t(n(i,"getPrototypeOf"),ae);function se(e){return t=le,n={},te(e,function(e,t){ue(n,e,e,void 0),ue(n,t,e,void 0)}),t?t(n):n;var t,n}var ve,ye,o,de=se({asyncIterator:0,hasInstance:1,isConcatSpreadable:2,iterator:3,match:4,matchAll:5,replace:6,search:7,species:8,split:9,toPrimitive:10,toStringTag:11,unscopables:12}),he="__tsUtils$gblCfg";function me(){var e;return(e=(e=(e=typeof globalThis!==r?globalThis:e)||typeof self===r?e:self)||typeof window===r?e:window)||typeof global===r?e:global}function pe(t){return function(e){return e[t]}}function ge(){var e;ve||(e=b(me).v||{},ve=e[he]=e[he]||{}),o=ve}function _(e){return E({toJSON:function(){return e}},"v",{value:e})}var c,Pe="window";function y(e,t){var n;return function(){return o||ge(),(n=n&&!o.lzy?n:_(b(e,t).v)).v}}function we(e){return o||ge(),(c=c&&!1!==e&&!o.lzy?c:_(b(me).v||l)).v}function O(e,t){t=c&&!1!==t?c.v:we(t);return t&&t[e]?t[e]:e===Pe?je():l}var Se,Ae,be=y(O,["document"]),je=y(O,[Pe]),Re=y(function(){return!!b(function(){return process&&(process.versions||{}).node}).v});function Ie(){return Se=_(b(O,[W]).v)}function Ee(){return o||ge(),((o.lzy?0:Se)||Ie()).v}function N(e,t){var n,r=de[e],i=(o||ge(),(o.lzy?0:Se)||Ie());return i.v?i.v[r||e]:t?a:(ye=ye||{},(i=de[e])?ye[i]=ye[i]||((r={description:u(n=W+"."+i),toString:function(){return W+"("+n+")"}})[H]=!0,r):void 0)}function Te(e){return e&&R(e.next)}function De(e){return e!==l&&(e||e!==a)&&R(e[N(3)])}function _e(t,e,n){if(t&&(Te(t)||(t=t[(Ae=Ae||_(N(3))).v]?t[Ae.v]():null),Te(t))){var r=a,i=a;try{for(var u=0;!(i=t.next()).done&&-1!==e[s](n||t,i.value,u,t);)u++}catch(e){r={e:e},t.throw&&(i=l,t.throw(r))}finally{try{i&&!i.done&&t.return&&t.return(i)}finally{if(r)throw r.e}}}}function Oe(e,t,n){return e.apply(t,n)}function Ne(e,t,n){if(e)for(var r=e[L]>>>0,i=0;i<r&&!(i in e&&-1===t[s](n||e,e[i],i,e));i++);}var $e=function(r){var i=M&&M[r];return function(e){var t,n=e&&e[r]||i;if(n)return t=arguments,(n||void 0).apply(e,n?v[s](t,1):t);D('"'+u(r)+'" not defined for '+T(e))}}("indexOf");function $(e){return(e&&e.slice||v).apply(e,v[s](arguments,1))}var ke,xe=t(n(i,"create"),Ce);function Ce(e){var t;return e?((t=typeof e)!==F&&t!=z&&D("Prototype must be an Object or function: "+T(e)),n[f]=e,new n):{};function n(){}}function ze(e,t){return(i.setPrototypeOf||function(n,e){var t;(ke=ke||_(((t={})[q]=[],t instanceof Array))).v?n[q]=e:te(e,function(e,t){return n[e]=t})})(e,t)}function Fe(e,t){t&&(e[U]=t)}function qe(i,u,e){var t,n,o=e||Error,c=o[f][U],a=Error.captureStackTrace,e=o;return b(ie,[n=function(){var e=this,t=arguments;try{b(Fe,[o,i]);var n,r=Oe(o,e,v[s](t))||e;return r!==e&&(n=fe(e))!==fe(r)&&ze(r,n),a&&a(r,e[J]),u&&u(r,t),r}finally{b(Fe,[o,c])}},U,{v:t=i,c:!0,e:!1}]),(n=ze(n,e))[f]=e===l?xe(e):(r[f]=e[f],new r),n;function r(){this[J]=n,b(ie,[this,U,{v:t,c:!0,e:!1}])}}function p(){return(Date.now||Je)()}function Je(){return(new Date).getTime()}var g=pe(L),We="ref",He="unref",Le="hasRef",Ue="enabled";function Be(e,t,n){var r,i=!0,u=e?t(l):l;function o(){return i=!1,u&&u[He]&&u[He](),r}function c(){u&&n(u),u=l}function a(){return u=t(u),i||o(),r}return(r={cancel:c,refresh:a})[Le]=function(){return u&&u[Le]?u[Le]():i},r[We]=function(){return i=!0,u&&u[We]&&u[We](),r},r[He]=o,{h:r=E(r,Ue,{get:function(){return!!u},set:function(e){!e&&u&&c(),e&&!u&&a()}}),dn:function(){u=l}}}function k(){return e=a,t=v[s](arguments),r=(n=V(e))?e.length:0,i=(0<r?e[0]:n?a:e)||setTimeout,u=(1<r?e[1]:a)||clearTimeout,o=t[0],t[0]=function(){c.dn(),Oe(o,a,v[s](arguments))},(c=Be(!0,function(e){if(e){if(e.refresh)return e.refresh(),e;Oe(u,a,[e])}return Oe(i,a,t)},function(e){Oe(u,a,[e])})).h;var e,t,n,r,i,u,o,c}var Ge=y(O,["requestIdleCallback"]),Ke=y(O,["cancelIdleCallback"]);let Me="Promise",Qe="done",Ve="rejected";function Xe(e,t){return P(e,e=>t?t({status:"fulfilled",rejected:!1,value:e}):e,e=>t?t({status:Ve,rejected:!0,reason:e}):e)}function P(e,t,n,r){let i=e;try{if(I(e))(t||n)&&(i=e.then(t,n));else try{t&&(i=t(e))}catch(e){if(!n)throw e;i=n(e)}}finally{r&&Ye(i,r)}return i}function Ye(e,t){let n=e;return t&&(I(e)?n=e.finally?e.finally(t):e.then(function(e){return t(),e},function(e){throw t(),e}):t()),n}let Ze,et,tt,nt=!1,rt=["pending","resolving","resolved",Ve],it="dispatchEvent",ut;function ot(e){return!!(e=e&&e.createEvent?e.createEvent("Event"):void 0)&&e.initEvent}let ct="unhandledRejection",at=ct.toLowerCase(),lt=[],ft=0,st=10,vt,yt;function dt(e){return R(e)?e.toString():T(e)}function ht(e){return new(vt=vt||_(b(O,["AggregationError"]).v||qe("AggregationError",(e,t)=>{e.errors=t[0]}))).v(e)}function mt(e,t,n){let r=$(arguments,3),o=0,c=!1,a,l=[],f=ft++,i=0<lt.length?lt[lt.length-1]:void 0,s=!1,v=null,u;function y(i,u){try{return lt.push(f),s=!0,v&&v.cancel(),v=null,e(function(n,r){l.push(function(){try{var e=2===o?i:u,t=j(e)?a:R(e)?e(a):e;I(t)?t.then(n,r):(e||3!==o?n:r)(t)}catch(e){r(e)}}),c&&h()},r)}finally{lt.pop()}}function d(){return rt[o]}function h(){var e;0<l.length&&(e=l.slice(),l=[],s=!0,v&&v.cancel(),v=null,t(e))}function m(t,n){return e=>{o===n&&(2===t&&I(e)?(o=1,e.then(m(2,1),m(3,1))):(o=t,c=!0,a=e,h(),s||3!==t||(v=v||k(p,st))))}}function p(){var e,t,n,r,i;s||(s=!0,Re()?process.emit(ct,a,u):(e=je()||we(),yt=yt||_(b(O,[Me+"RejectionEvent"]).v),e=e,t=at,i=e=>(ie(e,"promise",{g:()=>u}),e.reason=a,e),n=!!yt.v,r=be(),i(i=(ut=ut||_(!!b(ot,[r]).v)).v?r.createEvent("Event"):n?new Event(t):{}),ut.v&&i.initEvent(t,!1,!0),i&&e[it]?e[it](i):(r=e["on"+t])?r(i):(n=O("console"))&&(n.error||n.log)(t,T(i))))}u={then:y,catch:function(e){return y(void 0,e)},finally:function(t){let e=t,n=t;return R(t)&&(e=function(e){return t&&t(),e},n=function(e){throw t&&t(),e}),y(e,n)}},E(u,"state",{get:d}),nt&&(g=u,A=d,P=()=>{return e=a,G[B].call(e);var e},w=()=>s,Ze=Ze||{toString:()=>"[[PromiseState]]"},et=et||{toString:()=>"[[PromiseResult]]"},tt=tt||{toString:()=>"[[PromiseIsHandled]]"},(S={})[Ze]={get:A},S[et]={get:P},S[tt]={get:w},re(g,S)),Ee()&&(u[N(11)]="IPromise"),u.toString=function(){return"IPromise"+(nt?"["+f+(j(i)?"":":"+i)+"]":"")+" "+d()+(c?" - "+dt(a):"")},R(n)||D(Me+": executor is not a function - "+dt(n));var g,P,w,S,A=m(3,0);try{n.call(u,m(2,0),A)}catch(e){A(e)}return u}function pt(n){return function(e){var t=$(arguments,1);return n((i,u)=>{try{let n=[],r=1;_e(e,(e,t)=>{e&&(r++,P(e,e=>{n[t]=e,0==--r&&i(n)},u))}),0==--r&&i(n)}catch(e){u(e)}},t)}}function gt(n){return function(t){var e=$(arguments,1);return I(t)?t:n(e=>{e(t)},e)}}function Pt(t){return function(n){var e=$(arguments,1);return t((e,t)=>{t(n)},e)}}function wt(t){return _(function(u){var e=$(arguments,1);return t((n,t)=>{let r=[],i=1;function e(e,t){i++,Xe(e,e=>{e.rejected?r[t]={status:Ve,reason:e.reason}:r[t]={status:"fulfilled",value:e.value},0==--i&&n(r)})}try{V(u)?Ne(u,e):De(u)?_e(u,e):D("Input is not an iterable"),0==--i&&n(r)}catch(e){t(e)}},e)})}function St(t){return _(function(i){var e=$(arguments,1);return t((t,n)=>{let r=!1;function e(e){Xe(e,e=>{r||(r=!0,e.rejected?n(e.reason):t(e.value))})}try{V(i)?Ne(i,e):De(i)?_e(i,e):D("Input is not an iterable")}catch(e){n(e)}},e)})}function At(n){return _(function(t){var e=$(arguments,1);return n((n,r)=>{let i=[],u=1,o=!1;function e(e,t){u++,Xe(e,e=>{e.rejected?(i[t]=e.reason,0!=--u||o||r(ht(i))):(o=!0,n(e.value))})}try{V(t)?Ne(t,e):De(t)?_e(t,e):D("Input is not an iterable"),0!=--u||o||r(ht(i))}catch(e){r(e)}},e)})}function bt(e){Ne(e,e=>{try{e()}catch(e){}})}let jt,Rt,It;function d(e,t){return mt(d,function(e){let t=X(e)?e:0;return e=>{k(()=>{bt(e)},t)}}(t),e,t)}var K=pt(d),Et=gt(d),Tt=Pt(d);function Dt(e,t){return(jt=jt||wt(d)).v(e,t)}function _t(e,t){return(Rt=Rt||St(d)).v(e,t)}function Ot(e,t){return(It=It||At(d)).v(e,t)}let h,Nt,$t,kt,xt;function Ct(r,e){return(h=h||_(b(O,[Me]).v||null)).v&&h.v[r]?_(function(n,e){return m((e,t)=>{h.v[r](n).then(e,t)})}):e()}function m(e,t){var n=(h=h||_(b(O,[Me]).v||null)).v;if(!n)return d(e);R(e)||D(Me+": executor is not a function - "+T(e));let r=0,i=new n((t,n)=>{e(function(e){r=2,t(e)},function(e){r=3,n(e)})});return E(i,"state",{get:function(){return rt[r]}}),i}let zt=gt(m),Ft=Pt(m),qt,Jt,Wt;function w(e){return mt(w,bt,e)}let Ht=pt(w),Lt=gt(w),Ut=Pt(w),Bt,Gt,Kt,Mt;function Qt(e){Bt=e}var Vt=Qt;function S(e,t){var n=j(t)?Bt:t;return mt(S,function(){let o;return 0<=n&&(o={timeout:+n}),t=>{var n,e,r=e=>{bt(t)},i=o;function u(e){var t=p();return{didTimeout:e,timeRemaining:function(){return 50-(e=t,p()-e);var e}}}Ge()?(n=Be(!0,function(e){return e&&Ke()(e),Ge()(function(e){n.dn(),r(e||u(!1))},i)},function(e){Ke()(e)})).h:k(function(){r(u(!0))},j(e=(i||{}).timeout)?100:e)}}(),e,n)}let Xt=pt(S),Yt=gt(S),Zt=Pt(S),en,tn,nn,rn;function A(e,t){return(en=en||_(m)).v.call(this,e,t)}var un,on=pt(A),cn=gt(A),an=Pt(A);function ln(e,t,n,r){let i=e;if(t.res=n,!i){if(t.isDone&&R(t.isDone))return P(t.isDone.call(r,t),e=>(t.iter++,!!e));i=!!t.isDone}return t.iter++,i}function fn(i,e,u){let o,c,a=e=>{throw l=!0,e},l=!1,f={st:p(),iter:0,isDone:e||!1};if(i){let n=()=>A((e,t)=>{c=e,a=t}),r=e=>{(l=!!e)?c(f.res):t()},t=()=>{for(;!l;)try{var e=i.call(u,f);if(I(e))return o=o||n(),P(e,e=>{try{P(ln(l,f,e,u),r,a)}catch(e){a(e)}},a),o;var t=ln(l,f,e,u);if(I(t))return o=o||n(),P(t,r,a),o;l=!!t}catch(e){return a(e),o}return l&&c&&c(f.res),o||f.res};return t()}}let sn,vn,yn="reject",dn="Rejected",hn=0,mn,pn,gn={};function Pn(){}function wn(e,t,n){gn[e]||(gn[e]=qe(e));var r=p();return new gn[e](`Task [${t.id}] ${n||""}- ${t.st?"Running":"Waiting"}: `+(r-(t.st||t.cr)||"0")+" ms")}function Sn(e,t){let n=p()-t;Ne(e,e=>{(e&&!e.rj&&e.st&&e.st<n||!e.st&&e.cr&&e.cr<n)&&e&&e[yn](e.rj||wn("Aborted",e,"Stale "))})}function An(e,t){t=$e(e,t);-1!==t&&e.splice(t,1)}let bn=N(11);function x(e){this._$=d(e),bn&&(this[bn]="Promise"),E(this,"state",{get:function(){return this._$.state}})}return x.all=K,x.race=_t,x.any=Ot,x.reject=Tt,x.resolve=Et,x.allSettled=Dt,(un=x.prototype).then=function(e,t){return this._$.then(e,t)},un.catch=function(e){return this._$.catch(e)},un.finally=function(e){return this._$.finally(e)},e.PolyPromise=x,e.arrForEachAsync=function(n,r,i){if(n){let t=g(n);if(t)return fn(e=>{e=e.iter;if(e in n)return r.call(i||n,n[e],e,n)},e=>{if(e.iter>=t||-1===e.res)return!0})}},e.createAllPromise=on,e.createAllSettledPromise=function(e,t){return(tn=tn||wt(A)).v(e,t)},e.createAnyPromise=function(e,t){return(rn=rn||At(A)).v(e,t)},e.createAsyncAllPromise=K,e.createAsyncAllSettledPromise=Dt,e.createAsyncAnyPromise=Ot,e.createAsyncPromise=d,e.createAsyncRacePromise=_t,e.createAsyncRejectedPromise=Tt,e.createAsyncResolvedPromise=Et,e.createIdleAllPromise=Xt,e.createIdleAllSettledPromise=function(e,t){return(Gt=Gt||wt(S)).v(e,t)},e.createIdleAnyPromise=function(e,t){return(Mt=Mt||At(S)).v(e,t)},e.createIdlePromise=S,e.createIdleRacePromise=function(e,t){return(Kt=Kt||St(S)).v(e,t)},e.createIdleRejectedPromise=Zt,e.createIdleResolvedPromise=Yt,e.createNativeAllPromise=function(e,t){return(Nt=Nt||Ct("all",()=>_(pt(m)))).v(e,t)},e.createNativeAllSettledPromise=function(e,t){return($t=$t||Ct("allSettled",()=>wt(m))).v(e,t)},e.createNativeAnyPromise=function(e,t){return(xt=xt||Ct("any",()=>At(m))).v(e,t)},e.createNativePromise=m,e.createNativeRacePromise=function(e,t){return(kt=kt||Ct("race",()=>St(m))).v(e,t)},e.createNativeRejectedPromise=Ft,e.createNativeResolvedPromise=zt,e.createPromise=A,e.createRacePromise=function(e,t){return(nn=nn||St(A)).v(e,t)},e.createRejectedPromise=an,e.createResolvedPromise=cn,e.createSyncAllPromise=Ht,e.createSyncAllSettledPromise=function(e,t){return(qt=qt||wt(w)).v(e,t)},e.createSyncAnyPromise=function(e,t){return(Wt=Wt||At(w)).v(e,t)},e.createSyncPromise=w,e.createSyncRacePromise=function(e,t){return(Jt=Jt||St(w)).v(e,t)},e.createSyncRejectedPromise=Ut,e.createSyncResolvedPromise=Lt,e.createTaskScheduler=function(a,e){let l,t=[],f=[],n=6e5,r=n/10,s=0,v=(e?e+".":"")+hn++,i,y=(a=a||A,()=>{var e=0<g(t)+g(f);0<n&&(i||(i=k(()=>{Sn(t,n),Sn(f,n),i&&(i.enabled=0<g(t)+g(f))},r)).unref(),i)&&(i.enabled=e)}),d=(u,o)=>(u.st=p(),t.push(u),y(),(t,n)=>{let r=e=>{u.rj=u.rj||e||wn(dn,u),u[yn]=Pn,c(u),t=null,n&&n(e),n=null},e=u.id;if(u.rj)r(u.rj);else{u[yn]=r;try{var i=o(e);u.to&&I(i)&&(u.t=k(()=>{r(wn("Timeout",u))},u.to)),P(i,e=>{c(u);try{t&&t(e)}catch(e){n&&n(e)}t=n=null},r)}catch(e){r(e)}}}),c=e=>{An(t,e),e.t&&e.t.cancel(),e.t=null,l&&l===e&&(l=null,g(t)+g(f)===0)&&(i&&i.cancel(),i=null)},u,o,h,m={idle:!0,queue:(e,t,n)=>{let r=v+"."+s++,i=(t&&(r+="-("+t+")"),{id:r,cr:p(),to:n,reject:e=>{i.rj=e||wn(dn,i),i[yn]=Pn}});var u,o,c;return l?i.p=(u=i,o=l,c=e,f.push(u),y(),a((e,t)=>{Xe(o.p,()=>{An(f,u),d(u,c)(e,t)})})):i.p=a(d(i,e)),(l=i).p},setStaleTimeout:(e,t)=>{i&&i.cancel(),i=null,n=e,r=t||e/10,y()}};return ie(m,"idle",{g:()=>g(t)+g(f)===0}),u=m,o=()=>v,h=()=>({l:l,r:t,w:f}),mn=mn||{toString:()=>"[[SchedulerName]]"},pn=pn||{toString:()=>"[[SchedulerState]]"},E(u,mn,{get:o}),E(u,pn,{get:h}),m},e.createTimeoutPromise=function(n,r,i){return A((e,t)=>{k(()=>{(r?e:t)(j(i)?"Timeout of "+n+"ms exceeded":i)},n)})},e.doAwait=P,e.doAwaitResponse=Xe,e.doFinally=Ye,e.doWhileAsync=fn,e.iterForOfAsync=function(e,n,r){let t,i,u=e;function o(e){throw t={e:e},u.throw&&(i=null,u.throw(t)),e}function c(){try{i&&!i[Qe]&&u.return&&u.return(i)}finally{if(t)throw t.e}}if(e&&(Te(e)||(vn=vn||_(N(0)),u=e[vn.v]?e[vn.v]():null)||(sn=sn||_(N(3)),u=e[sn.v]?e[sn.v]():null),u)&&Te(u)){let e;try{return e=I(e=fn(t=>P(u.next(),e=>{if(!(i=e)[Qe])return function(e,t){return e.apply(t,v[s](arguments,2))}(n,r||u,i.value,t.iter,u)},e=>{t.isDone=!0,o(e)}),e=>{if(!i||i[Qe]||-1===e.res)return c(),!0},r||u))?Ye(e.catch(o),c):e}catch(e){o(e)}finally{e&&!I(e)&&c()}}},e.setCreatePromiseImpl=function(e){en=e?_(e):null},e.setDefaultIdlePromiseTimeout=Qt,e.setDefaultIdleTimeout=Vt,e.setPromiseDebugState=function(e,t){nt=e},e}({});
//# sourceMappingURL=ts-async.min.js.map
