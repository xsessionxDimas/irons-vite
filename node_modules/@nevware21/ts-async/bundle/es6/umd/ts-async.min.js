/*!
 * NevWare21 Solutions LLC - ts-async, 0.5.2
 * https://github.com/nevware21/ts-async
 * Copyright (c) NevWare21 Solutions LLC and contributors. All rights reserved.
 * Licensed under the MIT license.
 */
function e(e){function t(e,t){return e||t}function n(e,t){return e[t]}var a=void 0,l=null,C="",z="function",F="object",f="prototype",q="__proto__",r="undefined",J="constructor",W="Symbol",H="_polyfill",L="length",U="name",s="call",B="toString",i=t(Object),G=n(i,f),K=n(It=t(Array),f),v=n(K,"slice");function A(e,t){try{return{v:e.apply(this,t)}}catch(e){return{e:e}}}function M(t){return function(e){return typeof e===t}}function j(e){return typeof e===r||e===r}var R=M(z),Q=n(It,"isArray"),V=M("number");function I(e){return e&&e.then&&R(e.then)}var X=n(i,"getOwnPropertyDescriptor"),Y=t(n(i,"hasOwn"),Z);function Z(e,t){return!!e&&G.hasOwnProperty[s](e,t)||!!X(e,t)}function ee(e,t,n){if(e&&(e||e!==l&&!j(e))&&e&&typeof e===F)for(var r in e)if(Y(e,r)&&-1===t[s](n||e,r,e[r]))break}var te={e:"enumerable",c:"configurable",v:"value",w:"writable",g:"get",s:"set"},T=n(i,"defineProperty"),ne=n(i,"defineProperties");function re(e,t,n){return T(e,t,(r=n,(i={})[te.c]=!0,i[te.e]=!0,r.l&&(i.get=function(){return r.l.v},e=X(r.l,"v"))&&e.set&&(i.set=function(e){r.l.v=e}),ee(r,function(e,t){i[te[e]]=j(t)?i[te[e]]:t}),i));var r,i}function ie(e,t,n,r){T(e,t,{value:n,enumerable:!0,writable:!!r})}var o=t(t(String)),oe="[object Error]";function E(e,t){var n=C,r=G[B][s](e);r===oe&&(e={stack:o(e.stack),message:o(e.message),name:o(e.name)});try{n=(n=JSON.stringify(e,l,t?"number"==typeof t?t:4:a))&&n.replace(/"(\w+)"\s*:\s{0,1}/g,"$1: ")||o(e)}catch(e){n=" - "+E(e,t)}return r+": "+n}function D(e){throw new TypeError(e)}function ue(e){return e}function ce(e){return e[q]||l}var ae=t(n(i,"freeze"),ue),le=t(n(i,"getPrototypeOf"),ce);function fe(e){return t=ae,n={},ee(e,function(e,t){ie(n,e,e,void 0),ie(n,t,e,void 0)}),t?t(n):n;var t,n}var se,ve,u,de=fe({asyncIterator:0,hasInstance:1,isConcatSpreadable:2,iterator:3,match:4,matchAll:5,replace:6,search:7,species:8,split:9,toPrimitive:10,toStringTag:11,unscopables:12}),ye="__tsUtils$gblCfg";function he(){var e;return(e=(e=(e=typeof globalThis!==r?globalThis:e)||typeof self===r?e:self)||typeof window===r?e:window)||typeof global===r?e:global}function me(t){return function(e){return e[t]}}function pe(){var e;se||(e=A(he).v||{},se=e[ye]=e[ye]||{}),u=se}function _(e){return T({toJSON:function(){return e}},"v",{value:e})}var c,ge="window";function d(e,t){var n;return function(){return u||pe(),(n=n&&!u.lzy?n:_(A(e,t).v)).v}}function Pe(e){return u||pe(),(c=c&&!1!==e&&!u.lzy?c:_(A(he).v||l)).v}function O(e,t){t=c&&!1!==t?c.v:Pe(t);return t&&t[e]?t[e]:e===ge?Ae():l}var we,Se,be=d(O,["document"]),Ae=d(O,[ge]),je=d(function(){return!!A(function(){return process&&(process.versions||{}).node}).v});function Re(){return we=_(A(O,[W]).v)}function Ie(){return u||pe(),((u.lzy?0:we)||Re()).v}function x(e,t){var n,r=de[e],i=(u||pe(),(u.lzy?0:we)||Re());return i.v?i.v[r||e]:t?a:(ve=ve||{},(i=de[e])?ve[i]=ve[i]||((r={description:o(n=W+"."+i),toString:function(){return W+"("+n+")"}})[H]=!0,r):void 0)}function Te(e){return e&&R(e.next)}function Ee(e){return e!==l&&(e||e!==a)&&R(e[x(3)])}function De(t,e,n){if(t&&(Te(t)||(t=t[(Se=Se||_(x(3))).v]?t[Se.v]():null),Te(t))){var r=a,i=a;try{for(var o=0;!(i=t.next()).done&&-1!==e[s](n||t,i.value,o,t);)o++}catch(e){r={e:e},t.throw&&(i=l,t.throw(r))}finally{try{i&&!i.done&&t.return&&t.return(i)}finally{if(r)throw r.e}}}}function _e(e,t,n){return e.apply(t,n)}function Oe(e,t,n){if(e)for(var r=e[L]>>>0,i=0;i<r&&!(i in e&&-1===t[s](n||e,e[i],i,e));i++);}var xe=function(r){var i=K&&K[r];return function(e){var t,n=e&&e[r]||i;if(n)return t=arguments,(n||void 0).apply(e,n?v[s](t,1):t);D('"'+o(r)+'" not defined for '+E(e))}}("indexOf");function N(e){return(e&&e.slice||v).apply(e,v[s](arguments,1))}var Ne,$e=t(n(i,"create"),ke);function ke(e){var t;return e?((t=typeof e)!==F&&t!=z&&D("Prototype must be an Object or function: "+E(e)),n[f]=e,new n):{};function n(){}}function Ce(e,t){return(i.setPrototypeOf||function(n,e){var t;(Ne=Ne||_(((t={})[q]=[],t instanceof Array))).v?n[q]=e:ee(e,function(e,t){return n[e]=t})})(e,t)}function ze(e,t){t&&(e[U]=t)}function Fe(i,o,e){var t,n,u=e||Error,c=u[f][U],a=Error.captureStackTrace,e=u;return A(re,[n=function(){var e=this,t=arguments;try{A(ze,[u,i]);var n,r=_e(u,e,v[s](t))||e;return r!==e&&(n=le(e))!==le(r)&&Ce(r,n),a&&a(r,e[J]),o&&o(r,t),r}finally{A(ze,[u,c])}},U,{v:t=i,c:!0,e:!1}]),(n=Ce(n,e))[f]=e===l?$e(e):(r[f]=e[f],new r),n;function r(){this[J]=n,A(re,[this,U,{v:t,c:!0,e:!1}])}}function p(){return(Date.now||qe)()}function qe(){return(new Date).getTime()}var g=me(L),Je="ref",We="unref",He="hasRef",Le="enabled";function Ue(e,t,n){var r,i=!0,o=e?t(l):l;function u(){return i=!1,o&&o[We]&&o[We](),r}function c(){o&&n(o),o=l}function a(){return o=t(o),i||u(),r}return(r={cancel:c,refresh:a})[He]=function(){return o&&o[He]?o[He]():i},r[Je]=function(){return i=!0,o&&o[Je]&&o[Je](),r},r[We]=u,{h:r=T(r,Le,{get:function(){return!!o},set:function(e){!e&&o&&c(),e&&!o&&a()}}),dn:function(){o=l}}}function $(){return e=a,t=v[s](arguments),r=(n=Q(e))?e.length:0,i=(0<r?e[0]:n?a:e)||setTimeout,o=(1<r?e[1]:a)||clearTimeout,u=t[0],t[0]=function(){c.dn(),_e(u,a,v[s](arguments))},(c=Ue(!0,function(e){if(e){if(e.refresh)return e.refresh(),e;_e(o,a,[e])}return _e(i,a,t)},function(e){_e(o,a,[e])})).h;var e,t,n,r,i,o,u,c}var Be=d(O,["requestIdleCallback"]),Ge=d(O,["cancelIdleCallback"]);let Ke="Promise",Me="done",Qe="rejected";function Ve(e,t){return P(e,e=>t?t({status:"fulfilled",rejected:!1,value:e}):e,e=>t?t({status:Qe,rejected:!0,reason:e}):e)}function P(e,t,n,r){let i=e;try{if(I(e))(t||n)&&(i=e.then(t,n));else try{t&&(i=t(e))}catch(e){if(!n)throw e;i=n(e)}}finally{r&&Xe(i,r)}return i}function Xe(e,t){let n=e;return t&&(I(e)?n=e.finally?e.finally(t):e.then(function(e){return t(),e},function(e){throw t(),e}):t()),n}let Ye,Ze,et,tt=!1,nt=["pending","resolving","resolved",Qe],rt="dispatchEvent",it;function ot(e){return!!(e=e&&e.createEvent?e.createEvent("Event"):void 0)&&e.initEvent}let ut="unhandledRejection",ct=ut.toLowerCase(),at=[],lt=0,ft=10,st,vt;function dt(e){return R(e)?e.toString():E(e)}function yt(e){return new(st=st||_(A(O,["AggregationError"]).v||Fe("AggregationError",(e,t)=>{e.errors=t[0]}))).v(e)}function ht(e,t,n){let r=N(arguments,3),u=0,c=!1,a,l=[],f=lt++,i=0<at.length?at[at.length-1]:void 0,s=!1,v=null,o;function d(i,o){try{return at.push(f),s=!0,v&&v.cancel(),v=null,e(function(n,r){l.push(function(){try{var e=2===u?i:o,t=j(e)?a:R(e)?e(a):e;I(t)?t.then(n,r):(e||3!==u?n:r)(t)}catch(e){r(e)}}),c&&h()},r)}finally{at.pop()}}function y(){return nt[u]}function h(){var e;0<l.length&&(e=l.slice(),l=[],s=!0,v&&v.cancel(),v=null,t(e))}function m(t,n){return e=>{u===n&&(2===t&&I(e)?(u=1,e.then(m(2,1),m(3,1))):(u=t,c=!0,a=e,h(),s||3!==t||(v=v||$(p,ft))))}}function p(){var e,t,n,r,i;s||(s=!0,je()?process.emit(ut,a,o):(e=Ae()||Pe(),vt=vt||_(A(O,[Ke+"RejectionEvent"]).v),e=e,t=ct,i=e=>(re(e,"promise",{g:()=>o}),e.reason=a,e),n=!!vt.v,r=be(),i(i=(it=it||_(!!A(ot,[r]).v)).v?r.createEvent("Event"):n?new Event(t):{}),it.v&&i.initEvent(t,!1,!0),i&&e[rt]?e[rt](i):(r=e["on"+t])?r(i):(n=O("console"))&&(n.error||n.log)(t,E(i))))}o={then:d,catch:function(e){return d(void 0,e)},finally:function(t){let e=t,n=t;return R(t)&&(e=function(e){return t&&t(),e},n=function(e){throw t&&t(),e}),d(e,n)}},T(o,"state",{get:y}),tt&&(g=o,b=y,P=()=>{return e=a,G[B].call(e);var e},w=()=>s,Ye=Ye||{toString:()=>"[[PromiseState]]"},Ze=Ze||{toString:()=>"[[PromiseResult]]"},et=et||{toString:()=>"[[PromiseIsHandled]]"},(S={})[Ye]={get:b},S[Ze]={get:P},S[et]={get:w},ne(g,S)),Ie()&&(o[x(11)]="IPromise"),o.toString=function(){return"IPromise"+(tt?"["+f+(j(i)?"":":"+i)+"]":"")+" "+y()+(c?" - "+dt(a):"")},R(n)||D(Ke+": executor is not a function - "+dt(n));var g,P,w,S,b=m(3,0);try{n.call(o,m(2,0),b)}catch(e){b(e)}return o}function mt(n){return function(e){var t=N(arguments,1);return n((i,o)=>{try{let n=[],r=1;De(e,(e,t)=>{e&&(r++,P(e,e=>{n[t]=e,0==--r&&i(n)},o))}),0==--r&&i(n)}catch(e){o(e)}},t)}}function pt(n){return function(t){var e=N(arguments,1);return I(t)?t:n(e=>{e(t)},e)}}function gt(t){return function(n){var e=N(arguments,1);return t((e,t)=>{t(n)},e)}}function Pt(t){return _(function(o){var e=N(arguments,1);return t((n,t)=>{let r=[],i=1;function e(e,t){i++,Ve(e,e=>{e.rejected?r[t]={status:Qe,reason:e.reason}:r[t]={status:"fulfilled",value:e.value},0==--i&&n(r)})}try{Q(o)?Oe(o,e):Ee(o)?De(o,e):D("Input is not an iterable"),0==--i&&n(r)}catch(e){t(e)}},e)})}function wt(t){return _(function(i){var e=N(arguments,1);return t((t,n)=>{let r=!1;function e(e){Ve(e,e=>{r||(r=!0,e.rejected?n(e.reason):t(e.value))})}try{Q(i)?Oe(i,e):Ee(i)?De(i,e):D("Input is not an iterable")}catch(e){n(e)}},e)})}function St(n){return _(function(t){var e=N(arguments,1);return n((n,r)=>{let i=[],o=1,u=!1;function e(e,t){o++,Ve(e,e=>{e.rejected?(i[t]=e.reason,0!=--o||u||r(yt(i))):(u=!0,n(e.value))})}try{Q(t)?Oe(t,e):Ee(t)?De(t,e):D("Input is not an iterable"),0!=--o||u||r(yt(i))}catch(e){r(e)}},e)})}function bt(e){Oe(e,e=>{try{e()}catch(e){}})}let At,jt,Rt;function y(e,t){return ht(y,function(e){let t=V(e)?e:0;return e=>{$(()=>{bt(e)},t)}}(t),e,t)}var It=mt(y),Tt=pt(y),Et=gt(y);function Dt(e,t){return(At=At||Pt(y)).v(e,t)}function _t(e,t){return(jt=jt||wt(y)).v(e,t)}function Ot(e,t){return(Rt=Rt||St(y)).v(e,t)}let h,xt,Nt,$t,kt;function Ct(r,e){return(h=h||_(A(O,[Ke]).v||null)).v&&h.v[r]?_(function(n,e){return m((e,t)=>{h.v[r](n).then(e,t)})}):e()}function m(e,t){var n=(h=h||_(A(O,[Ke]).v||null)).v;if(!n)return y(e);R(e)||D(Ke+": executor is not a function - "+E(e));let r=0,i=new n((t,n)=>{e(function(e){r=2,t(e)},function(e){r=3,n(e)})});return T(i,"state",{get:function(){return nt[r]}}),i}let zt=pt(m),Ft=gt(m),qt,Jt,Wt;function w(e){return ht(w,bt,e)}let Ht=mt(w),Lt=pt(w),Ut=gt(w),Bt,Gt,Kt,Mt;function Qt(e){Bt=e}var Vt=Qt;function S(e,t){var n=j(t)?Bt:t;return ht(S,function(){let u;return 0<=n&&(u={timeout:+n}),t=>{var n,e,r=e=>{bt(t)},i=u;function o(e){var t=p();return{didTimeout:e,timeRemaining:function(){return 50-(e=t,p()-e);var e}}}Be()?(n=Ue(!0,function(e){return e&&Ge()(e),Be()(function(e){n.dn(),r(e||o(!1))},i)},function(e){Ge()(e)})).h:$(function(){r(o(!0))},j(e=(i||{}).timeout)?100:e)}}(),e,n)}let Xt=mt(S),Yt=pt(S),Zt=gt(S),en,tn,nn,rn;function b(e,t){return(en=en||_(m)).v.call(this,e,t)}var on,un=mt(b),cn=pt(b),an=gt(b);function ln(e,t,n,r){let i=e;if(t.res=n,!i){if(t.isDone&&R(t.isDone))return P(t.isDone.call(r,t),e=>(t.iter++,!!e));i=!!t.isDone}return t.iter++,i}function fn(i,e,o){let u,c,a=e=>{throw l=!0,e},l=!1,f={st:p(),iter:0,isDone:e||!1};if(i){let n=()=>b((e,t)=>{c=e,a=t}),r=e=>{(l=!!e)?c(f.res):t()},t=()=>{for(;!l;)try{var e=i.call(o,f);if(I(e))return u=u||n(),P(e,e=>{try{P(ln(l,f,e,o),r,a)}catch(e){a(e)}},a),u;var t=ln(l,f,e,o);if(I(t))return u=u||n(),P(t,r,a),u;l=!!t}catch(e){return a(e),u}return l&&c&&c(f.res),u||f.res};return t()}}let sn,vn,dn="reject",yn="Rejected",hn=0,mn,pn,gn={};function Pn(){}function wn(e,t,n){gn[e]||(gn[e]=Fe(e));var r=p();return new gn[e](`Task [${t.id}] ${n||""}- ${t.st?"Running":"Waiting"}: `+(r-(t.st||t.cr)||"0")+" ms")}function Sn(e,t){let n=p()-t;Oe(e,e=>{(e&&!e.rj&&e.st&&e.st<n||!e.st&&e.cr&&e.cr<n)&&e&&e[dn](e.rj||wn("Aborted",e,"Stale "))})}function bn(e,t){t=xe(e,t);-1!==t&&e.splice(t,1)}let An=x(11);function k(e){this._$=y(e),An&&(this[An]="Promise"),T(this,"state",{get:function(){return this._$.state}})}k.all=It,k.race=_t,k.any=Ot,k.reject=Et,k.resolve=Tt,k.allSettled=Dt,(on=k.prototype).then=function(e,t){return this._$.then(e,t)},on.catch=function(e){return this._$.catch(e)},on.finally=function(e){return this._$.finally(e)},e.PolyPromise=k,e.arrForEachAsync=function(n,r,i){if(n){let t=g(n);if(t)return fn(e=>{e=e.iter;if(e in n)return r.call(i||n,n[e],e,n)},e=>{if(e.iter>=t||-1===e.res)return!0})}},e.createAllPromise=un,e.createAllSettledPromise=function(e,t){return(tn=tn||Pt(b)).v(e,t)},e.createAnyPromise=function(e,t){return(rn=rn||St(b)).v(e,t)},e.createAsyncAllPromise=It,e.createAsyncAllSettledPromise=Dt,e.createAsyncAnyPromise=Ot,e.createAsyncPromise=y,e.createAsyncRacePromise=_t,e.createAsyncRejectedPromise=Et,e.createAsyncResolvedPromise=Tt,e.createIdleAllPromise=Xt,e.createIdleAllSettledPromise=function(e,t){return(Gt=Gt||Pt(S)).v(e,t)},e.createIdleAnyPromise=function(e,t){return(Mt=Mt||St(S)).v(e,t)},e.createIdlePromise=S,e.createIdleRacePromise=function(e,t){return(Kt=Kt||wt(S)).v(e,t)},e.createIdleRejectedPromise=Zt,e.createIdleResolvedPromise=Yt,e.createNativeAllPromise=function(e,t){return(xt=xt||Ct("all",()=>_(mt(m)))).v(e,t)},e.createNativeAllSettledPromise=function(e,t){return(Nt=Nt||Ct("allSettled",()=>Pt(m))).v(e,t)},e.createNativeAnyPromise=function(e,t){return(kt=kt||Ct("any",()=>St(m))).v(e,t)},e.createNativePromise=m,e.createNativeRacePromise=function(e,t){return($t=$t||Ct("race",()=>wt(m))).v(e,t)},e.createNativeRejectedPromise=Ft,e.createNativeResolvedPromise=zt,e.createPromise=b,e.createRacePromise=function(e,t){return(nn=nn||wt(b)).v(e,t)},e.createRejectedPromise=an,e.createResolvedPromise=cn,e.createSyncAllPromise=Ht,e.createSyncAllSettledPromise=function(e,t){return(qt=qt||Pt(w)).v(e,t)},e.createSyncAnyPromise=function(e,t){return(Wt=Wt||St(w)).v(e,t)},e.createSyncPromise=w,e.createSyncRacePromise=function(e,t){return(Jt=Jt||wt(w)).v(e,t)},e.createSyncRejectedPromise=Ut,e.createSyncResolvedPromise=Lt,e.createTaskScheduler=function(a,e){let l,t=[],f=[],n=6e5,r=n/10,s=0,v=(e?e+".":"")+hn++,i,d=(a=a||b,()=>{var e=0<g(t)+g(f);0<n&&(i||(i=$(()=>{Sn(t,n),Sn(f,n),i&&(i.enabled=0<g(t)+g(f))},r)).unref(),i)&&(i.enabled=e)}),y=(o,u)=>(o.st=p(),t.push(o),d(),(t,n)=>{let r=e=>{o.rj=o.rj||e||wn(yn,o),o[dn]=Pn,c(o),t=null,n&&n(e),n=null},e=o.id;if(o.rj)r(o.rj);else{o[dn]=r;try{var i=u(e);o.to&&I(i)&&(o.t=$(()=>{r(wn("Timeout",o))},o.to)),P(i,e=>{c(o);try{t&&t(e)}catch(e){n&&n(e)}t=n=null},r)}catch(e){r(e)}}}),c=e=>{bn(t,e),e.t&&e.t.cancel(),e.t=null,l&&l===e&&(l=null,g(t)+g(f)===0)&&(i&&i.cancel(),i=null)},o,u,h,m={idle:!0,queue:(e,t,n)=>{let r=v+"."+s++,i=(t&&(r+="-("+t+")"),{id:r,cr:p(),to:n,reject:e=>{i.rj=e||wn(yn,i),i[dn]=Pn}});var o,u,c;return l?i.p=(o=i,u=l,c=e,f.push(o),d(),a((e,t)=>{Ve(u.p,()=>{bn(f,o),y(o,c)(e,t)})})):i.p=a(y(i,e)),(l=i).p},setStaleTimeout:(e,t)=>{i&&i.cancel(),i=null,n=e,r=t||e/10,d()}};return re(m,"idle",{g:()=>g(t)+g(f)===0}),o=m,u=()=>v,h=()=>({l:l,r:t,w:f}),mn=mn||{toString:()=>"[[SchedulerName]]"},pn=pn||{toString:()=>"[[SchedulerState]]"},T(o,mn,{get:u}),T(o,pn,{get:h}),m},e.createTimeoutPromise=function(n,r,i){return b((e,t)=>{$(()=>{(r?e:t)(j(i)?"Timeout of "+n+"ms exceeded":i)},n)})},e.doAwait=P,e.doAwaitResponse=Ve,e.doFinally=Xe,e.doWhileAsync=fn,e.iterForOfAsync=function(e,n,r){let t,i,o=e;function u(e){throw t={e:e},o.throw&&(i=null,o.throw(t)),e}function c(){try{i&&!i[Me]&&o.return&&o.return(i)}finally{if(t)throw t.e}}if(e&&(Te(e)||(vn=vn||_(x(0)),o=e[vn.v]?e[vn.v]():null)||(sn=sn||_(x(3)),o=e[sn.v]?e[sn.v]():null),o)&&Te(o)){let e;try{return e=I(e=fn(t=>P(o.next(),e=>{if(!(i=e)[Me])return function(e,t){return e.apply(t,v[s](arguments,2))}(n,r||o,i.value,t.iter,o)},e=>{t.isDone=!0,u(e)}),e=>{if(!i||i[Me]||-1===e.res)return c(),!0},r||o))?Xe(e.catch(u),c):e}catch(e){u(e)}finally{e&&!I(e)&&c()}}},e.setCreatePromiseImpl=function(e){en=e?_(e):null},e.setDefaultIdlePromiseTimeout=Qt,e.setDefaultIdleTimeout=Vt,e.setPromiseDebugState=function(e,t){tt=e}}var t=this;"object"==typeof exports&&"undefined"!=typeof module?e(exports):"function"==typeof define&&define.amd?define(["exports"],e):e(((t="undefined"!=typeof globalThis?globalThis:t||self).nevware21=t.nevware21||{},t.nevware21["ts-async"]={}));
//# sourceMappingURL=ts-async.min.js.map
