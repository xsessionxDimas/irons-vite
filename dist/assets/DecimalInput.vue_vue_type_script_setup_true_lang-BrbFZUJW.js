import{k as h,c as b,R as u,p as x,aa as y,aB as C,C as S,s as d,x as _,b4 as D}from"./@vue-BypzYtbH.js";const k={class:"form-label fs-6 fw-bolder text-dark"},V=h({__name:"DecimalInput",props:{margin:{type:Boolean,default:!0},gridClass:{required:!1,type:String,default:""},max:{type:Number,default:524288},value:{required:!0,type:String},name:{required:!0,type:String},label:{required:!1,type:String},placeholder:{required:!1,type:String,default:"Input Text"},disabled:{default:!1}},emits:["handleChange"],setup(s,{emit:c}){const f=s,o=c,l=b({get:()=>f.value,set:t=>{o("handleChange",t)}}),m=t=>{let e=t;l.value=e.indexOf(".")>=0?e.substr(0,e.indexOf("."))+e.substr(e.indexOf("."),3):e},r=t=>{if(!t)return"0.00";const e=t.toString(),i=e.startsWith("-");let n=e.split(".")[0],a=e.split(".")[1];return n=n===""?"0":n.replace(/[^0-9]/g,""),a===void 0?a="00":a.length===1?a+="0":a=a.toString().substring(0,2),`${i?"-":""}${n}.${a}`},p=t=>{const e=t.which?t.which:t.keyCode;(e<48||e>57)&&(e!==46||l.value.indexOf(".")!==-1)&&t.preventDefault(),l.value[0]==="0"&&l.value[1]!=="."&&e!==46&&t.preventDefault()},v=()=>{(l.value==="0"||l.value==="0.00")&&(l.value="")},g=()=>{let t=l.value;const e=l.value.split(".")[1];if(parseFloat(t)===0){l.value=r("0");return}if(t===""){l.value=r("0"),o("handleChange",l.value);return}if(e!==""||typeof e>"u"){t=r(l.value),o("handleChange",t);return}t+="00",l.value=r(t)};return(t,e)=>{const i=u("el-input"),n=u("el-form-item");return x(),y("div",{class:D(["fv-row",s.gridClass])},[C("label",k,S(s.label),1),d(n,null,{default:_(()=>[d(i,{modelValue:l.value,"onUpdate:modelValue":e[0]||(e[0]=a=>l.value=a),placeholder:s.placeholder,class:"select-bg-grey",maxlength:s.max,onKeypress:p,onFocus:v,onBlur:g,onInput:m},null,8,["modelValue","placeholder","maxlength"])]),_:1})],2)}}});export{V as _};
