import{u as I}from"./vuex-BbOKrtVp.js";import{b as K,u as R}from"./vue-router-iNp9kJ0K.js";import{u as A}from"./vue-i18n-CE6bnohq.js";import{a as D,K as J}from"./Header-0QX9Cmwf.js";import{K as N}from"./Toolbar-CCvakk2v.js";import{H as V,a as E,K as F,r as H,l as O,c as j,b as q,t as P,d as z,s as W,e as b}from"./dom-BWyoH50f.js";import{u as G,c as Q,a as U,M as X,D as Y}from"./get-user-info-ClQf79xP.js";import{u as Z,a as $}from"./index-BCnwA6yE.js";import{u as ee}from"./@vueuse-MfruhCTE.js";import{d as oe}from"./cron-Ci8nYs3o.js";import{u as te}from"./useSyncStore-DsLBNjEA.js";import{u as re}from"./useMsal-BbsBYoof.js";import{i as ae,r as k}from"./internet-connection-B91-AJht.js";import{k as ne,c as t,a7 as se,o as ie,d as s,p as i,aa as le,u as o,q as m,A as c,aB as r,s as p,b4 as ue,F as me,R as ce}from"./@vue-BypzYtbH.js";import{_ as pe}from"./nw-img-vue-CR837WER.js";import"./@intlify-CjZh8qSI.js";import"./navigator-D5io2Cca.js";import"./logo-whitebg-DE6C9hWQ.js";import"./language-BriOOvyN.js";import"./lodash-Cr9vlq0V.js";import"./attr-accept-BWI1aNlo.js";import"./object-path-BACu75q6.js";import"./bootstrap-DMnrRZh1.js";import"./@popperjs-WhmJkuoZ.js";import"./pinia-BjOS2_Ao.js";import"./index-CLJyswLZ.js";import"./crypto-js-BZehCumu.js";import"./dexie-CWyjz2Lo.js";import"./element-plus-C5R56mia.js";import"./dayjs-C7SXsQPH.js";import"./resize-observer-polyfill-B1PUzC5B.js";import"./normalize-wheel-xcxZ5rdH.js";import"./mitt-C1xD_ZTF.js";import"./async-validator-DK9uouaC.js";import"./axios-N3crNZ6y.js";import"./vue-axios-BaogFJPH.js";import"./sweetalert2-DK0FVkv3.js";import"./@azure-DwL0pga8.js";import"./uuid-SoommWqA.js";import"./vue-inline-svg-Bgl3eqMC.js";import"./vee-validate-C_msoaAA.js";import"./@microsoft-C248spM2.js";import"./@nevware21-CKApUIxW.js";import"./luxon-C_T8jI2d.js";const de={class:"page d-flex flex-row flex-column-fluid"},fe={id:"kt_wrapper",class:"d-flex flex-column flex-row-fluid wrapper"},ge={id:"kt_content",class:"content d-flex flex-column flex-column-fluid",style:{padding:"5px 0",width:"100%"}},_e={class:"post d-flex flex-column-fluid"},he=ne({__name:"Layout",setup(be){const d=ee(),f=I(),g=A(),l=K(),v=G(),{instance:a}=re();V.init();const w=R(),S=Z(),x=$(),L=t(()=>l.name),_=t(()=>f.getters.pageTitle),y=t(()=>l.path),T=t(()=>{var e;return(e=f.getters.getBreadcrumbs)==null?void 0:e.pageBreadcrumbPath}),M=t(()=>S.loggedIn),B=()=>{const e=localStorage.getItem("lang")?localStorage.getItem("lang"):"en";g.setLocaleMessage(e,v.dictionary),g.locale.value=e};se(async()=>{await Q(a),await U(d.value,a),B()}),ie(()=>{ae()||h()});const u=te(),n=t(()=>u.jobRenewToken);s(d,e=>{e?h():u.stopAllJob()});const h=()=>{if(!(n.value&&n.value.running))if(n.value)n.value.start();else{const e=new oe.CronJob("*/10 * * * *",async function(){k(a)},null,!0);u.setJobRenewTokenRunning(e)}};return s(M,e=>{e||k(a)}),s(y,e=>{x.authPage(e)||w.push({name:"401"})}),s(()=>l.path,()=>{X.hideDropdowns(void 0),Y.hideAll(),H()}),(e,ke)=>{const C=ce("router-view");return i(),le(me,null,[o(O)?(i(),m(E,{key:0,logo:o(j)},null,8,["logo"])):c("",!0),r("div",de,[o(q)?(i(),m(D,{key:0,lightLogo:o(P),darkLogo:o(z)},null,8,["lightLogo","darkLogo"])):c("",!0),r("div",fe,[p(J,{title:_.value,menuVisible:!0},null,8,["title"]),r("div",ge,[!["ironlake","all_equipment","dailyschedule","employee","site","ironportal","administration","report"].includes(L.value)&&o(W)?(i(),m(N,{key:0,breadcrumbs:T.value,title:_.value},null,8,["breadcrumbs","title"])):c("",!0),r("div",_e,[r("div",{id:"kt_content_container",class:ue({"container-fluid":o(b),"container-xxl":!o(b)})},[p(C)],2)])])])]),p(F)],64)}}}),mo=pe(he,[["__scopeId","data-v-1389a64d"]]);export{mo as default};
