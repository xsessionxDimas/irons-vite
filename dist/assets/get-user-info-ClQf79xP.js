import{b as x,u as At,e as d,n as Nt,s as Tt,a as xt,f as st,A as it,r as J,t as Pt}from"./index-BCnwA6yE.js";import{c as qt}from"./@popperjs-WhmJkuoZ.js";import{d as Lt}from"./pinia-BjOS2_Ao.js";import{i as pt,e as ft}from"./index-CLJyswLZ.js";import{i as _t}from"./internet-connection-B91-AJht.js";const Bt="https://digital-bumaau-dev-apm-001.azure-api.net/amadm/api/master_data/symptom?ver=v1",Ct="https://digital-bumaau-dev-apm-001.azure-api.net/amadm/api/master_data/causes?ver=v1",$t="https://digital-bumaau-dev-apm-001.azure-api.net/amadm/api/master_data/action?ver=v1",Qt="https://digital-bumaau-dev-apm-001.azure-api.net/amadm/api/master_data/na_condition?ver=v1",Ht="https://digital-bumaau-dev-apm-001.azure-api.net/amadm/api/master_data/parameter_ehms/rating/get_all/?ver=v1",Ut="https://digital-bumaau-dev-apm-001.azure-api.net/utility/api/master_employee/direct_member",Ft="https://digital-bumaau-dev-apm-001.azure-api.net/utility/api/master_position/lookup_dma",zt="https://digital-bumaau-dev-apm-001.azure-api.net/amadm/api/master_data/equipment_number",Vt=Lt({id:"master",state:()=>({stateSymptoms:[],stateCauses:[],stateActions:[],stateNAConditions:[],stateCBMMappings:[],stateFitters:[],statePositions:[],stateMasterIsSet:!1,stateMasterFitterIsSet:!1,stateOwnershipList:[],stateMasterPhase:""}),getters:{Symptoms:r=>r.stateSymptoms,Causes:r=>r.stateCauses,Actions:r=>r.stateActions,NAConditions:r=>r.stateNAConditions,CBMMappings:r=>r.stateCBMMappings,Fitters:r=>r.stateFitters,Positions:r=>r.statePositions,Ownership:r=>r.stateOwnershipList},actions:{getSymptomData(){return x.get(`${Bt}`)},getActionData(){return x.get(`${$t}`)},getCausesData(){return x.get(`${Ct}`)},getNAConditionData(){return x.get(`${Qt}`)},getCBMMappingData(){return x.get(`${Ht}`)},getOwnershipData(){const r={ver:"v1",Page:"1",PageSize:"100000"};return x.get(`${zt}`,"",new URLSearchParams(r).toString())},getFittersData(){const s={directid:At().user.EmployeeId,ver:"v1"};return x.get(Ut,"",new URLSearchParams(s).toString())},getPositionsData(){const r={Position:"",PositionDescription:""};return x.post(`${Ft}?ver=v1`,r)},async getSymptoms(){const r=[{id:0,symptom:"Other"}];this.stateSymptoms=[...await d.symptom.toArray(),...r]},async getActions(){const r=[{id:0,action:"Other"}];this.stateActions=[...await d.action.toArray(),...r]},async getCauses(){const r=[{id:0,causes:"Other"}];this.stateCauses=[...await d.causes.toArray(),...r]},async getNAConditions(){const r=[{id:0,naCondition:"Other",reviseNaCondition:"Other"}];this.stateNAConditions=[...await d.naCondition.toArray(),...r]},async getCBMMappings(){this.stateCBMMappings=await d.cbmMapping.toArray()},async getFitters(){this.stateFitters=await d.fitter.toArray()},async getPositions(){this.statePositions=await d.position.toArray()},async getOwnership(){this.stateOwnershipList=await d.ownership.toArray()},async storeSymptomToLocalDB(r){await d.symptom.clear(),await d.symptom.bulkAdd(r)},async storeActionToLocalDB(r){await d.action.clear(),await d.action.bulkAdd(r)},async storeCausesToLocalDB(r){await d.causes.clear(),await d.causes.bulkAdd(r)},async storeNAConditionToLocalDB(r){await d.naCondition.clear(),await d.naCondition.bulkAdd(r)},async storeCBMMappingsToLocalDB(r){await d.cbmMapping.clear(),await d.cbmMapping.bulkAdd(r)},async storeFittersToLocalDB(r){const s=[];r.forEach(n=>{const t={label:n.EmployeeName,value:n.EmployeeId};s.find(i=>i.value==n.EmployeeId)||s.push(t)}),await d.fitter.clear(),await d.fitter.bulkAdd(s)},async storePositionsToLocalDB(r){const s=r.position.map(n=>({label:n,value:n}));await d.position.clear(),await d.position.bulkAdd(s)},async storeOwnershipToLocalDB(r){const s=r.map(n=>({equipmentNumber:n.equipmentNumber,ownership:n.ownership,serialNumber:n.serialNumber}));await d.ownership.clear(),await d.ownership.bulkAdd(s)},async getCBMMappingDataFromServer(){try{const r=await this.getCBMMappingData();this.stateMasterPhase="cbmmappings start",await this.storeCBMMappingsToLocalDB(r.data.result.content),this.getCBMMappings()}catch{console.log("error get CBM mapping")}},async getMasterDataFromServer(){this.stateMasterIsSet?(await this.getSymptoms(),await this.getActions(),await this.getCauses(),await this.getNAConditions(),await this.getPositions(),await this.getOwnership(),await this.getOwnership()):await Promise.all([this.getSymptomData(),this.getActionData(),this.getCausesData(),this.getNAConditionData(),this.getPositionsData(),this.getOwnershipData()]).then(async([r,s,n,t,e,i])=>{try{this.stateMasterPhase="symptom start",await this.storeSymptomToLocalDB(r.data.result.content),this.stateMasterPhase="action start",await this.storeActionToLocalDB(s.data.result.content),this.stateMasterPhase="causes start",await this.storeCausesToLocalDB(n.data.result.content),this.stateMasterPhase="na condition start",await this.storeNAConditionToLocalDB(t.data.result.content),this.stateMasterPhase="positions start",await this.storePositionsToLocalDB(e.data.result.content),this.stateMasterPhase="ownership start",await this.storeOwnershipToLocalDB(i.data.result.content),await this.getSymptoms(),await this.getActions(),await this.getCauses(),await this.getNAConditions(),await this.getPositions(),await this.getOwnership(),await this.getOwnership()}catch(a){console.log("error master data api",a),console.log("phase",this.stateMasterPhase)}this.stateMasterIsSet=!0})},async getMasterDataFitterFromServer(){return await this.getFittersData().then(async r=>{await this.storeFittersToLocalDB(r.data.result.content),await this.getFitters()})},resetMasterIsSet(){this.stateMasterIsSet=!1,this.stateMasterFitterIsSet=!1}}});class z{static get(s){let n=document.cookie.match(new RegExp("(?:^|; )"+s.replace(/([\.$?*|{}\(\)\[\]\\\/\+^])/g,"\\$1")+"=([^;]*)"));return n?decodeURIComponent(n[1]):void 0}static set(s,n,t){const e={path:"/",...t};e.expires instanceof Date&&(e.expires=e.expires.toUTCString());let i=encodeURIComponent(s)+"="+encodeURIComponent(n);for(let a in e){i+="; "+a;let o=e[a];o!==!0&&(i+="="+o)}document.cookie=i}static delete(s){z.set(s,"",{"max-age":-1})}}class p{static set(s,n,t,e){e?s.style.setProperty(n,t,"important"):s.style.setProperty(n,t)}static get(s,n){return s.style.getPropertyValue(n)}static remove(s,n){s.style.removeProperty(n)}}const P=class P{static set(s,n,t){if(!s)return;const e=P.store.get(s);if(!e){const i=new Map().set(n,t);P.store.set(s,i);return}e.set(n,t)}static get(s,n){const t=P.store.get(s);if(t)return t.get(n)}static remove(s,n){const t=P.store.get(s);t&&t.delete(n)}static has(s,n){const t=P.store.get(s);return t?t.has(n):!1}static getAllInstancesByKey(s){const n=[];return P.store.forEach(t=>{t.forEach((e,i)=>{i===s&&n.push(e)})}),n}};P.store=new Map;let l=P;function R(r,s){const n=new Map(Object.entries(r));if(r.hasOwnProperty(s)&&n)return n.get(s)}function B(r){const s=window.crypto;var n=new Uint32Array(1);const t=Math.floor(s.getRandomValues(n)[0]).toString();return r?`${r}${t}`:t}function G(r){return r.replace(/(\-\w)/g,function(s){return s[1].toUpperCase()})}function Rt(r){if(typeof r!="string")return r;if(!r)return;const s=r.toString().split("").map(n=>n!=="'"?n:'"').join("");try{return JSON.parse(s)}catch{return}}const U=class U{static on(s,n,t,e){const i=B("DOMEvent");return U.store.set(i,a=>{const o=s.querySelectorAll(n);let c=a.target;for(;c&&c!==s;){for(const y of o)c===y&&e.call(c,a);c.parentElement?c=c.parentElement:c=null}}),s.addEventListener(t,U.store.get(i)),i}static off(s,n,t){const e=U.store.get(t);e&&(s.removeEventListener(n,e),U.store.delete(t))}static one(s,n,t){s.addEventListener(n,function e(i){return i.target&&i.target.removeEventListener&&i.target.removeEventListener(i.type,e),s&&i&&i.currentTarget&&i.currentTarget.removeEventListener(i.type,e),t(i)})}};U.store=new Map;let w=U;class O{static animate(s,n,t,e,i){const a={linear:function(D,F,Dt,Mt){return Dt*D/Mt+F}};i||(i=function(){console.log("completed")});const o=n-s;function c(D){var F=(D||+new Date)-y;F>=0&&e(a.linear(F,s,o,t)),F>=0&&F>=t?(e(n),i&&i()):window.requestAnimationFrame(c)}e(s);const y=window.performance&&window.performance.now?window.performance.now():+new Date;window.requestAnimationFrame(c)}static animateClass(s,n,t){const e=n.split(" ");e.forEach(i=>s.classList.add(i)),w.one(s,"animationend",function(){e.forEach(i=>s.classList.remove(i))}),t&&w.one(s,"animationend",t)}static transitionEnd(s,n){w.one(s,"transitionend",n)}static animationEnd(s,n){w.one(s,"animationend",n)}static animationDelay(s,n){p.set(s,"animation-delay",n)}static animationDuration(s,n){p.set(s,"animation-duration",n)}static scrollTo(s,n,t=500){let e=s?Yt(s).top:0,i=window.scrollY||document.documentElement.scrollTop||document.body.scrollTop||0;n&&(i+=n,e=e-n);const a=i,o=e;O.animate(a,o,t,function(c){document.documentElement.scrollTop=c,document.body.scrollTop=c})}static scrollTop(s,n){O.scrollTo(null,s,n)}}function f(r,s){const n=(r.ownerDocument||document).defaultView;return n?(s=s.replace(/([A-Z])/g,"-$1").toLowerCase(),n.getComputedStyle(r,null).getPropertyValue(s)):""}function jt(r){let s=getComputedStyle(document.documentElement).getPropertyValue(r);return s&&s.length>0&&(s=s.trim()),s}function Wt(r,s,n){let t="";if(!r.getAttribute("kt-hidden-"+s)||n===!1){let e;return t=r.style.cssText,r.style.cssText="position: absolute; visibility: hidden; display: block;",e=r.offsetHeight,r.style.cssText=t,e!==void 0?(r.setAttribute("kt-hidden-"+s,e.toString()),parseFloat(e.toString())):0}else{const e=r.getAttribute("kt-hidden-"+s);if(e||e==="0")return parseFloat(e)}}function Gt(r){return Wt(r,"height",!1)}function Zt(r){if(r.parentNode){const s=r.parentNode.children;for(let n=0;n<s.length;n++)if(s[n]===r)return n}return-1}function Kt(r,s){const t=Element.prototype.matches;return r&&r.tagName?t.call(r,s):!1}function Yt(r){if(!r.getClientRects().length)return{top:0,left:0};const s=r.getBoundingClientRect(),n=r.ownerDocument.defaultView;return n?{top:s.top+n.scrollY,left:s.left+n.scrollX}:s}function Jt(r,s){Element.prototype.matches||(Element.prototype.matches=function(e){return(document||this.ownerDocument).querySelectorAll(e).length>-1});const n=[];let t=r;for(;t&&t!==document.body;t=t.parentElement){t.matches(s)&&n.push(t);continue}return n}function Xt(r){let s=r,n=r;for(;s&&s!==document;){const t=n.style.getPropertyValue("position");if(t==="absolute"||t==="relative"||t==="fixed"){const e=parseInt(n.style.getPropertyValue("z-index"));if(!isNaN(e)&&e!==0)return e}s=s.parentNode,n=s}return null}function te(){return(document.scrollingElement||document.documentElement).scrollTop}function gt(){return{width:window.innerWidth,height:window.innerHeight}}function ee(r,s){var n;return(n=s.parentNode)==null?void 0:n.insertBefore(r,s.nextSibling)}function V(r){return!(r.offsetWidth===0&&r.offsetHeight===0)}function j(r,s,n){r||(r=window.setTimeout(function(){s(),r=void 0},n))}function se(r,s){if(!r||!r.childNodes)return null;const n=[];for(const t of r.childNodes)t.nodeType===1&&Kt(t,s)&&n.push(t);return n}function Z(r,s){const n=se(r,s);return n?n[0]:null}function Ot(r,s,n,t){if(!r||s==="up"&&V(r)===!1||s==="down"&&V(r)===!0)return;n=n||600;let e=Gt(r),i=0,a=0;p.get(r,"padding-top")&&l.get(r,"slide-padding-top")!==!0&&l.set(r,"slide-padding-top",p.get(r,"padding-top")),p.get(r,"padding-bottom")&&l.has(r,"slide-padding-bottom")!==!0&&l.set(r,"slide-padding-bottom",p.get(r,"padding-bottom")),l.has(r,"slide-padding-top")&&(i=parseInt(l.get(r,"slide-padding-top"))),l.has(r,"slide-padding-bottom")&&(a=parseInt(l.get(r,"slide-padding-bottom"))),ie(s,r,i,a,n,e,t)}function ie(r,s,n,t,e,i,a){r==="up"?(s.style.cssText="display: block; overflow: hidden;",ne(n,t,e,s),O.animate(0,i||0,e,function(o){s.style.height=(i||0)-o+"px"},function(){s.style.height="",s.style.display="none",typeof a=="function"&&a()})):r==="down"&&(s.style.cssText="display: block; overflow: hidden;",re(n,t,e,s),O.animate(0,i||0,e,function(o){s.style.height=o+"px"},function(){s.style.height="",s.style.display="",s.style.overflow="",typeof a=="function"&&a()}))}function ne(r,s,n,t){r&&O.animate(0,r,n,function(e){t.style.paddingTop=r-e+"px"}),s&&O.animate(0,s,n,function(e){t.style.paddingBottom=s-e+"px"})}function re(r,s,n,t){r&&O.animate(0,r,n,function(e){t.style.paddingTop=e+"px"},function(){t.style.paddingTop=""}),s&&O.animate(0,s,n,function(e){t.style.paddingBottom=e+"px"},function(){t.style.paddingBottom=""})}function ae(r,s,n){Ot(r,"up",s,n)}function oe(r,s,n){Ot(r,"down",s,n)}function ut(r){let s=jt("--bs-"+r);return s&&(s=parseInt(s.trim())),s}function T(r){let s=Rt(r);if(typeof s!="object")return r;const n=gt().width;let t,e=-1,i;for(let a in s)a==="default"?i=0:i=ut(a)?+ut(a):parseInt(a),i<=n&&i>e&&(t=a,e=i);return t?R(s,t):s}const g=class g{static setEventMetasByName(s,n){g.store.set(s,n)}static getEventMetasByName(s){return g.store.get(s)}static setEventMetaByNameAndHandlerId(s,n,t){let e=g.getEventMetasByName(s);e||(e=new Map),e.set(n,t),g.setEventMetasByName(s,e)}static getEventsMetaByHandlerId(s,n){const t=g.store.get(s);if(t)return t.get(n)}static setFiredByNameAndHandlerId(s,n,t){const e=g.getEventsMetaByHandlerId(s,n);e&&(e.fired=t,g.setEventMetaByNameAndHandlerId(s,n,e))}static addEvent(s,n,t,e=!1){const i=B("event");l.set(s,n,i);const a={name:n,callback:t,one:e,fired:!1};g.setEventMetaByNameAndHandlerId(n,i,a)}static removeEvent(s,n){const t=l.get(s,n);if(!t)return;const e=g.getEventMetasByName(n);e&&(e.delete(t),g.setEventMetasByName(n,e))}static trigger(s,n,t){if(l.has(s,n)){const e=l.get(s,n);if(!e)return;const i=g.getEventsMetaByHandlerId(n,e);if(i&&i.name===n)return i.one===!0&&i.fired!==!0&&g.setFiredByNameAndHandlerId(n,e,!0),i.callback.call(this,t)}return null}static one(s,n,t){g.addEvent(s,n,t,!0)}static off(s,n){g.removeEvent(s,n)}};g.store=new Map,g.on=function(s,n,t){g.addEvent(s,n,t,!1)};let h=g;const M=class M{static set(s,n){M.has(s)||M.store.set(s,n)}static get(s){if(M.has(s))return M.store.get(s)}static remove(s){M.has(s)&&M.store.delete(s)}static has(s){return M.store.has(s)}static getAllInstances(){return M.store}};M.store=new Map;let H=M;const yt={overlay:!0,baseClass:"drawer",overlayClass:"drawer-overlay",direction:"end"},m=class m{constructor(s,n){this.overlayElement=null,this.toggleElement=null,this.name="",this.shown=!1,this.lastWidth=0,this.closeElement=null,this._handlers=()=>{const t=this._getOption("toggle"),e=this._getOption("close");t!==null&&t.length>0&&w.on(document.body,t,"click",i=>{i.preventDefault(),this.toggleElement=document.getElementById(t),this._toggle()}),e!==null&&e.length>0&&w.on(document.body,e,"click",i=>{i.preventDefault(),this.closeElement=document.getElementById(e),this._hide()})},this._update=()=>{const t=String(this._getOption("width")),e=String(this._getOption("direction")),i=this.element.classList.contains(`${this.options.baseClass}-on`),a=String(document.body.getAttribute(`data-kt-drawer-${this.name}-`));i===!0&&a==="on"?this.shown=!0:this.shown=!1,this._getOption("activate")===!0?(this.element.classList.add(this.options.baseClass),this.element.classList.add(`${this.options.baseClass}-${e}`),p.set(this.element,"width",t,!0),this.lastWidth=parseInt(t)):(p.set(this.element,"width",""),this.element.classList.remove(this.options.baseClass),this.element.classList.remove(`${this.options.baseClass}-${e}`),this._hide())},this._getOption=t=>{const e=this.element.getAttribute(`data-kt-drawer-${t}`);if(e){let i=T(e);return i!==null&&String(i)==="true"?!0:i!==null&&String(i)==="false"?!1:i}else{const i=G(t),a=R(this.options,i);return a?T(a):null}},this._toggle=()=>{h.trigger(this.element,"kt.drawer.toggle")!==!1&&(this.shown?this._hide():this._show(),h.trigger(this.element,"kt.drawer.toggled"))},this._hide=()=>{h.trigger(this.element,"kt.drawer.hide")!==!1&&(this.shown=!1,this._deleteOverlay(),document.body.removeAttribute(`data-kt-drawer-${this.name}`),document.body.removeAttribute("data-kt-drawer"),this.element.classList.remove(`${this.options.baseClass}-on`),this.toggleElement!=null&&this.toggleElement.classList.remove("active"),h.trigger(this.element,"kt.drawer.after.hidden"))},this._show=()=>{h.trigger(this.element,"kt.drawer.show")!==!1&&(this.shown=!0,this._createOverlay(),document.body.setAttribute(`data-kt-drawer-${this.name}`,"on"),document.body.setAttribute("data-kt-drawer","on"),this.element.classList.add(`${this.options.baseClass}-on`),this.toggleElement!==null&&this.toggleElement.classList.add("active"),h.trigger(this.element,"kt.drawer.shown"))},this._createOverlay=()=>{if(this._getOption("overlay")===!0){this.overlayElement=document.createElement("DIV");const t=f(this.element,"z-index");if(t){const i=parseInt(t)-1;p.set(this.overlayElement,"z-index",i)}document.body.append(this.overlayElement);const e=this._getOption("overlay-class");e&&this.overlayElement.classList.add(e.toString()),this.overlayElement.addEventListener("click",i=>{i.preventDefault(),this._hide()})}},this._deleteOverlay=()=>{this.overlayElement!==null&&this.overlayElement.parentNode&&this.overlayElement.parentNode.removeChild(this.overlayElement)},this._getDirection=()=>String(this._getOption("direction"))==="left"?"left":"right",this._getWidth=()=>{let t=this._getOption("width");return t&&t==="auto"&&(t=f(this.element,"width")),t},this.toggle=()=>{this._toggle()},this.show=()=>{this._show()},this.hide=()=>{this._hide()},this.isShown=()=>this.shown,this.update=()=>{this._update()},this.goElement=()=>this.element,this.on=(t,e)=>h.on(this.element,t,e),this.one=(t,e)=>h.one(this.element,t,e),this.off=t=>h.off(this.element,t),this.trigger=(t,e)=>h.trigger(this.element,t,e),this.element=s,this.options=Object.assign(yt,n),this.instanceUid=B("drawer"),this.overlayElement=null,this.name=this.element.getAttribute("data-kt-drawer-name")||"",this.shown=!1,this.toggleElement=null,this._handlers(),this._update(),H.set(this.element.id,this)}static createInstances(s){document.body.querySelectorAll(s).forEach(t=>{const e=t;let i=m.getInstance(e.id);i||(i=new m(e,yt)),i.element=e,i.hide()})}static initGlobalHandlers(){window.addEventListener("resize",function(){j(void 0,()=>{document.body.querySelectorAll('[data-kt-drawer="true"]').forEach(t=>{const e=t,i=m.getInstance(e.id);i&&(i.element=e,i.update())})},200)})}};m.hasInstace=s=>H.has(s),m.getInstance=s=>H.get(s),m.hideAll=()=>{H.getAllInstances().forEach(n=>{n.hide()})},m.updateAll=()=>{H.getAllInstances().forEach(n=>{n.update()})},m.handleDismiss=()=>{w.on(document.body,'[data-kt-drawer-dismiss="true"]',"click",()=>{const s=m.closest('[data-kt-drawer="true"]');if(s){const n=m.getInstance(s);n&&n.isShown()&&n.hide()}})},m.bootstrap=()=>{m.createInstances('[data-kt-drawer="true"]'),m.initGlobalHandlers(),m.handleDismiss()},m.reinitialization=()=>{m.createInstances('[data-kt-drawer="true"]'),m.hideAll(),m.updateAll(),m.handleDismiss()};let X=m;const nt={},C={componentName:"image-input",instanseQuery:"[data-kt-image-input]",inputQuery:'input[type="file"]',wrapperQuery:".image-input-wrapper",cancelQuery:'[data-kt-image-input-action="cancel"]',removeQuery:'[data-kt-image-input-action="remove"]',hiddenQuery:'input[type="hidden"]'},I=class I{constructor(s,n,t){this.src="",this.value="",this._change=e=>{if(e.preventDefault(),this.inputElement!==null&&this.inputElement.files&&this.inputElement.files[0]){if(h.trigger(this.element,"kt.imageinput.change",e)===!1)return;const i=new FileReader;i.onload=a=>{this.wrapperElement&&a.target&&this.wrapperElement.style.setProperty("background-image",`url('${a.target.result}')`)},i.readAsDataURL(this.inputElement.files[0]),this.element.classList.add("image-input-changed"),this.element.classList.remove("image-input-empty"),h.trigger(this.element,"kt.imageinput.changed",e)}},this._cancel=e=>{e.preventDefault(),h.trigger(this.element,"kt.imageinput.cancel",e)!==!1&&(this.element.classList.remove("image-input-changed"),this.element.classList.remove("image-input-empty"),this.element.style.setProperty("background-image",this.src),this.inputElement&&(this.inputElement.value=""),this.hiddenElement!==null&&(this.hiddenElement.value="0"),h.trigger(this.element,"kt.imageinput.canceled",e))},this._remove=e=>{e.preventDefault(),h.trigger(this.element,"kt.imageinput.remove",e)!==!1&&(this.element.classList.remove("image-input-changed"),this.element.classList.add("image-input-empty"),this.wrapperElement&&this.wrapperElement.style.setProperty("background-image","none"),this.inputElement&&(this.inputElement.value=""),this.hiddenElement!==null&&(this.hiddenElement.value="1"),h.trigger(this.element,"kt.imageinput.removed",e))},this.on=(e,i)=>h.on(this.element,e,i),this.one=(e,i)=>h.one(this.element,e,i),this.off=e=>h.off(this.element,e),this.trigger=(e,i)=>h.trigger(this.element,e,i),this.options=Object.assign(nt,n),this.queries=t,this.uid=B(this.queries.componentName),this.element=s,this.inputElement=this.element.querySelector(this.queries.inputQuery),this.wrapperElement=this.element.querySelector(this.queries.wrapperQuery),this.cancelElement=this.element.querySelector(this.queries.cancelQuery),this.removeElement=this.element.querySelector(this.queries.removeQuery),this.hiddenElement=this.element.querySelector(this.queries.hiddenQuery),this.wrapperElement&&(this.src=f(this.wrapperElement,"backgroundImage")),this.handlers(),l.set(this.element,this.queries.componentName,this)}handlers(){this.element.addEventListener("change",this._change),this.cancelElement&&this.cancelElement.addEventListener("click",this._cancel),this.removeElement&&this.removeElement.addEventListener("click",this._cancel)}getInputElement(){return this.inputElement}getElement(){return this.element}};I.getInstance=(s,n=C.componentName)=>{const t=l.get(s,n);return t||null},I.createInstances=(s=C.instanseQuery,n=nt,t=C)=>{document.body.querySelectorAll(s).forEach(i=>{const a=i;let o=I.getInstance(a);return o||(o=new I(a,n,t)),o})},I.createInsance=(s=C.instanseQuery,n=nt,t=C)=>{const e=document.body.querySelector(s);if(!e)return;const i=e;let a=I.getInstance(i);return a||(a=new I(i,n,t)),a},I.bootstrap=(s=C.instanseQuery)=>{I.createInstances(s)},I.reinitialization=(s=C.instanseQuery)=>{I.createInstances(s)};let Et=I;const rt={saveState:!0},v=class v{constructor(s,n){this.getOption=t=>{if(this.element.hasAttribute("data-kt-scroll-"+t)===!0){const e=this.element.getAttribute("data-kt-scroll-"+t)||"";let i=T(e);return i!==null&&String(i)==="true"?i=!0:i!==null&&String(i)==="false"&&(i=!1),i}else{const e=G(t),i=R(this.options,e);return i?T(i):null}},this.getHeightType=()=>{if(this.getOption("height"))return"height";if(this.getOption("min-height"))return"min-height";if(this.getOption("max-height"))return"max-height"},this.setWrappers=(t,e)=>{if(t!==null){var i=document.querySelectorAll(t);if(!i||i.length>0)return e;for(let a=0,o=i.length;a<o;a++){const c=i[a];if(!V(c))continue;e=e-parseInt(f(c,"margin-top")),e=e-parseInt(f(c,"margin-bottom")),e=e-parseInt(f(c,"padding-top")),e=e-parseInt(f(c,"padding-bottom"));const y=f(c,"border-top");y&&(e=e-parseInt(y));const D=f(c,"border-bottom");D&&(e=e-parseInt(D))}}return e},this.setDependencies=(t,e)=>{if(t!==null){const i=document.querySelectorAll(t);if(i&&i.length>0)return e;for(let a=0,o=i.length;a<o;a++){const c=i[a];if(V(c)===!1)continue;e=e-parseInt(f(c,"height")),e=e-parseInt(f(c,"margin-top")),e=e-parseInt(f(c,"margin-bottom"));const y=f(c,"border-top");y&&(e=e-parseInt(y));const D=f(c,"border-bottom");D&&(e=e-parseInt(D))}}return e},this.getAutoHeight=()=>{let t=gt().height;const e=this.getOption("dependencies"),i=this.getOption("wrappers"),a=this.getOption("offset");t=this.setDependencies(e,t),t=this.setWrappers(i,t),a!==null&&(t=t-parseInt(a)),t=t-parseInt(f(this.element,"margin-top")),t=t-parseInt(f(this.element,"margin-bottom"));const o=f(this.element,"border-top");o&&(t=t-parseInt(o));const c=f(this.element,"border-bottom");return c&&(t=t-parseInt(c)),t=String(t)+"px",t},this.setupHeight=()=>{let t=this.getHeight(),e=this.getHeightType();t!==null&&t.length>0?p.set(this.element,e,t):p.set(this.element,e,"")},this.setupState=()=>{if(this.getOption("save-state")===!0&&this.id){const e=z.get(this.id+"st");if(e){var t=parseInt(e);t>0&&(this.element.scrollTop=t)}}},this.setupScrollHandler=()=>{this.getOption("save-state")===!0&&this.id?this.element.addEventListener("scroll",this.scrollHandler):this.element.removeEventListener("scroll",this.scrollHandler)},this.scrollHandler=()=>{const t=this.id+"st";z.set(t,this.element.scrollTop,{})},this.destroyScrollHandler=()=>{this.element.removeEventListener("scroll",this.scrollHandler)},this.resetHeight=()=>{const t=this.getHeightType();t&&p.set(this.element,t,"")},this.update=()=>{this.getOption("activate")===!0||!this.element.hasAttribute("data-kt-scroll-activate")?(this.setupHeight(),this.setupScrollHandler(),this.setupState()):(this.resetHeight(),this.destroyScrollHandler())},this.getHeight=()=>{const t=this.getHeightType(),e=this.getOption(t||"");return e instanceof Function?e.call(e):e!==null&&typeof e=="string"&&e.toLowerCase()==="auto"?this.getAutoHeight():e},this.getElement=()=>this.element,this.element=s,this.options=Object.assign(rt,n),this.id=this.element.getAttribute("id")||"",this.update(),l.set(this.element,"scroll",this)}static hasInstace(s){return l.has(s,"scroll")}static getInstance(s){if(s!==null&&v.hasInstace(s))return l.get(s,"scroll")}static createInstances(s){document.body.querySelectorAll(s).forEach(t=>{const e=t;let i=v.getInstance(e);return i||(i=new v(e,rt)),i})}static destroyAll(s='[data-kt-scroll="true"]'){console.log("empty")}static bootstrap(s='[data-kt-scroll="true"]'){v.createInstances(s),v.resize()}static reinitialization(s='[data-kt-scroll="true"]'){v.createInstances(s)}static updateAll(){document.body.querySelectorAll('[data-kt-scroll="true"]').forEach(n=>{const t=v.getInstance(n);t&&t.update()})}static resize(){window.addEventListener("resize",function(){j(void 0,()=>{v.updateAll()},200)})}};v.createInstance=(s,n=rt)=>{let t=v.getInstance(s);return t||(t=new v(s,n)),t};let dt=v;const K={offset:200,speed:600},b=class b{constructor(s,n){this._handlers=()=>{let t;window.addEventListener("scroll",()=>{j(t,()=>{this._scroll()})}),this.element.addEventListener("click",e=>{e.preventDefault(),this._go()})},this._scroll=()=>{const t=parseInt(this._getOption("offset"));te()>t?document.body.hasAttribute("data-kt-scrolltop")||document.body.setAttribute("data-kt-scrolltop","on"):document.body.hasAttribute("data-kt-scrolltop")&&document.body.removeAttribute("data-kt-scrolltop")},this._go=()=>{const t=parseInt(this._getOption("speed"));O.scrollTop(0,t)},this._getOption=t=>{const e=this.element.getAttribute(`data-kt-scrolltop-${t}`);if(e){const o=T(e);return o!==null&&String(o)==="true"}const i=G(t),a=R(this.options,i);return a?T(a):null},this.go=()=>this._go(),this.getElement=()=>this.element,this.element=s,this.options=Object.assign(K,n),this.instanceUid=B("scrolltop"),this._handlers(),l.set(this.element,"scrolltop",this)}};b.getInstance=s=>{const n=l.get(s,"scrolltop");return n||null},b.createInstances=s=>{document.body.querySelectorAll(s).forEach(t=>{const e=t;let i=b.getInstance(e);return i||(i=new b(e,K)),i})},b.createInsance=(s,n=K)=>{const t=document.body.querySelector(s);if(!t)return;const e=t;let i=b.getInstance(e);return i||(i=new b(e,n)),i},b.bootstrap=()=>{b.createInstances('[data-kt-scrolltop="true"]')},b.reinitialization=()=>{b.createInstances('[data-kt-scrolltop="true"]')},b.goTop=()=>{O.scrollTop(0,K.speed)};let wt=b;const at={startIndex:1,animation:!1,animationSpeed:"0.3s",animationNextClass:"animate__animated animate__slideInRight animate__fast",animationPreviousClass:"animate__animated animate__slideInLeft animate__fast"},q=class q{constructor(s,n){var t;this.totatStepsNumber=0,this.passedStepIndex=0,this.currentStepIndex=1,this._goTo=e=>{h.trigger(this.element,"kt.stepper.change"),!(e===this.currentStepIndex||e>this.totatStepsNumber||e<0)&&(e=parseInt(e.toString()),this.passedStepIndex=this.currentStepIndex,this.currentStepIndex=e,this.refreshUI(),h.trigger(this.element,"kt.stepper.changed"))},this.initHandlers=()=>{var e,i;(e=this.btnNext)==null||e.addEventListener("click",a=>{a.preventDefault(),h.trigger(this.element,"kt.stepper.next",a)}),(i=this.btnPrev)==null||i.addEventListener("click",a=>{a.preventDefault(),h.trigger(this.element,"kt.stepper.previous",a)}),w.on(this.element,'[data-kt-stepper-action="step"]',"click",a=>{if(a.preventDefault(),this.steps&&this.steps.length>0){for(let o=0;o<this.steps.length;o++)if(this.steps[o]===this.element){let c=o+1;const y=this._getStepDirection(c);h.trigger(this.element,`stepper.${y}`,a);return}}})},this._getStepDirection=e=>e>this.currentStepIndex?"next":"previous",this.getStepContent=e=>{const i=this.element.querySelectorAll('[data-kt-stepper-element="content"]');return i&&i[e-1]?i[e-1]:!1},this.getLastStepIndex=()=>this.totatStepsNumber,this.getTotalStepsNumber=()=>this.totatStepsNumber,this.getStateValue=()=>this.isLastStep()?"last":this.isFirstStep()?"first":"between",this.refreshUI=()=>{let e=this.getStateValue();this.element.classList.remove("last"),this.element.classList.remove("first"),this.element.classList.remove("between"),this.element.classList.add(e);const i=this.element.querySelectorAll('[data-kt-stepper-element="nav"], [data-kt-stepper-element="content"], [data-kt-stepper-element="info"]');if(!(!i||i.length<=0))for(var a=0,o=i.length;a<o;a++){var c=i[a],y=Zt(c)+1;if(c.classList.remove("current"),c.classList.remove("completed"),c.classList.remove("pending"),y===this.currentStepIndex){if(c.classList.add("current"),this.options.animation!==!1&&c.getAttribute("data-kt-stepper-element")==="content"){p.set(c,"animationDuration",this.options.animationSpeed);const D=this._getStepDirection(this.passedStepIndex)==="previous"?this.options.animationPreviousClass:this.options.animationNextClass;O.animateClass(c,D)}}else this.addClaslistByIndex(y,c)}},this.addClaslistByIndex=(e,i)=>{e<this.currentStepIndex?i.classList.add("completed"):i.classList.add("pending")},this.isLastStep=()=>this.currentStepIndex===this.totatStepsNumber,this.isFirstStep=()=>this.currentStepIndex===1,this.isBetweenStep=()=>this.isLastStep()===!1&&this.isFirstStep()===!1,this.goto=e=>this._goTo(e),this.goNext=()=>this.goto(this.getNextStepIndex()),this.goPrev=()=>this.goto(this.getPrevStepIndex()),this.goFirst=()=>this.goto(1),this.goLast=()=>this.goto(this.getLastStepIndex()),this.getCurrentStepIndex=()=>this.currentStepIndex,this.getNextStepIndex=()=>this.totatStepsNumber>=this.currentStepIndex+1?this.currentStepIndex+1:this.totatStepsNumber,this.getPassedStepIndex=()=>this.passedStepIndex,this.getPrevStepIndex=()=>this.currentStepIndex-1>1?this.currentStepIndex-1:1,this.getElement=e=>this.element,this.on=(e,i)=>h.on(this.element,e,i),this.one=(e,i)=>h.one(this.element,e,i),this.off=e=>h.off(this.element,e),this.destroy=()=>{console.log("destroy stepper")},this.trigger=(e,i)=>h.trigger(this.element,e,i),this.element=s,this.options=Object.assign(at,n),this.instanceUid=B("stepper"),this.steps=this.element.querySelectorAll('[data-kt-stepper-element="nav"]'),this.btnNext=this.element.querySelector('[data-kt-stepper-action="next"]'),this.btnPrev=this.element.querySelector('[data-kt-stepper-action="previous"]'),this.btnSubmit=this.element.querySelector('[data-kt-stepper-action="submit"]'),this.totatStepsNumber=((t=this.steps)==null?void 0:t.length)|0,this.passedStepIndex=0,this.currentStepIndex=1,this.options.startIndex>1&&this._goTo(this.options.startIndex),this.initHandlers(),l.set(this.element,"stepper",this)}static hasInstace(s){return l.has(s,"stepper")}static getInstance(s){return s!==null&&q.hasInstace(s)?l.get(s,"stepper"):null}static createInstances(s){document.body.querySelectorAll(s).forEach(t=>{const e=t;let i=q.getInstance(e);return i||(i=new q(e,at)),i})}static bootstrap(s="[data-kt-stepper]"){q.createInstances(s)}};q.createInsance=(s,n=at)=>{if(!s)return null;let t=q.getInstance(s);return t||(t=new q(s,n)),t};let bt=q;const ot={saveState:!1},S=class S{constructor(s,n){this.state="",this.target=null,this.attribute="",this._handlers=()=>{this.element.addEventListener("click",i=>{i.preventDefault(),this._toggle()})},this._toggle=()=>(h.trigger(this.element,"kt.toggle.change"),this._isEnabled()?this._disable():this._enable(),h.trigger(this.element,"kt.toggle.changed"),this),this._enable=()=>{var i;if(!this._isEnabled())return h.trigger(this.element,"kt.toggle.enable"),(i=this.target)==null||i.setAttribute(this.attribute,"on"),this.state.length>0&&this.element.classList.add(this.state),this.options.saveState&&z.set(this.attribute,"on",{}),h.trigger(this.element,"kt.toggle.enabled"),this},this._disable=()=>{var i;return this._isEnabled()?(h.trigger(this.element,"kt.toggle.disable"),(i=this.target)==null||i.removeAttribute(this.attribute),this.state.length>0&&this.element.classList.remove(this.state),this.options.saveState&&z.delete(this.attribute),h.trigger(this.element,"kt.toggle.disabled"),this):!1},this._isEnabled=()=>this.target?String(this.target.getAttribute(this.attribute)).toLowerCase()==="on":!1,this.toggle=()=>this._toggle(),this.enable=()=>this._enable(),this.disable=()=>this._disable(),this.isEnabled=()=>this._isEnabled(),this.goElement=()=>this.element,this.on=(i,a)=>h.on(this.element,i,a),this.one=(i,a)=>h.one(this.element,i,a),this.off=i=>h.off(this.element,i),this.trigger=(i,a)=>h.trigger(this.element,i,a),this.options=Object.assign(ot,n),this.instanceUid=B("toggle"),this.element=s;const t=this.element.getAttribute("data-kt-toggle-target");t&&(this.target=document.querySelector(t));const e=this.element.getAttribute("data-kt-toggle-state");this.state=e||"",this.attribute="data-kt-"+this.element.getAttribute("data-kt-toggle-name"),this._handlers(),l.set(this.element,"toggle",this)}};S.getInstance=s=>{const n=l.get(s,"toggle");return n||null},S.createInstances=s=>{document.body.querySelectorAll(s).forEach(t=>{const e=t;let i=S.getInstance(e);return i||(i=new S(e,ot)),i})},S.createInsance=(s,n=ot)=>{const t=document.body.querySelector(s);if(!t)return;const e=t;let i=S.getInstance(e);return i||(i=new S(e,n)),i},S.reinitialization=()=>{S.createInstances("[data-kt-toggle]")},S.bootstrap=()=>{S.createInstances("[data-kt-toggle]")};let It=S;const lt={minLength:8,checkUppercase:!0,checkLowercase:!0,checkDigit:!0,checkChar:!0,scoreHighlightClass:"active"},$={componentName:"password-meter",instanseQuery:"[data-kt-password-meter]",inputQuery:"input[type]",visibilityQuery:'[data-kt-password-meter-control="visibility"]',highlightQuery:'[data-kt-password-meter-control="highlight"]'},k=class k{constructor(s,n,t){this.reset=()=>{this.score=0,this.highlight()},this.element=s,this.options=Object.assign(lt,n),this.queries=t,this.score=0,this.checkSteps=5,this.inputElement=this.element.querySelector(this.queries.inputQuery),this.visibilityElement=this.element.querySelector(this.queries.visibilityQuery),this.highlightElement=this.element.querySelector(this.queries.highlightQuery),this.handlers(),l.set(this.element,this.queries.componentName,this)}handlers(){this.inputElement&&this.inputElement.addEventListener("input",()=>{this.check()}),this.visibilityElement&&this.visibilityElement.addEventListener("click",()=>{this.visitbility()})}visitbility(){if(this.visibilityElement&&this.inputElement){const s=this.visibilityElement.querySelector("i:not(.d-none), .svg-icon:not(.d-none)"),n=this.visibilityElement.querySelector("i.d-none, .svg-icon.d-none");(this.inputElement.getAttribute("type")||"")==="password"?this.inputElement.setAttribute("type","text"):this.inputElement.setAttribute("type","password"),s==null||s.classList.add("d-none"),n==null||n.classList.remove("d-none"),this.inputElement.focus()}}checkScore(){return 0}checkLength(){return this.inputElement?this.inputElement.value.length>=this.options.minLength:!1}checkLowerCase(){const s=this.inputElement?this.inputElement.value:"";return/[a-z]/.test(s)}checkUppercase(){const s=this.inputElement?this.inputElement.value:"";return/[A-Z]/.test(s)}checkDigit(){const s=this.inputElement?this.inputElement.value:"";return/\d/.test(s)}checkChar(){const s=this.inputElement?this.inputElement.value:"";return/[~`!#$%\^&*+=\-\[\]';,/{}|":<>\?]/g.test(s)}getCheckScore(){let s=1;return this.options.checkUppercase&&s++,this.options.checkLowercase&&s++,this.options.checkDigit&&s++,this.options.checkChar&&s++,this.checkSteps=s,100/this.checkSteps}highlight(){const s=this.highlightElement?[].slice.call(this.highlightElement.querySelectorAll("div")):[],n=s.length;let t=0;const e=this.getCheckScore(),i=this.getScore();s.forEach(a=>{t++,e*t*(this.checkSteps/n)<=i?a.classList.add("active"):a.classList.remove("active")})}getScore(){return this.score}check(){let s=0;const n=this.checkScore();this.checkLength()&&(s=s+n),this.options.checkUppercase&&this.checkLowerCase()&&(s=s+n),this.options.checkLowercase&&this.checkUppercase()&&(s=s+n),this.options.checkDigit&&this.checkDigit()&&(s=s+n),this.options.checkChar&&this.checkChar()&&(s=s+n),this.score=s,this.highlight()}};k.getInstance=(s,n=$.componentName)=>{const t=l.get(s,n);return t||null},k.createInstances=(s=$.instanseQuery,n=lt,t=$)=>{document.body.querySelectorAll(s).forEach(i=>{const a=i;let o=k.getInstance(a);return o||(o=new k(a,n,t)),o})},k.createInsance=(s=$.instanseQuery,n=lt,t=$)=>{const e=document.body.querySelector(s);if(!e)return;const i=e;let a=k.getInstance(i);return a||(a=new k(i,n,t)),a},k.bootstrap=(s=$.instanseQuery)=>{k.createInstances(s)},k.reinitialization=(s=$.instanseQuery)=>{k.createInstances(s)};let vt=k;const N=class N{static set(s,n){N.has(s)||N.store.set(s,n)}static get(s){if(N.has(s))return N.store.get(s)}static remove(s){N.has(s)&&N.store.delete(s)}static has(s){return N.store.has(s)}static getAllInstances(){return N.store}};N.store=new Map;let tt=N;const ht={mode:"append"},_={componentName:"swapper",instanseQuery:'[data-kt-swapper="true"]',attrQuery:"data-kt-swapper-"},A=class A{constructor(s,n,t){this.update=()=>{var o;const e=(o=this.getOption("parent"))==null?void 0:o.toString(),i=this.getOption("mode"),a=e?document.querySelector(e):null;a&&this.element.parentNode!==a&&(i==="prepend"?a.prepend(this.element):i==="append"&&a.append(this.element))},this.on=(e,i)=>h.on(this.element,e,i),this.one=(e,i)=>h.one(this.element,e,i),this.off=e=>h.off(this.element,e),this.trigger=(e,i)=>h.trigger(this.element,e,i),this.element=s,this.options=Object.assign(ht,n),this.queries=t,this.update(),tt.set(this.element.id,this)}getOption(s){const n=this.element.getAttribute(`${this.queries.attrQuery}${s}`);if(n){let t=T(n);return n!=null&&String(t)==="true"?!0:t!==null&&String(t)==="false"?!1:t}else{const t=G(s),e=R(this.options,t);return e?T(e):null}}};A.getInstance=(s,n=_.componentName)=>{const t=tt.get(s.id);return t||null},A.createInstances=(s=_.instanseQuery,n=ht,t=_)=>{document.body.querySelectorAll(s).forEach(i=>{const a=i;let o=A.getInstance(a);return o||(o=new A(a,n,t)),o})},A.createInsance=(s=_.instanseQuery,n=ht,t=_)=>{const e=document.body.querySelector(s);if(!e)return;const i=e;let a=A.getInstance(i);return a||(a=new A(i,n,t)),a},A.bootstrap=(s=_.instanseQuery)=>{A.createInstances(s)},A.reinitialization=(s=_.instanseQuery)=>{A.createInstances(s)};let mt=A;window.addEventListener("resize",function(){j(void 0,()=>{document.querySelectorAll(_.instanseQuery).forEach(n=>{const t=mt.getInstance(n);t&&t.update()})},200)});const Y={dropdown:{hoverTimeout:200,zindex:105},accordion:{slideSpeed:250,expand:!1}},u=class u{constructor(s,n){return this.triggerElement=null,this._setTriggerElement=()=>{const t=document.querySelector(`[data-kt-menu-target="#${this.element.getAttribute("id")}"`);if(t)this.triggerElement=t;else if(this.element.closest("[data-kt-menu-trigger]"))this.triggerElement=this.element.closest("[data-kt-menu-trigger]");else if(this.element.parentNode&&Z(this.element.parentNode,"[data-kt-menu-trigger]")){const e=Z(this.element.parentNode,"[data-kt-menu-trigger]");e&&(this.triggerElement=e)}this.triggerElement&&l.set(this.triggerElement,"menu",this)},this._isTriggerElement=t=>this.triggerElement===t,this._getItemOption=(t,e)=>{let i=null;if(t&&t.hasAttribute("data-kt-menu-"+e)){const a=t.getAttribute("data-kt-menu-"+e)||"";i=T(a),i!==null&&String(i)==="true"?i=!0:i!==null&&String(i)==="false"&&(i=!1)}return i},this._getItemElement=t=>{if(this._isTriggerElement(t)||t.hasAttribute("data-kt-menu-trigger"))return t;const e=l.get(t,"item");if(e)return e;const i=t.closest(".menu-item[data-kt-menu-trigger]");if(i)return i;const a=t.closest(".menu-sub");if(a){const o=l.get(a,"item");if(o)return o}},this._getItemParentElement=t=>{const e=t.closest(".menu-sub");if(!e)return null;const i=l.get(e,"item");if(i)return i;const a=e.closest(".menu-item[data-kt-menu-trigger]");return e&&a?a:null},this._getItemParentElements=t=>{const e=[];let i,a=0,o=t;do i=this._getItemParentElement(o),i&&(e.push(i),o=i),a++;while(i!==null&&a<20);return this.triggerElement&&e.unshift(this.triggerElement),e},this._getDropdownPopperConfig=t=>{const e=this._getItemOption(t,"placement");let i="right";e&&(i=e);const a=this._getItemOption(t,"offset"),o=a?a.toString().split(","):[],c=this._getItemOption(t,"overflow")===!0?"absolute":"fixed";return{placement:i,strategy:c,modifiers:[{name:"offset",options:{offset:o}},{name:"preventOverflow"},{name:"flip",options:{flipVariations:!1}}]}},this._getItemChildElement=t=>{let e=t;const i=l.get(t,"sub");if(i&&(e=i),e){const a=e.querySelector(".menu-item[data-kt-menu-trigger]");if(a)return a}return null},this._getItemChildElements=t=>{const e=[];let i,a=0,o=t;do i=this._getItemChildElement(o),i&&(e.push(i),o=i),a++;while(i!==null&&a<20);return e},this._getItemSubElement=t=>t?this._isTriggerElement(t)?this.element:t.classList.contains("menu-sub")?t:l.has(t,"sub")?l.get(t,"sub"):Z(t,".menu-sub"):null,this._getCss=(t,e)=>{const i=(t.ownerDocument||document).defaultView;return i?(e=e.replace(/([A-Z])/g,"-$1").toLowerCase(),i.getComputedStyle(t,null).getPropertyValue(e)):""},this._getItemSubType=t=>{const e=this._getItemSubElement(t);return e&&parseInt(this._getCss(e,"z-index"))>0?"dropdown":"accordion"},this._isItemSubShown=t=>{let e=this._getItemSubElement(t);return e?this._getItemSubType(t)==="dropdown"?e.classList.contains("show")&&e.hasAttribute("data-popper-placement"):t.classList.contains("show"):!1},this._isItemDropdownPermanent=t=>this._getItemOption(t,"permanent")===!0,this._isItemParentShown=t=>Jt(t,".menu-item.show").length>0,this._isItemSubElement=t=>t.classList.contains("menu-sub"),this._hasItemSub=t=>t.classList.contains("menu-item")&&t.hasAttribute("data-kt-menu-trigger"),this._getItemLinkElement=t=>Z(t,".menu-link"),this._getItemToggleElement=t=>this.triggerElement?this.triggerElement:this._getItemLinkElement(t),this._showDropdown=t=>{if(h.trigger(this.element,"kt.menu.dropdown.show")===!1)return;u.hideDropdowns(t);const e=this._getItemSubElement(t),i=this._getItemOption(t,"width"),a=this._getItemOption(t,"height");let o=this.options.dropdown.zindex;const c=Xt(t);c!==null&&c>=o&&(o=c+1),o&&p.set(e,"z-index",o),i&&p.set(e,"width",i),a&&p.set(e,"height",a),this.initDropdownPopper(t,e),t.classList.add("show"),t.classList.add("menu-dropdown"),e.classList.add("show"),this._getItemOption(t,"overflow")===!0?(document.body.appendChild(e),l.set(t,"sub",e),l.set(e,"item",t),l.set(e,"menu",this)):l.set(e,"item",t),h.trigger(this.element,"kt.menu.dropdown.shown")},this.initDropdownPopper=(t,e)=>{let i;const a=this._getItemOption(t,"attach");if(a?a==="parent"?i=t.parentNode:i=document.querySelector(a):i=t,i){const o=qt(i,e,this._getDropdownPopperConfig(t));l.set(t,"popper",o)}},this._hideDropdown=t=>{if(h.trigger(this.element,"kt.menu.dropdown.hide")===!1)return;const e=this._getItemSubElement(t);p.set(e,"z-index",""),p.set(e,"width",""),p.set(e,"height",""),t.classList.remove("show"),t.classList.remove("menu-dropdown"),e.classList.remove("show"),this._getItemOption(t,"overflow")===!0&&(t.classList.contains("menu-item")?t.appendChild(e):ee(this.element,t),l.remove(t,"sub"),l.remove(e,"item"),l.remove(e,"menu")),l.has(t,"popper")===!0&&(l.get(t,"popper").destroy(),l.remove(t,"popper")),this.destroyDropdownPopper(t),h.trigger(this.element,"kt.menu.dropdown.hidden")},this.destroyDropdownPopper=t=>{l.has(t,"popper")===!0&&(l.get(t,"popper").destroy(),l.remove(t,"popper")),h.trigger(this.element,"kt.menu.dropdown.hidden")},this._showAccordion=t=>{if(h.trigger(this.element,"kt.menu.accordion.show")===!1)return;this.options.accordion.expand===!1&&this._hideAccordions(t),l.has(t,"popper")===!0&&this._hideDropdown(t),t.classList.add("hover"),t.classList.add("showing");const e=this._getItemSubElement(t);if(e){const i=e;oe(i,this.options.accordion.slideSpeed,()=>{t.classList.remove("showing"),t.classList.add("show"),i.classList.add("show"),h.trigger(this.element,"kt.menu.accordion.shown")})}},this._hideAccordion=t=>{if(h.trigger(this.element,"kt.menu.accordion.hide")===!1)return;const e=this._getItemSubElement(t);t.classList.add("hiding"),e&&ae(e,this.options.accordion.slideSpeed,()=>{t.classList.remove("hiding"),t.classList.remove("show"),e.classList.remove("show"),t.classList.remove("hover"),h.trigger(this.element,"kt.menu.accordion.hidden")})},this._hideAccordions=t=>{const e=this.element.querySelectorAll(".show[data-kt-menu-trigger]");if(e&&e.length>0)for(var i=0,a=e.length;i<a;i++){const o=e[i];this._getItemSubType(o)==="accordion"&&o!==t&&t.contains(o)===!1&&o.contains(t)===!1&&this._hideAccordion(o)}},this._reset=t=>{if(this._hasItemSub(t)===!1)return;const e=this._getItemSubElement(t);l.has(t,"type")&&l.get(t,"type")!==this._getItemSubType(t)&&(t.classList.remove("hover"),t.classList.remove("show"),t.classList.remove("show"),e&&e.removeClass&&e.removeClass(e,"show"))},this._update=()=>{this.element.querySelectorAll(".menu-item[data-kt-menu-trigger]").forEach(e=>this._reset(e))},this._hide=t=>{t&&this._isItemSubShown(t)!==!1&&(this._getItemSubType(t)==="dropdown"?this._hideDropdown(t):this._getItemSubType(t)==="accordion"&&this._hideAccordion(t))},this._show=t=>{t&&this._isItemSubShown(t)!==!0&&(this._getItemSubType(t)==="dropdown"?this._showDropdown(t):this._getItemSubType(t)==="accordion"&&this._showAccordion(t),l.set(t,"type",this._getItemSubType(t)))},this._toggle=t=>{t&&(this._isItemSubShown(t)===!0?this._hide(t):this._show(t))},this._mouseout=(t,e)=>{const i=this._getItemElement(t);if(!i||this._getItemOption(i,"trigger")!=="hover")return;const a=setTimeout(()=>{l.get(i,"hover")==="1"&&this._hide(i)},this.options.dropdown.hoverTimeout);l.set(i,"hover","1"),l.set(i,"timeout",a)},this._mouseover=(t,e)=>{const i=this._getItemElement(t);i&&this._getItemOption(i,"trigger")==="hover"&&(l.get(i,"hover")==="1"&&(clearTimeout(l.get(i,"timeout")),l.remove(i,"hover"),l.remove(i,"timeout")),this._show(i))},this._dismiss=(t,e)=>{const i=this._getItemElement(t),a=this._getItemChildElements(i),o=this._getItemSubType(i);if(i!==null&&o==="dropdown"&&(this._hide(i),a.length>0))for(let c=0,y=a.length;c<y;c++)a[c]!==null&&this._getItemSubType(a[c])==="dropdown"&&this._hide(a[c])},this._link=(t,e)=>{h.trigger(this.element,"kt.menu.link.click")!==!1&&(u.hideDropdowns(void 0),h.trigger(this.element,"kt.menu.link.clicked"))},this._click=(t,e)=>{e.preventDefault();const i=this._getItemElement(t);this._getItemOption(i,"trigger")==="click"&&(this._getItemOption(i,"toggle")===!1?this._show(i):this._toggle(i))},this.click=(t,e)=>this._click(t,e),this.link=(t,e)=>this._link(t,e),this.dismiss=(t,e)=>this._dismiss(t,e),this.mouseover=(t,e)=>this._mouseover(t,e),this.mouseout=(t,e)=>this._mouseout(t,e),this.getItemTriggerType=t=>this._getItemOption(t,"trigger"),this.getItemSubType=t=>this._getItemSubType(t),this.show=t=>this._show(t),this.hide=t=>this._hide(t),this.reset=t=>this._reset(t),this.update=()=>this._update(),this.getElement=()=>this.element,this.getItemLinkElement=t=>this._getItemLinkElement(t),this.getItemToggleElement=t=>this._getItemToggleElement(t),this.getItemSubElement=t=>this._getItemSubElement(t),this.getItemParentElements=t=>this._getItemParentElements(t),this.isItemSubShown=t=>this._isItemSubShown(t),this.isItemParentShown=t=>this._isItemParentShown(t),this.getTriggerElement=()=>this.triggerElement,this.isItemDropdownPermanent=t=>this._isItemDropdownPermanent(t),this.hideAccordions=t=>this._hideAccordions(t),this.on=(t,e)=>h.on(this.element,t,e),this.one=(t,e)=>h.one(this.element,t,e),this.off=t=>h.off(this.element,t),this.element=s,this.options=Object.assign(Y,n),this.instanceUid=B("menu"),this._setTriggerElement(),this._update(),l.set(this.element,"menu",this),this}};u.getInstance=s=>{const n=l.get(s,"menu");if(n)return n;const t=s.closest(".menu");if(t){const e=l.get(t,"menu");if(e)return e}if(s.classList.contains("menu-link")){const e=s.closest(".menu-sub");if(e){const i=l.get(e,"menu");if(i)return i}}return null},u.hideDropdowns=s=>{const n=document.querySelectorAll(".show.menu-dropdown[data-kt-menu-trigger]");if(n&&n.length>0)for(let t=0,e=n.length;t<e;t++){const i=n[t],a=u.getInstance(i);a&&a.getItemSubType(i)==="dropdown"&&le(s,a,i)}},u.updateDropdowns=()=>{const s=document.querySelectorAll(".show.menu-dropdown[data-kt-menu-trigger]");if(s&&s.length>0)for(var n=0,t=s.length;n<t;n++){var e=s[n];l.has(e,"popper")&&l.get(e,"popper").forceUpdate()}},u.createInstances=s=>{document.querySelectorAll(s).forEach(n=>{const t=n;let e=u.getInstance(t);return e||(e=new u(n,Y)),e})},u.initGlobalHandlers=()=>{document.addEventListener("click",s=>{const n=document.querySelectorAll(".show.menu-dropdown[data-kt-menu-trigger]");n&&n.length>0&&he(n,s)}),w.on(document.body,'.menu-item[data-kt-menu-trigger] > .menu-link, [data-kt-menu-trigger]:not(.menu-item):not([data-kt-menu-trigger="auto"])',"click",function(s){const n=u.getInstance(this);if(n)return n.click(this,s)}),w.on(document.body,".menu-item:not([data-kt-menu-trigger]) > .menu-link","click",function(s){s.stopPropagation();const n=u.getInstance(this);if(n&&n.link)return n.link(this,s)}),w.on(document.body,'[data-kt-menu-dismiss="true"]',"click",function(s){const n=u.getInstance(this);if(n)return n.dismiss(this,s)}),w.on(document.body,"[data-kt-menu-trigger], .menu-sub","mouseover",function(s){const n=u.getInstance(this);if(n&&n.getItemSubType(this)==="dropdown")return n.mouseover(this,s)}),w.on(document.body,"[data-kt-menu-trigger], .menu-sub","mouseout",function(s){const n=u.getInstance(this);if(n&&n.getItemSubType(this)==="dropdown")return n.mouseout(this,s)}),window.addEventListener("resize",()=>{j(void 0,()=>{document.querySelectorAll('[data-kt-menu="true"]').forEach(t=>{const e=u.getInstance(t);e&&e.update()})},200)})},u.bootstrap=()=>{u.initGlobalHandlers(),u.createInstances('[data-kt-menu="true"]')},u.reinitialization=()=>{u.createInstances('[data-kt-menu="true"]')},u.createInsance=(s,n=Y)=>{const t=document.body.querySelector(s);if(!t)return;const e=t;let i=u.getInstance(e);return i||(i=new u(e,n)),i};let et=u;function le(r,s,n){r?s.getItemSubElement(n).contains(r)===!1&&n.contains(r)===!1&&n!==r&&s.hide(n):s.hide(n)}function he(r,s){for(const n of r){const t=n,e=et.getInstance(t);if(e&&e.getItemSubType(t)==="dropdown"){const i=e.getItemSubElement(t);if(t===s.target||t.contains(s.target)||i&&(i===s.target||i.contains(s.target)))continue;e.hide(t)}}}const ct={minLength:2,keypress:!0,enter:!0,layout:"menu",showOnFocus:!0},Q={componentName:"search",instanseQuery:"[data-kt-search]",attrQuery:"data-kt-search-"},L=class L{constructor(s,n,t){this.processing=!1,this._getElement=e=>this.element.querySelector('[data-kt-search-element="'+e+'"]'),this.getOption=e=>{const i=this.element.getAttribute(`${this.queries.attrQuery}${e}`);if(i){let a=T(i);return a!==null&&String(a)==="true"?!0:a!==null&&String(a)==="false"?!1:a}else{const a=G(e),o=R(this.options,a);return o?T(o):null}},this.getResponsiveFormMode=()=>{const e=this.getOption("responsive"),i=gt().width;if(!e)return null;const a=ut(e);let o=-1;return a?o=+a:o=parseInt(e),i<o?"on":"off"},this.focus=()=>{this.element.classList.add("focus"),(this.getOption("show-on-focus")===!0||this.inputElement.value.length>=this.options.minLength)&&this.show()},this.blur=()=>{this.element.classList.remove("focus")},this.enter=e=>{e.key==="Enter"&&(e.preventDefault(),this.search())},this.input=()=>{if(this.getOption("min-length")){const e=parseInt(this.getOption("min-length"));this.inputElement.value.length>=e?this.search():this.inputElement.value.length===0&&this.clear()}},this.update=()=>{if(this.layout==="menu"){let e=this.getResponsiveFormMode();e==="on"&&this.contentElement.contains(this.formElement)===!1?(this.contentElement.prepend(this.formElement),this.formElement.classList.remove("d-none")):e==="off"&&this.contentElement.contains(this.formElement)===!0&&(this.element.prepend(this.formElement),this.formElement.classList.add("d-none"))}},this.show=()=>{this.menuObject&&(this.update(),this.menuObject.show(this.element))},this.hide=()=>{this.menuObject&&(this.update(),this.menuObject.hide(this.element))},this.search=()=>{this.processing===!1&&(this.spinnerElement&&this.spinnerElement.classList.remove("d-none"),this.clearElement&&this.clearElement.classList.add("d-none"),this.toolbarElement&&this.toolbarElement.classList.add("d-none"),this.inputElement.focus(),this.processing=!0,h.trigger(this.element,"kt.search.process"))},this.complete=()=>{this.spinnerElement&&this.spinnerElement.classList.add("d-none"),this.clearElement&&this.clearElement.classList.remove("d-none"),this.inputElement.value.length===0&&this.clear(),this.inputElement.focus(),this.show(),this.processing=!1},this.clear=()=>{h.trigger(this.element,"kt.search.clear")!==!1&&(this.inputElement.value="",this.inputElement.focus(),this.clearElement&&this.clearElement.classList.add("d-none"),this.toolbarElement&&this.toolbarElement.classList.remove("d-none"),this.getOption("show-on-focus")===!1&&this.hide(),h.trigger(this.element,"kt.search.cleared"))},this.isProcessing=()=>this.processing,this.getQuery=()=>this.inputElement.value,this.getMenu=()=>this.menuObject,this.getFormElement=()=>this.formElement,this.on=(e,i)=>h.on(this.element,e,i),this.one=(e,i)=>h.one(this.element,e,i),this.off=e=>h.off(this.element,e),this.options=Object.assign(ct,n),this.queries=t,this.element=s,this.contentElement=this._getElement("content"),this.formElement=this._getElement("form"),this.inputElement=this._getElement("input"),this.spinnerElement=this._getElement("spinner"),this.clearElement=this._getElement("clear"),this.toggleElement=this._getElement("toggle"),this.submitElement=this._getElement("submit"),this.toolbarElement=this._getElement("toolbar"),this.resultsElement=this._getElement("results"),this.suggestionElement=this._getElement("suggestion"),this.emptyElement=this._getElement("empty"),this.layout=this.getOption("layout"),this.layout==="menu"&&(this.menuObject=new et(this.contentElement,Y)),this.update(),this.handlers(),l.set(this.element,this.queries.componentName,this)}handlers(){this.inputElement.addEventListener("focus",this.focus),this.inputElement.addEventListener("blur",this.blur),this.getOption("keypress")===!0&&this.inputElement.addEventListener("input",this.input),this.submitElement&&this.submitElement.addEventListener("click",this.search),this.getOption("enter")===!0&&this.inputElement.addEventListener("keypress",this.enter),this.clearElement&&this.clearElement.addEventListener("click",this.clear),this.menuObject&&(this.toggleElement&&(this.toggleElement.addEventListener("click",this.show),this.menuObject.on("kt.menu.dropdown.show",function(){V(this.toggleElement)&&(this.toggleElement.classList.add("active"),this.toggleElement.classList.add("show"))}),this.menuObject.on("kt.menu.dropdown.hide",function(){V(this.toggleElement)&&(this.toggleElement.classList.remove("active"),this.toggleElement.classList.remove("show"))})),this.menuObject.on("kt.menu.dropdown.shown",function(){this.inputElement.focus()})),window.addEventListener("resize",()=>{j(void 0,()=>{this.update()},200)})}getInputElement(){return this.inputElement}getContentElement(){return this.contentElement}getElement(){return this.element}};L.getInstance=(s,n=Q.componentName)=>{const t=l.get(s,n);return t||null},L.createInstances=(s=Q.instanseQuery,n=ct,t=Q)=>{document.body.querySelectorAll(s).forEach(i=>{const a=i;let o=L.getInstance(a);return o||(o=new L(a,n,t)),o})},L.createInsance=(s=Q.instanseQuery,n=ct,t=Q)=>{const e=document.body.querySelector(s);if(!e)return;const i=e;let a=L.getInstance(i);return a||(a=new L(i,n,t)),a},L.bootstrap=(s=Q.instanseQuery)=>{L.createInstances(s)},L.reinitialization=(s=Q.instanseQuery)=>{L.createInstances(s)};let St=L;const ce=r=>{const s={};return r.forEach(n=>{s[n.Code]=n.Lang}),s},ue=Lt({id:"language",state:()=>({stateDictionary:null,stateIsDictionarySet:!1}),getters:{dictionary:r=>r.stateDictionary,isDictionarySet:r=>r.stateIsDictionarySet},actions:{async downloadLanguage(r){const s={lang:r,ver:"v1"};try{const n=await x.get(Nt,"",new URLSearchParams(s).toString()),t=ce(n.data.result.content);r=="ID"?(t.routerName=pt.routerName,t.sidebarMenu=pt.sidebarMenu):(t.routerName=ft.routerName,t.sidebarMenu=ft.sidebarMenu),this.stateDictionary=t,this.stateIsDictionarySet=!0}catch(n){Tt("IRONS",n),console.log(n)}}}}),E=At(),W=xt(),de=Vt(),kt=ue(),Ee=async r=>{if(!localStorage.getItem("account-info-cache")||localStorage.getItem("account-info-cache")=="undefined"){st.dispatch(it.REMOVE_BODY_CLASSNAME,"page-loading"),J.push({name:"signin"});return}const s=localStorage.getItem("account-info-cache"),n=JSON.parse(s),t=localStorage.getItem("login-tracked")==="true";try{Object.keys(E.user).length===0&&E.user.constructor===Object&&await E.getUserProfile(n.username,r),t||(await E.logUserLogin(E.user.EmployeeId),localStorage.setItem("login-tracked","true")),W.isMenuSet||await W.getMenu(E.user.EmployeeId.toString()),kt.isDictionarySet||await kt.downloadLanguage("EN"),X.bootstrap(),dt.bootstrap(),X.updateAll(),st.dispatch(it.REMOVE_BODY_CLASSNAME,"page-loading")}catch{st.dispatch(it.REMOVE_BODY_CLASSNAME,"page-loading"),E.reset(),localStorage.clear(),J.push({name:"signin"})}},we=async(r,s)=>{if(!r)try{await E.setUserProfileFromDump(),await W.setMenuDMAFromDump();return}catch(i){console.log(i)}if(!localStorage.getItem("account-info-cache")||localStorage.getItem("account-info-cache")=="undefined"){J.push({name:"signin"});return}const n=localStorage.getItem("account-info-cache"),t=JSON.parse(n),e=localStorage.getItem("login-tracked")==="true";try{Object.keys(E.user).length===0&&E.user.constructor===Object&&(await E.getUserProfile(t.username,s),await de.getMasterDataFitterFromServer()),e||(await E.logUserLogin(E.user.EmployeeId),localStorage.setItem("login-tracked","true")),W.isMenuDMASet||_t()||await W.getMenuDMA(E.user.EmployeeId.toString())}catch{E.reset(),localStorage.clear(),J.push({name:"signin"})}},be=async()=>(await Pt(d,"userInfo")).length>0;export{X as D,et as M,dt as S,It as T,we as a,wt as b,Ee as c,be as d,Vt as e,ue as u};
