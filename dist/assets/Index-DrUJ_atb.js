import{u as x}from"./usePreviewFormStore-q8XX1uYG.js";import{F as k}from"./Index-D5s2WKlG.js";import{u as F}from"./vue-router-iNp9kJ0K.js";import{k as b,bL as y,p as C,q as V,x as d,u as f,K as B,R as u,aB as o,s as e,B as A,r as g,c as S,aa as $,F as D}from"./@vue-BypzYtbH.js";import{a as E}from"./element-plus-BeWdvTRa.js";import{_ as N}from"./Confirmation.vue_vue_type_style_index_0_lang-HchphDdZ.js";import{_ as O}from"./nw-img-vue-CR837WER.js";import"./pinia-BjOS2_Ao.js";import"./index-BuVmIl8K.js";import"./object-path-DPahbflh.js";import"./@popperjs-BaMZbQYT.js";import"./deepmerge-oeePEK50.js";import"./crypto-js-BeOoaXQg.js";import"./cron-De-pTz2b.js";import"./luxon-C_T8jI2d.js";import"./dexie-CWyjz2Lo.js";import"./vuex-BbOKrtVp.js";import"./axios-CU9oF0EU.js";import"./vue-axios-BaogFJPH.js";import"./sweetalert2-CppYEwAE.js";import"./@azure-DwL0pga8.js";import"./uuid-SoommWqA.js";import"./vue-inline-svg-Bgl3eqMC.js";import"./vee-validate-C_msoaAA.js";import"./@microsoft-C248spM2.js";import"./@nevware21-CKApUIxW.js";import"./btech-analytics-wrapper-DOvMtwpJ.js";import"./posthog-js-CbYOvutT.js";import"./vue-i18n-CbVMwo04.js";import"./@intlify-YGwFW6EB.js";import"./prismjs-BrsEfPfk.js";import"./dayjs-D0x2Df_K.js";import"./lodash-DrHMlsdo.js";import"./resize-observer-polyfill-B1PUzC5B.js";import"./normalize-wheel-D6ofg2JO.js";import"./mitt-C1xD_ZTF.js";import"./async-validator-DK9uouaC.js";import"./urls-CvqtYZA-.js";import"./number-format-BdMuQVyW.js";import"./useCameraStore-BwXVJhPe.js";import"./string-to-imageinfo-converter-Cdr1iOkP.js";import"./authentication-handler-Pueb_EI7.js";import"./urls-CPQ2HRXU.js";import"./useDefectsFormStore-41UTMhiG.js";import"./DefectNoClass-BqGKOkzR.js";import"./prev-val-handler-DvA3D_kF.js";import"./helpers-wUOLw-dU.js";import"./webp-converter-browser-C3MD88Lp.js";import"./compressorjs-Cmz8Y9J9.js";import"./file-saver-CwTBvle_.js";import"./date-format-8-IvfSl3.js";import"./moment-C5S46NFB.js";import"./urls-B0Rq9QQ3.js";import"./urls-hWHEBXep.js";import"./urls-D8F5Tyyp.js";import"./useGlobalConnectionStore-DV9B81de.js";import"./useAttachmentStore-DqM3autD.js";import"./useDefectsStore-7BpSnT1n.js";import"./CrackNoClass-0DSU7BAn.js";import"./CrackYesClass-COntz77m.js";import"./methods-bliey5hF.js";import"./useAttachmentStore-CPMOf2aR.js";import"./useDefectsStore-j2gYF-8i.js";import"./useEFormStore-DtkLPope.js";import"./list-pcxkCnQg.js";import"./@vueuse-DFoNmIyu.js";import"./useOfflineCameraStore-BBsMm6DV.js";import"./internet-connection-CnLQPjRt.js";import"./MachineSMUEnum-CgiCo9nf.js";import"./IronformConfig-BWypCgSI.js";import"./disabled-state-O9W-ZY8y.js";import"./reference-file-C1vLEEpf.js";import"./CrackForm-CAm6DVbX.js";import"./Repair-zyV2di4A.js";import"./CrackForm-CIiKEd4n.js";import"./manipulate-html-string-DqTEGh-F.js";import"./useHistoricalEformDmaStore-Fo4tKNgB.js";import"./manipulate-file-oif_A7gg.js";import"./ImagePreview.vue_vue_type_style_index_0_lang-DrcOCjy4.js";import"./FullScreenDialog.vue_vue_type_style_index_0_lang-DXRDt27h.js";import"./UploadImageFailureDialog.vue_vue_type_style_index_0_lang-DVBJv3c1.js";import"./vue3-dropzone-_NG5IwbJ.js";import"./file-selector-CuD-TRe-.js";import"./tslib-DTLQ5SHO.js";import"./attr-accept-DLIfoYC7.js";import"./pdf-DNpyvVEz.js";import"./image-close-button-red-B1UxWyBV.js";import"./@progress-DBKeVTWA.js";import"./vue-BzYgrL08.js";import"./pdf-merger-js-DY3-eECH.js";import"./pdf-lib-DrnT2QV2.js";import"./@pdf-lib-CXIx2D9y.js";import"./pako-Dx2kwFQn.js";import"./usePositionListStore-BsprGHwA.js";import"./Pagination-BiobnanQ.js";import"./urls-DI_NR_TT.js";import"./mapOption-CeGMwmH0.js";import"./useMasterStore-CzSO06fn.js";import"./NAForm-BdrJ0TGj.js";import"./Textarea.vue_vue_type_style_index_0_lang-v94SEJmi.js";import"./ToastWithIcon.vue_vue_type_style_index_0_lang-wfM94fOM.js";import"./MessageBox.vue_vue_type_style_index_0_lang-DfpcTVNJ.js";import"./useDefectSheetStore-85RM-z1z.js";import"./OfflineFullScreenDialog.vue_vue_type_style_index_0_lang-C2GTRJsq.js";import"./PDFViewerDialog.vue_vue_type_style_index_0_lang-DqiQYePb.js";import"./defect-CAkPobhd.js";import"./ViewOnlyNAReasonDialog-DR-Uz59p.js";import"./usePreviewNaFormStore-C1MJT2RQ.js";import"./ImagePreviewCabSide-CpYtX9kF.js";import"./ImageListModal.vue_vue_type_style_index_0_lang-djt6-PkA.js";import"./PDFViewerDialog.vue_vue_type_style_index_0_lang-GWz8s3FD.js";import"./InformationPopUp.vue_vue_type_style_index_0_lang-O2xYF9Pq.js";import"./ErrorBox.vue_vue_type_style_index_0_lang-Bysg_zE3.js";import"./BackNavigator-DUE8rWVW.js";import"./RiskAssessment-Cp7incD6.js";import"./SelectSearchWithLabel-CWBDKtLo.js";import"./SMUDetailDialog-Bs-98WGo.js";import"./CameraIdEnum-C2Xl0HNE.js";import"./usePreviewDefectFormStore-CVtftEdK.js";import"./Toast.vue_vue_type_style_index_0_lang-OOgaHWFE.js";import"./DefectPanelGeneric-BYVMPBe-.js";import"./document_download-C1p7j0nJ.js";import"./ImagePreviews.vue_vue_type_style_index_0_lang-BJGkhvcB.js";import"./cbm-helper-BxJZ9NTc.js";import"./Check-CTArJpdm.js";import"./DefectForm-eu6l4STx.js";import"./helpers-BS1ZZpAr.js";import"./LargeCamera-BnWfLFAm.js";import"./Index.vue_vue_type_script_setup_true_lang-BKnCIuZK.js";import"./CommentPanel-D0ptrEBp.js";const P={class:"row text-center pb-5 pt-5 text-dark processing-time-container"},q={class:"icon mb-4"},I=o("h3",{class:"mb-2"},"Thank You",-1),R=o("span",null," For close e-form ",-1),j={class:"row text-center pt-5"},w=b({__name:"SubmitComplete",props:{show:{type:Boolean,required:!0}},emits:["close"],setup(_,{emit:t}){const m=_,i=t,r=y(()=>m.show),n=()=>{i("close")};return(v,p)=>{const a=u("inline-svg"),l=u("el-button"),c=u("el-dialog");return C(),V(c,{modelValue:f(r),"onUpdate:modelValue":p[0]||(p[0]=s=>B(r)?r.value=s:null),width:"45%","show-close":!1,"custom-class":"oil-not-in-range__header p-0",top:"30vh",center:!0,"close-on-click-modal":!1,"close-on-press-escape":!1},{default:d(()=>[o("div",P,[o("div",q,[e(a,{src:"/media/svg/dma/green-checklist.svg"})]),I,R]),o("div",j,[e(l,{type:"success",class:"ok-button",onClick:n},{default:d(()=>[A("Go to Approval List")]),_:1})])]),_:1},8,["modelValue"])}}}),G=b({__name:"Index",setup(_){const t=x(),m=F(),i=g(!1),r=g(!1),n=S(()=>t.formPreview||!0),v=()=>{m.push({name:"approval"}),t.changePreviewForm(!0)},p=()=>{i.value=!0},a=()=>{i.value=!1},l=async()=>{i.value=!1;const s=E.service({lock:!0,text:"Closing Form",background:"rgba(0, 0, 0, 0.7)"}),h=await t.closeForm();t.changePreviewForm(!1),s.close(),h&&(r.value=!0)},c=()=>{r.value=!1,m.push({name:"approval"})};return(s,h)=>(C(),$(D,null,[e(k,{title:`Digital Service Approval - ${f(t).generalForm.equipment} - ${f(t).generalForm.workOrder}`,"defect-close-first":!1,"page-from":"approval"},{buttonEndOfGroup:d(()=>[o("div",{class:"row justify-content-center w-100"},[o("div",{class:"col-12 col-lg-12 pe-0 ps-4"},[o("div",{class:"d-flex row justify-contend-end"},[o("button",{type:"button",class:"btn btn-success",onClick:p,style:{"background-color":"#18AF4A"}},"Submit")])])])]),_:1},8,["title"]),e(w,{show:!n.value,onClose:v},null,8,["show"]),e(N,{visibility:i.value,caption:"Are you sure closing the e-form?",onOnNoConfirm:a,onOnYesConfirm:l},null,8,["visibility"]),e(w,{show:r.value,onClose:c},null,8,["show"])],64))}}),lr=O(G,[["__scopeId","data-v-d08cd8cb"]]);export{lr as default};
