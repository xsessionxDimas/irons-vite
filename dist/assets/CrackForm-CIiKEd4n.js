import{k as K,R as T,p as i,aa as l,s as P,x as k,F as g,$ as D,q as Q,aB as e,B as q,C as c,A as x,r as L,bd as se,bb as oe,bL as ie,P as le,u as b,y as H,a2 as N,K as ee,c as S,ac as De,n as Pe,S as $e,b6 as te,b4 as Ce}from"./@vue-BypzYtbH.js";import{_ as J}from"./nw-img-vue-CR837WER.js";import{a as ae}from"./@vueuse-DFoNmIyu.js";import{f as V,r as Se}from"./number-format-BdMuQVyW.js";import{d as Fe}from"./manipulate-html-string-DqTEGh-F.js";import{a as Ie}from"./element-plus-BeWdvTRa.js";import{u as Ae}from"./useHistoricalEformDmaStore-Fo4tKNgB.js";import{u as Le}from"./useAttachmentStore-DqM3autD.js";import{d as ne,_ as Te,a as Re}from"./manipulate-file-oif_A7gg.js";import{G as Ee,l as Me,F as ce}from"./helpers-wUOLw-dU.js";import{d as re,e as de}from"./@progress-DBKeVTWA.js";import{s as pe}from"./string-to-imageinfo-converter-Cdr1iOkP.js";import{P as Ve}from"./pdf-merger-js-DY3-eECH.js";import{s as _e}from"./urls-CPQ2HRXU.js";import{e as B}from"./lodash-DrHMlsdo.js";import{v as He}from"./uuid-SoommWqA.js";const Gi="/media/icons/bumaau/open_in_new.svg",Ne={class:"history-wrapper d-flex flex-column"},Oe={class:"d-flex"},je={key:0,class:"badge"},Be={key:0,class:"comment"},qe={key:1,class:"comment"},Ue=K({__name:"DefectHistoryPanel",props:{activities:{required:!0,type:Object}},setup(n){const F=n,R=d=>{switch(d){case"Submited":case"Submitted":return"Submitted";case"Decline":case"Declined":return"Declined";default:return d}};function y(d){return d&&d.charAt(0).toUpperCase()+d.slice(1)}const v=(d,w)=>R(d),$=(d,w)=>{if(w>=0&&w<F.activities.length-1&&["Submitted","Submited"].includes(d))return"#FFC107";switch(d){case"Revised":return"#FFC107";case"Decline":return"#FF4842";default:return"#18AF4A"}};return(d,w)=>{const h=T("el-timeline-item"),p=T("el-timeline");return i(),l("div",null,[P(p,null,{default:k(()=>[(i(!0),l(g,null,D(n.activities,(f,s)=>(i(),Q(h,{key:s,type:"primary",color:$(f.action,s),"hide-timestamp":"true"},{default:k(()=>[e("div",Ne,[e("div",Oe,[e("span",null,[q(c(`${v(f.action,s)} by ${f.pic}`)+" ",1),y(f.role)!="Fitter"?(i(),l("span",je,c(y(f.role)),1)):x("",!0)])]),e("div",null,[e("span",null,c(f.createdDate),1)]),f.declineReason&&v(f.action,s)=="Declined"?(i(),l("div",Be,c(f.declineReason),1)):x("",!0),f.approveReason?(i(),l("div",qe,c(f.approveReason),1)):x("",!0)])]),_:2},1032,["color"]))),128))]),_:1})])}}}),Qi=J(Ue,[["__scopeId","data-v-5f9ed66d"]]),ze={class:"d-flex justify-content-between"},We=e("div",null,[e("span",null,"View version")],-1),Ki=K({__name:"DefectHistoryVersion",props:{versionDates:{required:!0,type:Object}},emits:["change-version"],setup(n,{expose:F,emit:R}){const y=n,v=L(y.versionDates[0]??""),$=R,d=h=>{$("change-version",{versionDate:h,callback:void 0})};return F({resetToLatest:()=>{v.value=y.versionDates[0],$("change-version",{versionDate:y.versionDates[0],callback:void 0})}}),(h,p)=>{const f=T("el-option"),s=T("el-select");return i(),l("div",ze,[We,e("div",null,[P(s,{modelValue:v.value,"onUpdate:modelValue":p[0]||(p[0]=I=>v.value=I),placeholder:"Select",size:"large",style:{width:"400px"},onChange:d},{default:k(()=>[(i(!0),l(g,null,D(n.versionDates,I=>(i(),Q(f,{key:I,label:I,value:I},null,8,["label","value"]))),128))]),_:1},8,["modelValue"])])])}}}),Ge="/media/icons/bumaau/warning.png",Qe={},ue=n=>(se("data-v-f044d9ef"),n=n(),oe(),n),Ke={class:"my-3 mx-1 d-flex parts-warning"},Je=ue(()=>e("div",{id:"icon-wrapper"},[e("img",{src:Ge,class:"icon",alt:"icon",style:{"max-width":"100%",width:"25px",height:"25px"}})],-1)),Xe=ue(()=>e("div",{style:{"margin-left":"12px"}},[e("span",null,"Parts section is not filled out, please complete if parts is required.")],-1)),Ye=[Je,Xe];function Ze(n,F){return i(),l("div",Ke,Ye)}const et=J(Qe,[["render",Ze],["__scopeId","data-v-f044d9ef"]]),ve=n=>(se("data-v-ff5ddbc8"),n=n(),oe(),n),tt={class:"row pt-1 pb-1 text-dark modal-title"},st={class:"p-3 m-1 d-flex"},ot={class:"form-check"},it=ve(()=>e("div",null,[e("span",null,"Completed Now")],-1)),lt={class:"p-3 m-1 d-flex"},at={class:"form-check"},nt=ve(()=>e("div",null,[e("span",null,"Completed at a later date (parts or resources required)")],-1)),ct={class:"d-flex justify-content-between"},rt={key:0,class:"dialog-footer",style:{display:"block","text-align":"right"}},dt={class:"dialog-footer",style:{display:"block","text-align":"right"}},pt=K({__name:"CompleteOrLaterDialog",props:{show:{required:!0,type:Boolean},partsWarning:{required:!0,type:Boolean,default:!1}},emits:["close","submit","add-parts"],setup(n,{emit:F}){const R=n,y=F,v=L(""),$=ae("(min-width: 1100px)"),d=ae("(min-width: 767px) and (max-width: 900px)"),w=ie(()=>d.value?"70%":$.value?"50%":"65%"),h=ie(()=>R.show),p=()=>{y("submit",{isComplete:v.value=="true",callback:void 0})},f=()=>{y("add-parts")},s=()=>{v.value="",y("close")};return(I,A)=>{const O=T("el-button"),U=T("el-dialog");return i(),Q(U,{modelValue:b(h),"onUpdate:modelValue":A[2]||(A[2]=C=>ee(h)?h.value=C:null),title:"Will this defect be:","custom-class":"defect-complete-dialog",width:b(w),"show-close":!1,top:"30vh",center:!0,onClose:s},{footer:k(()=>[e("div",ct,[e("div",null,[n.partsWarning?(i(),l("span",rt,[P(O,{class:"btn-add-parts",type:"success",onClick:le(f,["prevent"])},{default:k(()=>[q("Add Parts or Resources")]),_:1})])):x("",!0)]),e("div",null,[e("span",dt,[P(O,{onClick:s,style:{"box-shadow":"0px 24px 48px rgba(145, 158, 171, 0.2)"}},{default:k(()=>[q("Cancel")]),_:1}),P(O,{class:"button-OK-confirmation",type:"success",disabled:b(v)=="",onClick:le(p,["prevent"]),style:{background:"#18AF4A","box-shadow":"0px 8px 16px rgba(0, 171, 85, 0.24)",color:"white"}},{default:k(()=>[q("Submit")]),_:1},8,["disabled"])])])])]),default:k(()=>[e("div",tt,[e("div",st,[e("div",ot,[H(e("input",{class:"form-check-input",type:"radio","onUpdate:modelValue":A[0]||(A[0]=C=>ee(v)?v.value=C:null),value:"true"},null,512),[[N,b(v)]])]),it]),e("div",lt,[e("div",at,[H(e("input",{class:"form-check-input",type:"radio","onUpdate:modelValue":A[1]||(A[1]=C=>ee(v)?v.value=C:null),value:"false"},null,512),[[N,b(v)]])]),nt]),n.partsWarning?(i(),Q(et,{key:0})):x("",!0)])]),_:1},8,["modelValue","width"])}}}),Ji=J(pt,[["__scopeId","data-v-ff5ddbc8"]]),o=n=>(se("data-v-7f2c1d53"),n=n(),oe(),n),_t={key:0,class:"hiddenContainer"},ut=["id"],vt={class:"report-header mb-2"},ht=o(()=>e("div",{class:"el-dialog__title avoid prevent-split"}," Detailed Information for Crack Identification ",-1)),mt=["innerHTML"],ft={class:"el-dialog__title task-title download-by avoid prevent-split"},bt={class:"mt-1 py-2"},xt={class:"row mb-1"},yt={class:"col"},wt={key:0,class:"form-floating approved-text-box"},gt={class:"form-control",style:{"white-space":"break-spaces"}},kt=o(()=>e("label",null,"Approved",-1)),Dt={class:"d-flex flex-row justify-content-between"},Pt={class:"d-flex flex-row flex-grow-1 prevent-split"},$t={class:"flex-fill"},Ct={class:"form-floating"},St=["innerHTML"],Ft=o(()=>e("label",{for:"floatingInput"},"Asset Number",-1)),It={class:"flex-fill ps-3"},At={class:"form-floating"},Lt=["innerHTML"],Tt=o(()=>e("label",{for:"floatingInput"},"Serial Number",-1)),Rt={class:"flex-fill ps-3"},Et={class:"form-floating"},Mt=["innerHTML"],Vt=o(()=>e("label",{for:"floatingInput"},"Ownership",-1)),Ht=o(()=>e("div",{class:"mt-2"},null,-1)),Nt={class:"report task-group general-accordion py-1 px-5"},Ot=o(()=>e("div",{class:"avoid prevent-split"},[e("h4",{class:"title ps-3"},"Photo of the crack identified (optional)")],-1)),jt={class:"report_section_body"},Bt={class:"p-2 d-flex"},qt={class:"d-flex flex-column"},Ut=["src","alt"],zt={class:"image-carousel-description"},Wt=o(()=>e("div",{class:"description-title"},"Description",-1)),Gt={class:"description-text"},Qt={style:{"font-family":"'Public sans' !important","font-size":"14px","word-break":"break-word","white-space":"break-spaces"}},Kt=o(()=>e("div",{class:"mt-2"},null,-1)),Jt={key:0,class:"report task-group general-accordion py-1 px-5"},Xt={class:"report_section_header avoid prevent-split"},Yt={class:"title ps-3"},Zt={class:"report_section_body d-flex flex-row justify-content-center align-items-center avoid prevent-split"},es=["src"],ts={class:"mt-1 mb-2 avoid prevent-split"},ss={class:"desc-wrapper"},os=o(()=>e("p",{class:"desc-wrapper-title"},"Defect Identified Description",-1)),is={class:"desc-wrapper-content"},ls={class:"desc-wrapper-content-pre"},as={class:"mt-1 mb-2"},ns={class:"pe-0"},cs={class:"form-floating",avoid:""},rs=["value"],ds=o(()=>e("label",null,"Raised By",-1)),ps={class:"mt-1 mb-2"},_s={class:"row m-0"},us={class:"col-4 p-0 date"},vs={class:"form-floating avoid prevent-split"},hs=["value"],ms=o(()=>e("label",null,"Date Raised",-1)),fs={class:"col pe-0 d-flex"},bs={class:"d-flex flex-column flex-fill"},xs={class:"form-floating avoid prevent-split"},ys=["value"],ws=o(()=>e("label",{class:"text-nowrap"},"How long will this crack repair take?",-1)),gs={class:"ms-2 d-flex align-items-center"},ks={class:"mt-1 mb-2 avoid prevent-split"},Ds={class:"desc-wrapper"},Ps=o(()=>e("p",{class:"desc-wrapper-title"},"Defect Repair instruction",-1)),$s={class:"desc-wrapper-content"},Cs={class:"desc-wrapper-content-pre"},Ss=o(()=>e("div",{class:"mt-2"},null,-1)),Fs={class:"mt-1 mb-3 px-3 previous-crack-container word-breaker"},Is=o(()=>e("div",{class:"table-header-background-color p-1 text-center"}," Crack Length ",-1)),As=o(()=>e("div",{class:"row table-header-background-color p-1"},[e("div",{class:"col"},"Location"),e("div",{class:"col-3"},"Previous"),e("div",{class:"col-3"},"Current"),e("div",{class:"col-1"})],-1)),Ls={class:"col"},Ts={class:"col-3"},Rs={class:"col-3"},Es=["value"],Ms=o(()=>e("div",{class:"col-1"}," mm",-1)),Vs=o(()=>e("div",{class:"mt-2"},null,-1)),Hs={class:"report task-group general-accordion py-1 px-5"},Ns=o(()=>e("div",{class:"report_section_header avoid prevent-split"},[e("h4",{class:"title ps-3"},"Priority")],-1)),Os={class:"report_section_body"},js=o(()=>e("div",{class:"row p-3 m-1 priority-container avoid prevent-split",style:{background:"#F4F6F8","border-radius":"8px"}},[e("div",{class:"col-3"},"Priority"),e("div",{class:"col-6"},"Action"),e("div",{class:"col-3 text-break"},"Person Responsible")],-1)),Bs={key:0,class:"row p-3 m-1 priority-container avoid prevent-split"},qs={class:"col-3 p-0"},Us={class:"form-check"},zs=o(()=>e("label",{class:"form-check-label"}," (P1) Immediate ",-1)),Ws=o(()=>e("div",{class:"col-6"},"Shall shut machine down and undertake repairs.",-1)),Gs=o(()=>e("div",{class:"col-3 text-break"},"Maintenance Supervisor",-1)),Qs={key:1,class:"row p-3 m-1 priority-container avoid prevent-split"},Ks={class:"col-3 p-0"},Js={class:"form-check"},Xs=o(()=>e("label",{class:"form-check-label"}," (P2) Urgent ",-1)),Ys=o(()=>e("div",{class:"col-6"},"Shall complete within 7 days.",-1)),Zs=o(()=>e("div",{class:"col-3 text-break"},"Maintenance Supervisor",-1)),eo={key:2,class:"row p-3 m-1 priority-container avoid prevent-split"},to={class:"col-3 p-0"},so={class:"form-check"},oo=o(()=>e("label",{class:"form-check-label"}," (P3) Routine ",-1)),io=o(()=>e("div",{class:"col-6"},"Shall complete within 60 days.",-1)),lo=o(()=>e("div",{class:"col-3 text-break"},"Maintenance Planner",-1)),ao={key:3,class:"row p-3 m-1 priority-container avoid prevent-split"},no={class:"col-3 p-0"},co={class:"form-check"},ro=o(()=>e("label",{class:"form-check-label"}," (P4) Monitor ",-1)),po=o(()=>e("div",{class:"col-6"},"Shall continue to inspect and monitor for 90 days.",-1)),_o=o(()=>e("div",{class:"col-3 text-break"},"Maintenance Planner",-1)),uo=o(()=>e("div",{class:"mt-2"},null,-1)),vo={class:"report task-group general-accordion py-1 px-5"},ho=o(()=>e("div",{class:"report_section_header avoid prevent-split"},[e("h4",{class:"title ps-3"},"Parts Required")],-1)),mo={class:"report_section_body"},fo=o(()=>e("div",{class:"row p-3 m-1 priority-container avoid prevent-split",style:{background:"#F4F6F8","border-radius":"8px"}},[e("div",{class:"col-3"},"Part Number"),e("div",{class:"col-5"},"Part Description"),e("div",{class:"col-1"},"Qty"),e("div",{class:"col"}),e("div",{class:"col"})],-1)),bo={class:"col-3 px-0"},xo={class:"d-flex flex-column"},yo=["value"],wo={class:"col-5"},go={class:"d-flex flex-column"},ko=["value"],Do={class:"col-1 px-1 d-flex justify-content-start"},Po={class:"d-flex flex-column"},$o=["value"],Co={class:"col px-1 d-flex flex-column justify-content-start"},So={class:"row p-0 m-0 h-100 w-100 align-items-center"},Fo={class:"col px-1 d-flex flex-column justify-content-start position-relative"},Io={class:"row p-0 m-0 h-100 w-100 align-items-center"},Ao=o(()=>e("div",{class:"mt-2"},null,-1)),Lo={class:"report task-group general-accordion py-1 px-5"},To=o(()=>e("div",{class:"report_section_header avoid prevent-split"},[e("h4",{class:"title ps-3"},"Labour Required")],-1)),Ro={class:"report_section_body"},Eo=o(()=>e("div",{class:"row p-3 m-1 priority-container avoid prevent-split",style:{background:"#F4F6F8","border-radius":"8px"}},[e("div",{class:"col-6"},"Labour Activity"),e("div",{class:"col-2"},"Qty"),e("div",{class:"col-2 word-breaker"},"Hours Each"),e("div",{class:"col-2 word-breaker"},"Total Hours")],-1)),Mo={class:"col-6 px-0"},Vo={class:"d-flex flex-column"},Ho=["value"],No={class:"col-2 d-flex justify-content-start"},Oo={class:"d-flex flex-column"},jo=["value"],Bo={class:"col-2 d-flex justify-content-start"},qo={class:"d-flex flex-column"},Uo=["value"],zo={class:"col-2 d-flex justify-content-start"},Wo={class:"d-flex flex-column"},Go=["value"],Qo=o(()=>e("div",{class:"mt-2"},null,-1)),Ko={class:"report task-group general-accordion py-1 px-5"},Jo=o(()=>e("div",{class:"report_section_header avoid prevent-split"},[e("h4",{class:"title ps-3"},"Other Resources Required (optional)")],-1)),Xo={class:"report_section_body"},Yo={class:"d-flex flex-fill flex-column"},Zo=["value"],ei=o(()=>e("div",{class:"mt-2"},null,-1)),ti={class:"report task-group general-accordion py-1 px-5"},si=o(()=>e("div",{class:"report_section_header avoid prevent-split"},[e("h4",{class:"title ps-3"},"Crack Symptom")],-1)),oi={class:"report_section_body"},ii={class:"d-flex flex-fill flex-column"},li=["value"],ai={key:0,class:"mt-2 avoid prevent-split"},ni={class:"desc-wrapper"},ci=o(()=>e("p",{class:"desc-wrapper-title"},"Description",-1)),ri={class:"desc-wrapper-content"},di={class:"desc-wrapper-content-pre"},pi=o(()=>e("div",{class:"mt-2"},null,-1)),_i={class:"report task-group general-accordion py-1 px-5"},ui=o(()=>e("div",{class:"report_section_header avoid prevent-split"},[e("h4",{class:"title ps-3"},"Crack Cause")],-1)),vi={class:"report_section_body"},hi={class:"d-flex flex-fill flex-column"},mi=["value"],fi={key:0,class:"mt-2 avoid prevent-split"},bi={class:"desc-wrapper"},xi=o(()=>e("p",{class:"desc-wrapper-title"},"Description",-1)),yi={class:"desc-wrapper-content"},wi={class:"desc-wrapper-content-pre"},gi={key:0},ki={class:"p-2 d-flex"},Di={class:"d-flex flex-column"},Pi=["src","alt"],$i={class:"image-carousel-description"},Ci=o(()=>e("div",{class:"description-title"},"Description",-1)),Si={class:"description-text"},Fi={style:{"font-family":"'Public sans', sans-serif !important","font-size":"14px","word-break":"break-word","white-space":"break-spaces"}},Ii=K({__name:"CrackForm",emits:["onDownloadFinish"],setup(n,{expose:F,emit:R}){const y=R,v=He(),$=L(),d=L(),w=L(),h=L(-1),p=Ae(),f=Le(),s=S(()=>"previousCracks"in p.DefectDetailDownload?p.DefectDetailDownload:{}),I=S(()=>p.SerialNumber),A=S(()=>p.OwnerShip),O=S(()=>p.TimeStamp),U=S(()=>p.FileName),C=S(()=>p.IsAttachmentIncludeDownload),z=S(()=>p.ApprovalDefectDownload),j=S(()=>{const r=B.cloneDeep(p.ReferencePhoto);return B.isEmpty(r)||(r.dimension=X(r)),r}),he=r=>V(Se(r));function X(r){return r.dimension.width>850?Ee(r.dimension.width,r.dimension.height,850):r.dimension}const W=L([]),Y=L([]),me=()=>{w.value=Ie.service({lock:!0,text:"Generating PDF",background:"rgba(0, 0, 0, 0.7)"}),W.value=[],Y.value=[];let r=[];s.value.images&&s.value.images.length>0&&pe(s.value.images).forEach(m=>{r.push(new Promise(_=>{p.loadImage(m.filename).then(t=>{_(t)}).catch(()=>{_({})})}))}),C.value&&s.value.parts&&s.value.parts.length>0&&s.value.parts.forEach(u=>{B.isArray(u.images)&&u.images.length>0&&pe(u.images).forEach(_=>{r.push(new Promise(t=>{p.loadImage(_.filename).then(a=>{t(a)})}))})}),Promise.allSettled(r).then(async u=>{const m=u.map(_=>{if(_.status==="fulfilled"&&_.value!=null)return _.value}).filter(_=>_!==void 0);if(u.length>0&&m.length>0){const _=s.value.images.map(a=>({id:a.filename,desc:a.description}));W.value=ce(m,_),W.value.forEach(a=>{a.dimension=X(a)});const t=[];C.value&&(s.value.parts.forEach(a=>{const E=[];a.images.forEach(M=>{E.push({id:M.filename,desc:M.description})}),t.push(E)}),Y.value=t.map(a=>{const E=ce(m,a);return E.forEach(M=>{M.dimension=X(M)}),E}))}setTimeout(async()=>{await be()},1e3)})},fe=De({render:function(){return $e("div",{style:{position:"absolute",bottom:"10px",right:"15px"}})}}),be=async()=>{const r={forcePageBreak:".page-break",paperSize:"A4",scale:.6,fileName:U.value,pageTemplate:fe,keepTogether:".prevent-split",margin:{top:"1cm",right:"1cm",bottom:"1cm",left:"1cm"}},u={...r,margin:"1cm"};re($.value,r).then(m=>{var _;try{return de(m,u)}catch{return p.resetAfterDownload(),(_=w.value)==null||_.close(),null}}).then(async m=>{if(m){const _=await ne(m,"temp.pdf"),t=new Ve;if(await t.add(_),C.value&&s.value.parts.length>0)for(let a=0;a<s.value.parts.length;a++){h.value=a,await Pe();const E=await re(d.value,r),M=await de(E,u),ye=ne(M,"temp.pdf");await t.add(ye);const G=s.value.parts[a].attachment;if(G&&G.length>0)for(let Z=0;Z<G.length;Z++){const we=await f.downloadAttachmentPDF(G[Z].url),ge=new Blob([we],{type:"application/pdf"}),ke=new File([ge],"temp.pdf");await t.add(ke)}}await t.save(U.value),y("onDownloadFinish")}}).catch(m=>{console.log(m)}).finally(()=>{var m;p.resetAfterDownload(),(m=w.value)==null||m.close()})};F({handleDataFetch:me});const xe=S(()=>Me(A.value));return(r,u)=>{const m=T("Label"),_=T("pdfexport");return b(B.isEmpty)(s.value)?x("",!0):(i(),l("div",_t,[P(_,{ref_key:"contentToExport",ref:$},{default:k(()=>[e("div",{id:b(v),class:"defect-review-eform"},[e("div",vt,[ht,e("div",{class:"el-dialog__title task-title avoid prevent-split",innerHTML:b(Fe)(s.value.title)},null,8,mt),e("div",ft,"Downloaded by "+c(O.value),1)]),e("div",bt,[e("div",xt,[e("div",yt,[z.value.approvedBy&&z.value.approvedDate?(i(),l("div",wt,[e("div",gt,c(z.value.approvedDate)+" — "+c(z.value.approvedBy.name),1),kt])):x("",!0)])])]),e("div",Dt,[e("div",Pt,[e("div",$t,[e("div",Ct,[e("div",{type:"text",class:"form-control asset-number-disabled-div",innerHTML:s.value.assetNumber},null,8,St),Ft])]),e("div",It,[e("div",At,[e("div",{type:"text",class:"form-control asset-number-disabled-div",innerHTML:I.value},null,8,Lt),Tt])]),e("div",Rt,[e("div",Et,[e("div",{type:"text",class:"form-control asset-number-disabled-div",innerHTML:xe.value},null,8,Mt),Vt])])])]),Ht,e("div",Nt,[Ot,e("div",jt,[(i(!0),l(g,null,D(W.value,t=>(i(),l("div",{key:t.id,class:"my-1 d-flex justify-content-between avoid w-100"},[e("div",Bt,[e("div",qt,[e("img",{src:t.buffer,class:"report_section_body--image",style:te(t.dimension?`height: ${t.dimension.height}px; width: ${t.dimension.width}px;`:""),alt:t.id},null,12,Ut),e("div",zt,[Wt,e("div",Gt,[e("pre",Qt,c(decodeURIComponent(t.desc)),1)])])])])]))),128))])]),Kt,b(B.isEmpty)(j.value)?x("",!0):(i(),l("div",Jt,[e("div",Xt,[e("h4",Yt,c(j.value.title),1)]),e("div",Zt,[e("img",{class:"report_section_body--image",src:j.value.blob,alt:"image",style:te(`height: ${j.value.dimension.height}px; width: ${j.value.dimension.width}px;`)},null,12,es)])])),e("div",ts,[e("div",ss,[os,e("div",is,[e("pre",ls,c(s.value.description),1)])])]),e("div",as,[e("div",ns,[e("div",cs,[e("input",{type:"text",class:"form-control",disabled:"",value:s.value.raisedBy},null,8,rs),ds])])]),e("div",ps,[e("div",_s,[e("div",us,[e("div",vs,[e("input",{type:"text",class:"form-control",disabled:"",value:s.value.date},null,8,hs),ms])]),e("div",fs,[e("div",bs,[e("div",xs,[e("input",{type:"text",class:"form-control",value:b(V)(s.value.plannedDuration),disabled:""},null,8,ys),ws])]),e("div",gs,[P(m,null,{default:k(()=>[q("Hours")]),_:1})])])])]),e("div",ks,[e("div",Ds,[Ps,e("div",$s,[e("pre",Cs,c(s.value.instruction),1)])])]),Ss,e("div",Fs,[Is,As,(i(!0),l(g,null,D(s.value.previousCracks,(t,a)=>(i(),l("div",{key:a,class:"row my-1 d-flex align-items-center"},[e("div",Ls,c(t.locationId)+" "+c(t.locationId?".":"")+" Crack Length - "+c(t.locationDesc),1),e("div",Ts,c(he(t.previousCrack))+" "+c(t.previousCrack!="-"?"mm":"-"),1),e("div",Rs,[e("input",{type:"text",class:"form-control",value:t.currentCrack,disabled:""},null,8,Es)]),Ms]))),128))]),Vs,e("div",Hs,[Ns,e("div",Os,[js,s.value.priority=="P1"?(i(),l("div",Bs,[e("div",qs,[e("div",Us,[H(e("input",{class:"form-check-input",type:"radio","onUpdate:modelValue":u[0]||(u[0]=t=>s.value.priority=t),value:"P1",disabled:""},null,512),[[N,s.value.priority]]),zs])]),Ws,Gs])):s.value.priority=="P2"?(i(),l("div",Qs,[e("div",Ks,[e("div",Js,[H(e("input",{class:"form-check-input",type:"radio","onUpdate:modelValue":u[1]||(u[1]=t=>s.value.priority=t),value:"P2",disabled:""},null,512),[[N,s.value.priority]]),Xs])]),Ys,Zs])):s.value.priority=="P3"?(i(),l("div",eo,[e("div",to,[e("div",so,[H(e("input",{class:"form-check-input",type:"radio","onUpdate:modelValue":u[2]||(u[2]=t=>s.value.priority=t),value:"P3",disabled:""},null,512),[[N,s.value.priority]]),oo])]),io,lo])):s.value.priority=="P4"?(i(),l("div",ao,[e("div",no,[e("div",co,[H(e("input",{class:"form-check-input",type:"radio","onUpdate:modelValue":u[3]||(u[3]=t=>s.value.priority=t),value:"P4",disabled:""},null,512),[[N,s.value.priority]]),ro])]),po,_o])):x("",!0)])]),uo,e("div",vo,[ho,e("div",mo,[fo,(i(!0),l(g,null,D(s.value.parts,(t,a)=>(i(),l("div",{class:"row p-3 m-1 priority-container px-0 avoid prevent-split",key:a},[e("div",bo,[e("div",xo,[e("input",{type:"text",class:"form-control",value:t.partNumber,disabled:""},null,8,yo)])]),e("div",wo,[e("div",go,[e("input",{type:"text",class:"form-control",value:t.partDescription,disabled:""},null,8,ko)])]),e("div",Do,[e("div",Po,[e("input",{class:"form-control",value:b(V)(t.qty),disabled:""},null,8,$o)]),e("div",{class:Ce(["ms-4 d-flex align-items-center",a===0?"hidden":""])},null,2)]),e("div",Co,[e("div",So,[P(Te,{index:a,"item-value":t.images||[],"is-disabled":!0},null,8,["index","item-value"])])]),e("div",Fo,[e("div",Io,[P(Re,{index:a,"item-value":t.attachment||[],"is-disabled":!0},null,8,["index","item-value"])])])]))),128))])]),Ao,e("div",Lo,[To,e("div",Ro,[Eo,(i(!0),l(g,null,D(s.value.labours,t=>(i(),l("div",{class:"row p-3 m-1 priority-container ps-0 avoid prevent-split",key:t.position},[e("div",Mo,[e("div",Vo,[e("input",{type:"text",class:"form-control",value:t.position,disabled:""},null,8,Ho)])]),e("div",No,[e("div",Oo,[e("input",{class:"form-control",value:b(V)(t.qty),disabled:""},null,8,jo)])]),e("div",Bo,[e("div",qo,[e("input",{class:"form-control",value:b(V)(t.hireEach),disabled:""},null,8,Uo)])]),e("div",zo,[e("div",Wo,[e("input",{class:"form-control",value:b(V)(t.totalHours),disabled:""},null,8,Go)])])]))),128))])]),Qo,e("div",Ko,[Jo,e("div",Xo,[(i(!0),l(g,null,D(s.value.resources,(t,a)=>(i(),l("div",{class:"p-2 d-flex",key:a},[e("div",Yo,[e("input",{type:"text",class:"form-control avoid prevent-split",value:t,disabled:""},null,8,Zo)])]))),128))])]),ei,e("div",ti,[si,e("div",oi,[(i(!0),l(g,null,D(s.value.symptoms,t=>(i(),l("div",{class:"p-2 d-flex",key:t},[e("div",ii,[e("input",{type:"text",class:"form-control avoid prevent-split",value:t.split(":")[0],disabled:""},null,8,li),t.split(":")[0]==="Other"?(i(),l("div",ai,[e("div",ni,[ci,e("div",ri,[e("pre",di,c(b(_e)(t)),1)])])])):x("",!0)])]))),128))])]),pi,e("div",_i,[ui,e("div",vi,[(i(!0),l(g,null,D(s.value.causes,(t,a)=>(i(),l("div",{class:"p-2 d-flex",key:a},[e("div",hi,[e("input",{type:"text",class:"form-control avoid prevent-split",value:t.split(":")[0],disabled:""},null,8,mi),t.split(":")[0]==="Other"?(i(),l("div",fi,[e("div",bi,[xi,e("div",yi,[e("pre",wi,c(b(_e)(t)),1)])])])):x("",!0)])]))),128))])])],8,ut)]),_:1},512),P(_,{ref_key:"contentToExportPart",ref:d},{default:k(()=>[h.value==0?(i(),l("div",gi,"Attachment Photo and File - Parts Required")):x("",!0),h.value>=0&&s.value.parts[h.value]?(i(),l(g,{key:1},[e("div",null,c(h.value+1)+". "+c(s.value.parts[h.value].partNumber)+" "+c(s.value.parts[h.value].partDescription),1),(i(!0),l(g,null,D(Y.value[h.value],t=>(i(),l("div",{key:t.id,class:"my-1 d-flex justify-content-between avoid w-100"},[e("div",ki,[e("div",Di,[e("img",{src:t.buffer,class:"report_section_body--image",style:te(t.dimension?`height: ${t.dimension.height}px; width: ${t.dimension.width}px;`:""),alt:t.id},null,12,Pi),e("div",$i,[Ci,e("div",Si,[e("pre",Fi,c(decodeURIComponent(t.desc)),1)])])])])]))),128))],64)):x("",!0)]),_:1},512)]))}}}),Xi=J(Ii,[["__scopeId","data-v-7f2c1d53"]]);export{Ji as C,Qi as D,Xi as I,et as P,Ki as _,Gi as a};
