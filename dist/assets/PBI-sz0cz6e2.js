import{x as g,A as E}from"./index-BuVmIl8K.js";import{u as b}from"./vuex-BbOKrtVp.js";import{a as l}from"./breadcrumb-BYmEOf4C.js";import{g as _}from"./generate-id-loKj70ts.js";import{u as S,a as f,M as T,b as P}from"./usePbiEmbeddedStore-Bda_75jS.js";import{M as r,A as c}from"./PageEnum-DUtfSNQS.js";import{_ as h}from"./PbiReport.vue_vue_type_script_setup_true_lang-Bh7_B1Ow.js";import{u as M}from"./useMenuStore-CD5Gmvif.js";import{d as R}from"./pinia-BjOS2_Ao.js";import{k as A,c as i,a7 as C,o as I,L as N,p as $,q as O,R as U}from"./@vue-BypzYtbH.js";import{_ as v}from"./nw-img-vue-CR837WER.js";g.global;const G=R("page",{state:()=>({pages:{},currentModule:"",props:{},tempPage:"",tempProps:null}),getters:{getPages:e=>e.pages[e.currentModule],getProps:e=>e.props[e.currentModule]},actions:{[r.SET_PAGE](e){this.pages[this.currentModule]=e},[r.SET_PROPS](e){this.props[this.currentModule]=e},[r.SET_TEMP_PAGE](e){this.tempPage=e},[r.SET_TEMP_PROPS](e){this.tempProps=e},[r.SET_CURRENT_MODULE](e){this.currentModule=e.module,this.tempPage||this.tempProps?(this.pages[e.module]=this.tempPage,this.props[e.module]=this.tempProps,this.tempPage="",this.tempProps=null):this.pages[e.module]=e.initialPage},async[c.UPDATE_PAGE](e){this[r.SET_PAGE](e.page),this[r.SET_PROPS](e.props)},async[c.UPDATE_MODULE](e){this[r.SET_TEMP_PAGE](e.page),this[r.SET_TEMP_PROPS](e.props)}}}),k=A({name:"pbi-embedded",props:["breadCrumb","reportName","analyticPage","eventName","isPublic","isTransparent"],components:{PbiReport:h},setup(e){b();const t=M(),n=S(),a=f(),p=G(),m="df0843fb-f2e2-45d4-829a-0f038bcd047a",s="0b610d9f-ad46-4b1c-8a16-24c3a2d156f0",d=i(()=>t.getPage),u=i(()=>_(5)),o=i(()=>`${e.analyticPage}-${u.value}`);return C(()=>{n[T.SET_PBI_URL]("https://digital-bumaau-dev-apm-001.azure-api.net/amadm")}),I(async()=>{a[P.SET_ERROR_PAGES](o.value),t[E.ACTIVE_PAGE](e.breadCrumb.activePage),l(e.breadCrumb.currentPageBreadCrumb,e.breadCrumb.breadCrumbList),p[r.SET_CURRENT_MODULE]({module:o.value,initialPage:"pbi-list-module"})}),N(async()=>{a[P.SET_ERROR_PAGES](o.value)}),{currentPage:d,idPageName:u,reportId:m,workspaceId:s}}});function B(e,t,n,a,p,m){const s=U("PbiReport");return $(),O(s,{reportName:e.reportName,analyticPage:e.analyticPage,idPageName:e.idPageName,isPublic:e.isPublic,pbiReportId:e.reportId,pbiWorkspaceId:e.workspaceId,isTransparent:e.isTransparent},null,8,["reportName","analyticPage","idPageName","isPublic","pbiReportId","pbiWorkspaceId","isTransparent"])}const J=v(k,[["render",B]]);export{J as P};
