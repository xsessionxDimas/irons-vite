import{u as $e}from"./usePreviewFormStore-q8XX1uYG.js";import{a as Ce}from"./element-plus-BeWdvTRa.js";import{e as t}from"./lodash-DrHMlsdo.js";import{u as Et}from"./useDefectsStore-7BpSnT1n.js";import{u as Me}from"./useDefectsStore-j2gYF-8i.js";import{I as dt}from"./IronformConfig-BWypCgSI.js";import{k as le,c,r as G,p as r,aa as k,F as se,$ as me,aB as o,b4 as Q,C as q,A as C,a0 as ie,bL as re,a7 as Oe,Y as ut,y as Pe,b6 as Y,u as A,R as oe,q as z,_ as qe,x as ee,s as F,bd as Ie,bb as xe,o as Se,d as _e,B as ke,K as ct,a1 as He,z as Ot,P as Nt,L as mt,by as jt,v as Vt}from"./@vue-BypzYtbH.js";import{_ as pe}from"./nw-img-vue-CR837WER.js";import{u as Lt,D as Gt,C as Ft}from"./CrackForm-CAm6DVbX.js";import{c as Ne,a as Be}from"./index-BuVmIl8K.js";import{a as We,d as ft}from"./manipulate-html-string-DqTEGh-F.js";import{C as be,d as Mt,B as vt,S as Ee}from"./prev-val-handler-DvA3D_kF.js";import{_ as ze,a as pt}from"./defect-CAkPobhd.js";import{u as qt,_ as Ht,a as Wt,V as zt}from"./ViewOnlyNAReasonDialog-DR-Uz59p.js";import{_ as Jt}from"./Confirmation.vue_vue_type_style_index_0_lang-HchphDdZ.js";import{u as Je}from"./usePreviewNaFormStore-C1MJT2RQ.js";import{u as yt}from"./useMasterStore-CzSO06fn.js";import{_ as Ae}from"./Textarea.vue_vue_type_style_index_0_lang-v94SEJmi.js";import{p as bt,l as Kt,I as Yt,a as Xt,b as Qt}from"./helpers-wUOLw-dU.js";import{c as Ke,q as it,a as Zt}from"./useEFormStore-DtkLPope.js";import{u as kt}from"./useOfflineCameraStore-BBsMm6DV.js";import{u as Te,b as ht,a as Ye}from"./useDefectsFormStore-41UTMhiG.js";import{_ as es}from"./ImagePreview.vue_vue_type_style_index_0_lang-DrcOCjy4.js";import{u as Xe}from"./useCameraStore-BwXVJhPe.js";import{s as ge}from"./string-to-imageinfo-converter-Cdr1iOkP.js";import{I as ts}from"./ImagePreviewCabSide-CpYtX9kF.js";import{_ as ss}from"./Repair-zyV2di4A.js";import{_ as gt,a as _t,S as wt}from"./ImageListModal.vue_vue_type_style_index_0_lang-djt6-PkA.js";import{u as as}from"./@vueuse-DFoNmIyu.js";import{_ as os}from"./ErrorBox.vue_vue_type_style_index_0_lang-Bysg_zE3.js";import"./internet-connection-CnLQPjRt.js";import{B as ls}from"./BackNavigator-DUE8rWVW.js";import{_ as Ve,a as ns,R as rs}from"./RiskAssessment-Cp7incD6.js";import{r as Le,f as Ge}from"./number-format-BdMuQVyW.js";import{S as is}from"./SelectSearchWithLabel-CWBDKtLo.js";import{S as ds}from"./SMUDetailDialog-Bs-98WGo.js";import{M as Fe}from"./MachineSMUEnum-CgiCo9nf.js";import{C as us}from"./CameraIdEnum-C2Xl0HNE.js";import{u as Rt}from"./usePreviewDefectFormStore-CVtftEdK.js";import{r as cs,t as ms,u as fs,i as vs}from"./date-format-8-IvfSl3.js";import{_ as ps}from"./Toast.vue_vue_type_style_index_0_lang-OOgaHWFE.js";import{_ as ys}from"./InformationPopUp.vue_vue_type_style_index_0_lang-O2xYF9Pq.js";import{u as bs}from"./useGlobalConnectionStore-DV9B81de.js";import{f as ks}from"./DefectPanelGeneric-BYVMPBe-.js";import{u as hs}from"./vue-router-iNp9kJ0K.js";import{_ as gs}from"./Index.vue_vue_type_script_setup_true_lang-BKnCIuZK.js";import{u as _s}from"./useDefectSheetStore-85RM-z1z.js";function ws(l){var e,d;const s=[];if(l.groupId===((e=l.selectedGroup)==null?void 0:e.id)&&s.push("active"),l.group&&l.group.isDisable&&l.group.isDisable==="true"&&s.push("disabled"),l.isUpdated&&!l.skipPreService&&l.enableSkipPreservice){const a=l.preServiceGroup&&l.preServiceGroup.doneTask!==l.preServiceGroup.totalTask,u=l.group.groupName!==((d=l.preServiceGroup)==null?void 0:d.groupName)&&l.group.groupName!=="DEFECT_IDENTIFIED_SERVICE"&&l.group.groupName!=="General";a&&u&&s.push("disabled")}return s.join(" ")}const $t="/media/logos/bumaau/detail.png",Rs={class:"d-flex justify-content-between"},$s=["onClick"],Ss={key:0,class:"mb-0"},Us={key:1,class:"mb-0"},Cs=le({__name:"GroupStepper",props:{groups:{type:Array,default(){return[]}},isMonitoring:{type:Boolean,default:!1},viewEmpty:{type:Boolean,required:!1,default:!1}},setup(l){const s=$e(),e=Et(),d=Me(),a=c(()=>s.selectedGroup),u=G("fa-chevron-up"),p=G(!0),w=G(dt.enableSkipPreservice),S=l,g=c(()=>s.groups.find(T=>T.groupName=="PRE_SERVICE_OPERATIONAL_CHECK")),v=(T,P)=>{const D={groupId:T,group:P,selectedGroup:a.value,isUpdated:!0,skipPreService:!0,enableSkipPreservice:w.value,preServiceGroup:g.value};return ws(D)},i=async(T,P,D)=>{if(!S.isMonitoring&&!t.isUndefined(D.isDisable)&&D.isDisable=="true")return;const O=Ce.service({lock:!0,text:"Loading",background:"rgba(0, 0, 0, 0.7)"});s.setSelectedGroup(T),S.viewEmpty||(await s.getTaskProgress(),P!="DEFECT_IDENTIFIED_SERVICE"?await s.updateGroupByParam(P):await e.getDefectsData(s.generalForm.workOrder),await d.getDefectsData(s.generalForm.workOrder),await d.saveDefectServiceFormToLocalDB(s.generalForm.workOrder)),O.close()},U=()=>{p.value=!p.value,u.value=p.value?"fa-chevron-up":"fa-chevron-down"},R=T=>{var D;let P="";if(T.totalTask>0){const O=T.groupName!="General"&&T.groupName!="DEFECT_IDENTIFIED_SERVICE",J=T.totalTask==T.doneTask,V=T.id==((D=a.value)==null?void 0:D.id);O&&J&&(P="done-task"),O&&J&&V&&(P="done-task-selected")}return P};return(T,P)=>(r(),k("div",Rs,[(r(!0),k(se,null,me(l.groups,(D,O)=>{var J,V;return r(),k("div",{key:D.id,class:Q(["d-flex flex-column m-1 mb-3 stepper-button",R(D)])},[o("div",{class:Q(["box-menu text-center p-2 d-flex justify-content-center align-items-center stepper-title",[D.id==((J=a.value)==null?void 0:J.id)?"active":"",v(D.id,D)]]),onClick:$=>i(D.id,D.groupName,D)},[o("span",null,q(D.groupLabel),1)],10,$s),p.value?(r(),k("div",{key:0,class:Q(["text-center box-pill rounded-pill mt-2 mb-4 stepper-button-info w-100 py-2",[O==0?"invisible":"",D.id==((V=a.value)==null?void 0:V.id)?"active":"",v(D)]])},[D.groupName=="DEFECT_IDENTIFIED_SERVICE"?(r(),k("p",Ss,"Found: "+q(D.totalTask)+" item(s)",1)):(r(),k("p",Us,"Done "+q(D.doneTask)+"/"+q(D.totalTask),1))],2)):C("",!0)],2)}),128)),o("div",null,[o("button",{class:"border-0 mt-10 align-items-center",onClick:U,style:{background:"transparent"}},[o("em",{class:Q(["fa",u.value])},null,2)])])]))}}),Is=pe(Cs,[["__scopeId","data-v-3294c0fe"]]),xs=["src"],St=le({__name:"Image",props:{item:{type:Object,required:!0},generalStyle:{type:Boolean,default:!0},task:{type:Object}},setup(l){const s=l,e=G("/media/svg/dma/warning.svg"),d=G(!0),a=ie(s,"item"),u=re(()=>!t.isUndefined(a.value.style)&&a.value.style.breakPoint!="none"?`col-${a.value.style.breakPoint}`:"col"),p=re(()=>{let v="";return s.generalStyle&&!t.isUndefined(a.value.style)&&(!t.isUndefined(a.value.style.potraitBreakPoint)&&a.value.style.breakPoint!="none"?(v=`col-md-${a.value.style.potraitBreakPoint}`,v=`${v} col-lg-${a.value.style.breakPoint}`):(v=`col-md-${a.value.style.potraitBreakPoint}`,v=`${v} col-lg-${a.value.style.breakPoint}`)),v}),w=re(()=>{var _,N,M,W,b,I,j;const v=!t.isUndefined(a.value.style)&&a.value.style.bgColor!="none"?`background-color: ${a.value.style.bgColor}; `:"",i=!t.isUndefined(a.value.style)&&a.value.style.fontColor!="none"?`color: ${a.value.style.fontColor}; `:"",U=!t.isUndefined(a.value.style)&&!t.isUndefined(a.value.style.border)&&a.value.style.border.top!="none"?`border-top: ${a.value.style.border.top}; `:"",R=!t.isUndefined(a.value.style)&&!t.isUndefined(a.value.style.border)&&a.value.style.border.right!="none"?`border-right: ${a.value.style.border.right}; `:"";let T=!t.isUndefined(a.value.style)&&!t.isUndefined(a.value.style.border)&&a.value.style.border.bottom!="none"?`border-bottom: ${a.value.style.border.bottom}; margin-bottom: 1rem;`:"";const P=!t.isUndefined((_=s.task)==null?void 0:_.isShowReplacementRow)&&((N=s.task)==null?void 0:N.isShowReplacementRow),D=!t.isUndefined((M=s.task)==null?void 0:M.isShowAdjustmentRow)&&((W=s.task)==null?void 0:W.isShowAdjustmentRow),O=!t.isUndefined((b=s.task)==null?void 0:b.isShowCleanedRow)&&((I=s.task)==null?void 0:I.isShowCleanedRow);if(P||D||O)T="";else{let L=0;(j=s.task)==null||j.items.forEach(E=>{var K;t.isUndefined(E.style)||(t.isUndefined(E.style.border)?t.isUndefined(E.style.border)&&(L=L+Number(E.style.breakPoint)):((E.style.border.right=="none"||t.isUndefined(E.style.border.right))&&(L=L+Number(E.style.breakPoint)),t.isEqual(E,t.last((K=s.task)==null?void 0:K.items))&&(L=L+Number(E.style.breakPoint))))}),L==12&&(T=!t.isUndefined(a.value.style)&&!t.isUndefined(a.value.style.border)&&a.value.style.border.bottom!="none"?`border-bottom: ${a.value.style.border.bottom}; margin-bottom: 1rem; `:"")}const V=!t.isUndefined(a.value.style)&&!t.isUndefined(a.value.style.border)&&a.value.style.border.left!="none"?`border-left: ${a.value.style.border.left}; `:"",$=!t.isUndefined(a.value.style)&&!t.isUndefined(a.value.style.borderRadius)&&a.value.style.borderRadius.topRight!="none"?`border-top-right-radius: ${a.value.style.borderRadius.topRight}; `:"",x=!t.isUndefined(a.value.style)&&!t.isUndefined(a.value.style.borderRadius)&&a.value.style.borderRadius.bottomRight!="none"?`border-bottom-right-radius: ${a.value.style.borderRadius.bottomRight}; `:"",y=!t.isUndefined(a.value.style)&&!t.isUndefined(a.value.style.borderRadius)&&a.value.style.borderRadius.topLeft!="none"?`border-top-left-radius: ${a.value.style.borderRadius.topLeft}; `:"",n=!t.isUndefined(a.value.style)&&!t.isUndefined(a.value.style.borderRadius)&&a.value.style.borderRadius.bottomLeft!="none"?`border-bottom-left-radius: ${a.value.style.borderRadius.bottomLeft}; `:"";let f="";return T&&(f="padding-bottom: 25px; "),`${f}${v}${i}${U}${R}${T}${V}${$}${x}${y}${n}`}),S=re(()=>!t.isUndefined(a.value.style)&&a.value.style.breakPoint=="1"?"width: 20px; height: 20px":"");Oe(async()=>{const v={id:a.value.value.toString(),ver:"v1"};try{const R=(await Ne.getBlob("https://digital-bumaau-dev-apm-001.azure-api.net/utility/api/master_attachment/download_by_id","",new URLSearchParams(v).toString())).data,T=new Blob([R]),P=window.URL||window.webkitURL;e.value=P.createObjectURL(T),d.value=!1}catch{d.value=!1}});const g=re(()=>{let v="pb-2";return!t.isUndefined(s.task.updatedBy.name)&&s.task.updatedBy.name&&(v=""),v});return(v,i)=>{const U=ut("loading");return Pe((r(),k("div",{class:Q([[A(u),A(p),A(g)],"pt-2 px-2 d-flex d-flex justify-content-center"]),style:Y(A(w))},[o("img",{src:e.value,class:"img-fluid",style:Y(A(S))},null,12,xs)],6)),[[U,d.value]])}}}),Bs=["innerHTML"],Ut=le({__name:"Label",props:{item:{type:Object,required:!0},generalStyle:{type:Boolean,default:!0},task:{type:Object}},setup(l){const s=l,e=ie(s,"item"),d=c(()=>s.generalStyle?!t.isUndefined(e.value.style)&&e.value.style.breakPoint!="none"?`col-${e.value.style.breakPoint}`:"col":""),a=c(()=>{if(!s.item.categoryItemType)return"";const i=s.item.categoryItemType==be.PREVIOUS_VALUE_PISTON_A,U=s.item.categoryItemType==be.PREVIOUS_VALUE_PISTON_B,R=s.item.categoryItemType==be.PREVIOUS_VALUE_PISTON_RESULT,T=s.item.categoryItemType==be.PREVIOUS_VALUE_UOM,P=s.item.categoryItemType==be.PREVIOUS_VALUE_PISTON_PERCENTAGE,D=s.item.categoryItemType==be.PREVIOUS_PARAM_RATING;return i||U||R||T||P||D?"font-size: 10px;":""}),u=c(()=>{if(s.item.categoryItemType=="previousParamRating"&&!s.item.value)return"-";let i=s.item.categoryItemType==be.PREVIOUS_VALUE_PISTON_PERCENTAGE,U=s.item.value&&s.item.value!="-";return i&&U?`${Number(s.item.value)*100}%`:We(s.item.value)}),p=c(()=>{let i="";return s.generalStyle&&!t.isUndefined(e.value.style)&&(!t.isUndefined(e.value.style.potraitBreakPoint)&&e.value.style.breakPoint!="none"?(i=`col-md-${e.value.style.potraitBreakPoint}`,i=`${i} col-lg-${e.value.style.breakPoint}`):(i=`col-md-${e.value.style.potraitBreakPoint}`,i=`${i} col-lg-${e.value.style.breakPoint}`)),i}),w=c(()=>t.isUndefined(e.value.style)?"":e.value.style.textAlign=="left"?"text-start":e.value.style.textAlign=="right"?"text-end":"text-center"),S=c(()=>{var M,W,b,I,j,L,E;const i=!t.isUndefined(e.value.style)&&e.value.style.bgColor!="none"?`background-color: ${e.value.style.bgColor}; `:"",U=!t.isUndefined(e.value.style)&&e.value.style.fontColor!="none"?`color: ${e.value.style.fontColor}; `:"",R=!t.isUndefined(e.value.style)&&!t.isUndefined(e.value.style.border)&&e.value.style.border.top!="none"?`border-top: ${e.value.style.border.top}; `:"",T=!t.isUndefined(e.value.style)&&!t.isUndefined(e.value.style.border)&&e.value.style.border.right!="none"?`border-right: ${e.value.style.border.right}; `:"",P=!t.isUndefined(e.value.style)&&!t.isUndefined(e.value.style.padding)&&e.value.style.padding.right!="none"?`padding-right: ${e.value.style.padding.right} !important; `:"";let D=!t.isUndefined(e.value.style)&&!t.isUndefined(e.value.style.border)&&e.value.style.border.bottom!="none"?`border-bottom: ${e.value.style.border.bottom}; margin-bottom: 1rem;`:"";const O=!t.isUndefined((M=s.task)==null?void 0:M.isShowReplacementRow)&&((W=s.task)==null?void 0:W.isShowReplacementRow),J=!t.isUndefined((b=s.task)==null?void 0:b.isShowAdjustmentRow)&&((I=s.task)==null?void 0:I.isShowAdjustmentRow),V=!t.isUndefined((j=s.task)==null?void 0:j.isShowCleanedRow)&&((L=s.task)==null?void 0:L.isShowCleanedRow);if(O||J||V)D="";else{let K=0;(E=s.task)==null||E.items.forEach(te=>{var ce;t.isUndefined(te.style)||(t.isUndefined(te.style.border)?t.isUndefined(te.style.border)&&(K=K+Number(te.style.breakPoint)):((te.style.border.right=="none"||t.isUndefined(te.style.border.right))&&(K=K+Number(te.style.breakPoint)),t.isEqual(te,t.last((ce=s.task)==null?void 0:ce.items))&&(K=K+Number(te.style.breakPoint))))}),K==12&&(D=!t.isUndefined(e.value.style)&&!t.isUndefined(e.value.style.border)&&e.value.style.border.bottom!="none"?`border-bottom: ${e.value.style.border.bottom}; margin-bottom: 1rem; `:"")}const x=!t.isUndefined(e.value.style)&&!t.isUndefined(e.value.style.border)&&e.value.style.border.left!="none"?`border-left: ${e.value.style.border.left}; `:"",y=!t.isUndefined(e.value.style)&&!t.isUndefined(e.value.style.borderRadius)&&e.value.style.borderRadius.topRight!="none"?`border-top-right-radius: ${e.value.style.borderRadius.topRight}; `:"",n=!t.isUndefined(e.value.style)&&!t.isUndefined(e.value.style.borderRadius)&&e.value.style.borderRadius.bottomRight!="none"?`border-bottom-right-radius: ${e.value.style.borderRadius.bottomRight}; `:"",f=!t.isUndefined(e.value.style)&&!t.isUndefined(e.value.style.borderRadius)&&e.value.style.borderRadius.topLeft!="none"?`border-top-left-radius: ${e.value.style.borderRadius.topLeft}; `:"",_=!t.isUndefined(e.value.style)&&!t.isUndefined(e.value.style.borderRadius)&&e.value.style.borderRadius.bottomLeft!="none"?`border-bottom-left-radius: ${e.value.style.borderRadius.bottomLeft}; `:"";let N="";return D&&(N="padding-bottom: 25px; "),`${N}${i}${U}${R}${T}${D}${x}${y}${n}${f}${_}${P}`}),g=c(()=>`${!t.isUndefined(e.value.style)&&!t.isUndefined(e.value.style.fontWeight)&&e.value.style.fontWeight!="normal"?`font-weight: ${e.value.style.fontWeight}; `:""}`),v=c(()=>{var U;const i=(U=s.task)==null?void 0:U.updatedBy;return i&&i.name?"":"pb-2"});return(i,U)=>(r(),k("div",{class:Q([[d.value,w.value,p.value,v.value],"px-2 pt-2"]),style:Y(S.value)},[!A(t.isUndefined)(l.item.style)&&l.item.style.visibility!="hidden"?(r(),k("label",{key:0,style:Y([g.value,a.value]),innerHTML:u.value},null,12,Bs)):C("",!0)],6))}}),je=l=>(Ie("data-v-b10056fd"),l=l(),xe(),l),Ts={class:"d-flex align-items-center"},Ps=je(()=>o("span",{class:"el-dialog__title"},"Defect Identified",-1)),Ds={class:"ms-2 multiple-defect-badge"},As=je(()=>o("img",{src:$t,alt:"defect",class:"d-icon"},null,-1)),Es=["innerHTML"],Os={key:0,class:"mb-2"},Ns={class:"p-2"},js={class:"d-flex flex-column"},Vs=je(()=>o("h4",{class:"title ps-3"},'Change Reason - "Not Applicable" ',-1)),Ls={key:0,class:"mt-1 p-2"},Gs=["onClick"],Fs=je(()=>o("div",{class:"multi-icon"},[o("img",{src:ze,alt:"defect",class:"d-icon"})],-1)),Ms={class:"multi-description"},qs={style:{"white-space":"pre-wrap"}},Hs=le({__name:"MultipleDefectListDialog",props:{visibility:{required:!0,type:Boolean},defectList:{required:!1,type:Array,default:[]},isDisabled:{required:!0,type:Boolean},reason:{required:!1,type:String,default:""}},emits:["onClose","onOpenDetail","onCancel","onAddDefect"],setup(l,{emit:s}){const e=l,d=s,a=ie(e,"visibility"),u=yt(),p=G(null),w=async()=>{d("onClose")},S=async()=>{d("onCancel")},g=c(()=>e.defectList&&e.defectList.length>=1?e.defectList[0].detail.title:""),v=c(()=>e.reason.split(":")[0]),i=c(()=>e.reason.split(":")[0].includes("Other")),U=c(()=>e.reason.split(":")[1]),R=async D=>{d("onOpenDetail",D)},T=async()=>{d("onAddDefect")},P=()=>{bt(p.value)};return(D,O)=>{const J=oe("el-option"),V=oe("el-select"),$=oe("el-dialog");return r(),z($,{modelValue:a.value,"onUpdate:modelValue":O[1]||(O[1]=x=>a.value=x),width:"90%",center:"","lock-scroll":!1,"before-close":S,onOpened:P,onClosed:w,"custom-class":"el-defect-crack-form-custom multi-defect-list-dialog","destroy-on-close":!0},qe({title:ee(()=>[o("div",Ts,[Ps,o("div",Ds,[As,o("span",null,"+"+q(l.defectList.length),1)])]),o("span",{class:"el-dialog__title task-title",innerHTML:A(ft)(g.value),ref_key:"defectDetailRef",ref:p},null,8,Es)]),default:ee(()=>[o("div",null,[l.reason!=""?(r(),k("div",Os,[o("div",Ns,[o("div",js,[Vs,F(V,{modelValue:v.value,"onUpdate:modelValue":O[0]||(O[0]=x=>v.value=x),disabled:!0,class:"w-100"},{default:ee(()=>[(r(!0),k(se,null,me(A(u).NAConditions,x=>(r(),z(J,{key:x.id,label:x.reviseNaCondition,value:x.naCondition},null,8,["label","value"]))),128))]),_:1},8,["modelValue"])])]),i.value?(r(),k("div",Ls,[F(Ae,{value:U.value,label:"Description <span class='red'>*</span>",name:"Description",placeholder:"Write Reason",disabled:!0},null,8,["value"])])):C("",!0)])):C("",!0),(r(!0),k(se,null,me(l.defectList,x=>(r(),k("div",{class:"multi-defect-list-item py-2 d-flex align-items-center cursor-pointer",key:x.id,onClick:y=>R(x)},[Fs,o("div",Ms,[o("span",qs,q(x.detail.description),1)])],8,Gs))),128))])]),_:2},[l.isDisabled?void 0:{name:"footer",fn:ee(()=>[o("div",{onClick:T,class:"add-button cursor-pointer"},"+ Add Another Defect")]),key:"0"}]),1032,["modelValue"])}}}),Ws=pe(Hs,[["__scopeId","data-v-b10056fd"]]),De=l=>(Ie("data-v-8a58d0be"),l=l(),xe(),l),zs=["innerHTML"],Js=["innerHTML"],Ks=De(()=>o("img",{src:$t,alt:"defect",class:"d-icon"},null,-1)),Ys={style:{"word-break":"normal"}},Xs=De(()=>o("img",{src:pt,alt:"na",class:"d-icon"},null,-1)),Qs=[Xs],Zs=De(()=>o("img",{src:ze,alt:"defect",class:"d-icon"},null,-1)),ea=[Zs],ta=De(()=>o("img",{src:ze,alt:"defect",class:"d-icon"},null,-1)),sa=[ta],aa=De(()=>o("img",{src:pt,alt:"na",class:"d-icon"},null,-1)),oa=[aa],la=De(()=>o("img",{src:Ht,alt:"ok",class:"d-icon"},null,-1)),na=[la],ra=le({__name:"Dropdown",props:{item:{type:Object,required:!0},isDisabled:{type:Boolean,default:!1},task:{type:Object},generalStyle:{type:Boolean,default:!0}},setup(l){const s=l,e=ie(s,"item"),d=ie(s,"task"),a=$e(),u=Me(),p=Ke(),w=Lt(),S=Je(),g=qt(),v=kt(),i=G(!1),U=G(!1),R=c(()=>{let m="";return["brakeTypeDropdown","dropdownTool","dropdownToolDisc"].includes(s.item.categoryItemType)&&(m="breaktype"),m}),T=c(()=>{var h;let m="";return((h=s.task)==null?void 0:h.showParameter)=="suspensionCylinder"&&(m="suspensionCylinder"),m}),P=c(()=>{var h;const m=((h=s.task)==null?void 0:h.key)||"";return m!=""?a.multiDefectList[m]:[]}),D=c(()=>s.generalStyle?!t.isUndefined(e.value.style)&&e.value.style.breakPoint!="none"?`col-${e.value.style.breakPoint}`:"col":""),O=c(()=>{let m="";return s.generalStyle&&!t.isUndefined(e.value.style)&&(!t.isUndefined(e.value.style.potraitBreakPoint)&&e.value.style.breakPoint!="none"?(m=`col-md-${e.value.style.potraitBreakPoint}`,m=`${m} col-lg-${e.value.style.breakPoint}`):(m=`col-md-${e.value.style.potraitBreakPoint}`,m=`${m} col-lg-${e.value.style.breakPoint}`)),m}),J=c(()=>{let m="Choose One";return!t.isUndefined(e.value.style)&&!t.isUndefined(e.value.style.placeholder)&&(m=e.value.style.placeholder),m}),V=c(()=>{var m,h;return window.location.href.includes("render-template")?!1:(!t.isUndefined((m=s.task)==null?void 0:m.showParameter)&&((h=s.task)==null?void 0:h.showParameter)=="suspensionCylinder"&&(n.value=="Yes"||n.value=="2"),!0)}),$=c(()=>{let m="";return s.item.categoryItemType=="dropdownToolGroup"&&(m="dropdown-tool"),m}),x=c(()=>{var B,ae,Z;const m=e.value.value.toString().replaceAll("'","");let h;return m=="1"&&t.isUndefined(s.task.showParameter)?h="green":(m=="2"||m=="3"&&((B=d.value)==null?void 0:B.category)=="CRACK")&&t.isUndefined(s.task.showParameter)||m=="3"&&((ae=d.value)==null?void 0:ae.rating)=="SERVICE_CLEANED_AND_REPLACED"?h="red":m=="3"&&(((Z=d.value)==null?void 0:Z.category)=="NORMAL"||e.value.categoryItemType=="resultStatus")||m=="4"?h="yellow":m=="A"?h="a":m=="B"?h="b":m=="C"?h="c":m=="X"&&(h="x"),h}),y=c(()=>{var m;return n.value?(m=f.value.find(h=>h.value==String(n.value)))==null?void 0:m.label:n.value}),n=c({get:()=>s.item.value.toString().replaceAll("'",""),set:m=>{console.log(m)}}),f=c(()=>{const m=s.item.caption.replace("[","").replace("]","").split("; "),h=s.item.itemValue.replace("[","").replace("]","").split(", ");return m.map((ae,Z)=>({label:ae.replaceAll("'",""),value:h[Z].replaceAll("'","")}))}),_=m=>We(m),N=()=>{U.value=!1},M=c(()=>{var et,tt,st,at,ot,lt,nt;const m=!t.isUndefined(e.value.style)&&e.value.style.bgColor!="none"?`background-color: ${e.value.style.bgColor}; `:"",h=!t.isUndefined(e.value.style)&&e.value.style.fontColor!="none"?`color: ${e.value.style.fontColor}; `:"",B=!t.isUndefined(e.value.style)&&!t.isUndefined(e.value.style.border)&&e.value.style.border.top!="none"?`border-top: ${e.value.style.border.top}; `:"",ae=!t.isUndefined(e.value.style)&&!t.isUndefined(e.value.style.border)&&e.value.style.border.right!="none"?`border-right: ${e.value.style.border.right}; `:"";let Z=!t.isUndefined(e.value.style)&&!t.isUndefined(e.value.style.border)&&e.value.style.border.bottom!="none"?`border-bottom: ${e.value.style.border.bottom}; margin-bottom: 1rem;`:"";const ne=!t.isUndefined((et=s.task)==null?void 0:et.isShowReplacementRow)&&((tt=s.task)==null?void 0:tt.isShowReplacementRow),we=!t.isUndefined((st=s.task)==null?void 0:st.isShowAdjustmentRow)&&((at=s.task)==null?void 0:at.isShowAdjustmentRow),H=!t.isUndefined((ot=s.task)==null?void 0:ot.isShowCleanedRow)&&((lt=s.task)==null?void 0:lt.isShowCleanedRow);if(ne||we||H)Z="";else{let Ue=0;(nt=s.task)==null||nt.items.forEach(Re=>{var rt;t.isUndefined(Re.style)||(t.isUndefined(Re.style.border)?t.isUndefined(Re.style.border)&&(Ue=Ue+Number(Re.style.breakPoint)):((Re.style.border.right=="none"||t.isUndefined(Re.style.border.right))&&(Ue=Ue+Number(Re.style.breakPoint)),t.isEqual(Re,t.last((rt=s.task)==null?void 0:rt.items))&&(Ue=Ue+Number(Re.style.breakPoint))))}),Ue==12&&(Z=!t.isUndefined(e.value.style)&&!t.isUndefined(e.value.style.border)&&e.value.style.border.bottom!="none"?`border-bottom: ${e.value.style.border.bottom}; margin-bottom: 1rem; `:"")}const ve=!t.isUndefined(e.value.style)&&!t.isUndefined(e.value.style.border)&&e.value.style.border.left!="none"?`border-left: ${e.value.style.border.left}; `:"",he=!t.isUndefined(e.value.style)&&!t.isUndefined(e.value.style.borderRadius)&&e.value.style.borderRadius.topRight!="none"?`border-top-right-radius: ${e.value.style.borderRadius.topRight}; `:"",de=!t.isUndefined(e.value.style)&&!t.isUndefined(e.value.style.borderRadius)&&e.value.style.borderRadius.bottomRight!="none"?`border-bottom-right-radius: ${e.value.style.borderRadius.bottomRight}; `:"",ue=!t.isUndefined(e.value.style)&&!t.isUndefined(e.value.style.borderRadius)&&e.value.style.borderRadius.topLeft!="none"?`border-top-left-radius: ${e.value.style.borderRadius.topLeft}; `:"",At=!t.isUndefined(e.value.style)&&!t.isUndefined(e.value.style.borderRadius)&&e.value.style.borderRadius.bottomLeft!="none"?`border-bottom-left-radius: ${e.value.style.borderRadius.bottomLeft}; `:"";let Ze="";return Z&&(Ze="padding-bottom: 25px; "),`${Ze}${m}${h}${B}${ae}${Z}${ve}${he}${de}${ue}${At}`}),W=async()=>{var h;const m=await w.getCrackHeaderIdLocally((h=d.value)==null?void 0:h.key,a.generalForm.workOrder);m&&(v.reset(),await u.setCrackData(m),u.setCompleteStatus(u.getCrackCompleteStatus(m)),u.setViewCrackVisible(!0))},b=async()=>{var m,h,B;await S.getNADetail((m=a.selectedGroup)==null?void 0:m.id,(h=d.value)==null?void 0:h.key),await te({workorder:a.generalForm.workOrder,taskId:(B=d.value)==null?void 0:B.key})},I=()=>{var m,h;g.setReason((m=s.task)==null?void 0:m.reason),g.setTitle((h=s.task)==null?void 0:h.description),g.setVisible(!0)},j=async()=>{i.value=!1},L=()=>{i.value=!1},E=c(()=>{var m,h;return(h=(m=s.task)==null?void 0:m.updatedBy)!=null&&h.name?"":"pb-2"}),K=async()=>{U.value=!0},te=async m=>{const h=await p.getApprovalDefect(m);p.setApprovalData(h||{})},ce=async m=>{m.defectHeaderId&&(v.reset(),await u.setDefectData(m.defectHeaderId),u.setCompleteStatus(u.getCompleteStatus(m.defectHeaderId)),u.setViewDefectVisible(!0))};Se(()=>{fe()});const fe=()=>{if(!e.value.categoryItemType)return;const m=e.value.categoryItemType==be.BRAKE_TYPE_DROPDOWN,h=s.task.categoryTaskType&&s.task.categoryTaskType==Mt.BRAKE_TYPE_DROPDOWN;m&&h&&a.updateSelectedBrakeTypeDropdownValue(e.value.value)};return _e(n,(m,h)=>{m!=h&&fe()},{deep:!0}),(m,h)=>{var Z,ne,we,H,X,ve,he,de;const B=oe("el-option"),ae=oe("el-select");return r(),k(se,null,[o("div",{class:Q([[D.value,O.value,E.value],"px-2 pt-2 d-flex dropdown-eform-status"]),style:Y(M.value)},[F(ae,{modelValue:n.value,"onUpdate:modelValue":h[0]||(h[0]=ue=>n.value=ue),placeholder:J.value,size:"small",class:Q(["w-100",[x.value,$.value,R.value,T.value]]),disabled:V.value},qe({default:ee(()=>[(r(!0),k(se,null,me(f.value,ue=>(r(),z(B,{key:ue,value:ue.value},{default:ee(()=>[o("span",{innerHTML:ue&&ue.label?_(ue&&ue.label):""},null,8,zs)]),_:2},1032,["value"]))),128))]),_:2},[n.value?{name:"prefix",fn:ee(()=>[o("span",{class:"el-input__custom-option",innerHTML:y.value},null,8,Js)]),key:"0"}:void 0]),1032,["modelValue","placeholder","disabled","class"]),e.value.value==="2"&&((Z=l.task)==null?void 0:Z.category)=="NORMAL"&&A(t.isUndefined)(s.task.showParameter)&&s.task.rating!="SERVICE_CLEANED_AND_REPLACED"?(r(),k("div",{key:0,class:"ms-2 multiple-defect-badge",onClick:K},[Ks,o("span",Ys,"+"+q(P.value&&P.value.length||0),1)])):C("",!0),e.value.value==="3"&&(((ne=l.task)==null?void 0:ne.category)=="NORMAL"||((we=l.task)==null?void 0:we.category)=="CBM")&&s.task.rating!="SERVICE_CLEANED_AND_REPLACED"?(r(),k("div",{key:1,class:"ms-2",onClick:b},Qs)):C("",!0),e.value.value==="2"&&((H=l.task)==null?void 0:H.category)=="CRACK"?(r(),k("div",{key:2,class:"ms-2",onClick:W},ea)):C("",!0),e.value.value==="3"&&((X=l.task)==null?void 0:X.category)=="CRACK"?(r(),k("div",{key:3,class:"ms-2",onClick:W},sa)):C("",!0),e.value.value==="4"?(r(),k("div",{key:4,class:"ms-2",onClick:b},oa)):C("",!0),e.value.value==="1"&&((ve=l.task)!=null&&ve.reason)&&((he=l.task)==null?void 0:he.reason)!=""?(r(),k("div",{key:5,class:"ms-2",onClick:I},na)):C("",!0)],6),F(Jt,{visibility:i.value,caption:"Have you done personal Pre-Task Risk Assessment?",onOnNoConfirm:L,onOnYesConfirm:j},null,8,["visibility"]),F(Ws,{visibility:U.value,defectList:P.value,"is-disabled":!0,reason:(de=s.task)==null?void 0:de.reason,onOnClose:N,onOnOpenDetail:ce,onOnCancel:N},null,8,["visibility","defectList","reason"])],64)}}}),Ct=pe(ra,[["__scopeId","data-v-8a58d0be"]]),ia=o("div",{class:"row text-center pt-3 pb-3 text-dark"},[o("h3",null,"Please ensure oil level is checked and it is within the tolerance range.")],-1),da={class:"row text-center pt-5"},ua=le({__name:"OilNotInRange",props:{show:{type:Boolean,required:!0}},emits:["close"],setup(l,{emit:s}){const e=l,d=s,a=re(()=>e.show),u=()=>{d("close")};return(p,w)=>{const S=oe("el-button"),g=oe("el-dialog");return r(),z(g,{modelValue:A(a),"onUpdate:modelValue":w[0]||(w[0]=v=>ct(a)?a.value=v:null),width:"40%","show-close":!1,"custom-class":"oil-not-in-range__header",top:"30vh",center:!0},{default:ee(()=>[ia,o("div",da,[F(S,{type:"success",class:"ok-button",onClick:u},{default:ee(()=>[ke("Ok")]),_:1})])]),_:1},8,["modelValue"])}}}),ca={key:0,class:"text-danger ps-2 font-weight-bold"},It=le({__name:"Input",props:{item:{type:Object,required:!0},isDisabled:{type:Boolean,default:!1},task:{type:Object},generalStyle:{type:Boolean,default:!0}},setup(l){var y;const s=l,e=ie(s,"item");ie(s,"task"),Te();const d=$e();Be();const a=G(!1),u=G(""),p=c(()=>{let n="Please Input";return(e.value.categoryItemType=="targetRating"||e.value.categoryItemType=="resultParamRating")&&(n=""),!t.isUndefined(e.value.style)&&!t.isUndefined(e.value.style.placeholder)&&(n=e.value.style.placeholder),n}),w=c(()=>s.generalStyle?!t.isUndefined(e.value.style)&&e.value.style.breakPoint!="none"?`col-${e.value.style.breakPoint}`:"col":""),S=c(()=>{let n="";return s.generalStyle&&!t.isUndefined(e.value.style)&&(!t.isUndefined(e.value.style.potraitBreakPoint)&&e.value.style.breakPoint!="none"?(n=`col-md-${e.value.style.potraitBreakPoint}`,n=`${n} col-lg-${e.value.style.breakPoint}`):(n=`col-md-${e.value.style.potraitBreakPoint}`,n=`${n} col-lg-${e.value.style.breakPoint}`)),n}),g=c(()=>{let n=!1;return s.item.disabledByItemKey&&d.itemTriggerDisabledValue&&d.itemTriggerDisabledValue[s.item.disabledByItemKey]=="3"&&(n=!0),n}),v=c(()=>g.value),i=c(()=>{let n="";return!t.isUndefined(e.value.style)&&!t.isUndefined(e.value.style.suffix)&&(n=e.value.style.suffix),n}),U=c(()=>s.item.categoryItemType&&(e.value.categoryItemType==be.PREVIOUS_VALUE_PISTON_RATING||e.value.categoryItemType==be.PREVIOUS_TARGET_RATING)?"font-size: 10px !important;":""),R=e.value.valueType=="int";(y=e.value.customValidation)==null||y.toLowerCase().includes("percentage");const T=e.value.categoryItemType=="paramRating",P=!t.isUndefined(e.value.mappingKeyId)&&!t.isArray(e.value.mappingKeyId),D=c({get:()=>e.value.categoryItemType==be.PISTON_INPUT_RATING&&e.value.value!=""?`${Number(e.value.value)*100}%`:e.value.value,set:n=>{const f=n;if(R||T||P){if(isNaN(Number(f)))return;if(f.length>8)return;if((`${f}`.split(".")||[]).length-1>1)return;if(f.includes(".")){if(`${f}`.split(".")[1].length>2)return;e.value.value=f}if(f.length>5){if(f.length>=6&&f.length<=6){if(f[5]!=".")return;e.value.value=f}}else e.value.value}e.value.value=f}});Se(()=>{D.value=e.value.value});const O=c(()=>{const n=e.value.value.toString().replaceAll("'","");let f;const _=e.value.categoryItemType==be.PREVIOUS_VALUE_PISTON_RATING||e.value.categoryItemType==be.PREVIOUS_TARGET_RATING;return(e.value.categoryItemType=="targetRating"||_)&&(n=="A"?f="a":n=="B"?f="b":n=="C"?f="c":n=="X"&&(f="x")),f}),J=c(()=>{var m,h,B,ae,Z,ne,we;const n=!t.isUndefined(e.value.style)&&e.value.style.bgColor!="none"?`background-color: ${e.value.style.bgColor}; `:"",f=!t.isUndefined(e.value.style)&&e.value.style.fontColor!="none"?`color: ${e.value.style.fontColor}; `:"",_=!t.isUndefined(e.value.style)&&!t.isUndefined(e.value.style.border)&&e.value.style.border.top!="none"?`border-top: ${e.value.style.border.top}; `:"",N=!t.isUndefined(e.value.style)&&!t.isUndefined(e.value.style.border)&&e.value.style.border.right!="none"?`border-right: ${e.value.style.border.right}; `:"";let M=!t.isUndefined(e.value.style)&&!t.isUndefined(e.value.style.border)&&e.value.style.border.bottom!="none"?`border-bottom: ${e.value.style.border.bottom}; margin-bottom: 1rem;`:"";const W=!t.isUndefined((m=s.task)==null?void 0:m.isShowReplacementRow)&&((h=s.task)==null?void 0:h.isShowReplacementRow),b=!t.isUndefined((B=s.task)==null?void 0:B.isShowAdjustmentRow)&&((ae=s.task)==null?void 0:ae.isShowAdjustmentRow),I=!t.isUndefined((Z=s.task)==null?void 0:Z.isShowCleanedRow)&&((ne=s.task)==null?void 0:ne.isShowCleanedRow);if(W||b||I)M="";else{let H=0;(we=s.task)==null||we.items.forEach(X=>{var ve;t.isUndefined(X.style)||(t.isUndefined(X.style.border)?t.isUndefined(X.style.border)&&(H=H+Number(X.style.breakPoint)):((X.style.border.right=="none"||t.isUndefined(X.style.border.right))&&(H=H+Number(X.style.breakPoint)),t.isEqual(X,t.last((ve=s.task)==null?void 0:ve.items))&&(H=H+Number(X.style.breakPoint))))}),H==12&&(M=!t.isUndefined(e.value.style)&&!t.isUndefined(e.value.style.border)&&e.value.style.border.bottom!="none"?`border-bottom: ${e.value.style.border.bottom}; margin-bottom: 1rem; `:"")}const L=!t.isUndefined(e.value.style)&&!t.isUndefined(e.value.style.border)&&e.value.style.border.left!="none"?`border-left: ${e.value.style.border.left}; `:"",E=!t.isUndefined(e.value.style)&&!t.isUndefined(e.value.style.borderRadius)&&e.value.style.borderRadius.topRight!="none"?`border-top-right-radius: ${e.value.style.borderRadius.topRight}; `:"",K=!t.isUndefined(e.value.style)&&!t.isUndefined(e.value.style.borderRadius)&&e.value.style.borderRadius.bottomRight!="none"?`border-bottom-right-radius: ${e.value.style.borderRadius.bottomRight}; `:"",te=!t.isUndefined(e.value.style)&&!t.isUndefined(e.value.style.borderRadius)&&e.value.style.borderRadius.topLeft!="none"?`border-top-left-radius: ${e.value.style.borderRadius.topLeft}; `:"",ce=!t.isUndefined(e.value.style)&&!t.isUndefined(e.value.style.borderRadius)&&e.value.style.borderRadius.bottomLeft!="none"?`border-bottom-left-radius: ${e.value.style.borderRadius.bottomLeft}; `:"";let fe="";return M&&(fe="padding-bottom: 25px; "),`${fe}${n}${f}${_}${N}${M}${L}${E}${K}${te}${ce}`}),V=()=>{a.value=!1},$=n=>{if(e.value.valueType=="int"){let f=n.keyCode?n.keyCode:n.which;(f<48||f>57)&&f!=46&&n.preventDefault()}};_e(D,()=>{u.value=""},{deep:!0});const x=c(()=>{let n="pb-2";return!t.isUndefined(s.task.updatedBy.name)&&s.task.updatedBy.name&&(n=""),n});return(n,f)=>{const _=oe("el-input");return r(),k(se,null,[o("div",{class:Q([[w.value,S.value,x.value],"px-2 pt-2 input-eform-status"]),style:Y(J.value)},[F(_,{class:Q([O.value,i.value!=""?"service-sheet-input":""]),modelValue:D.value,"onUpdate:modelValue":f[0]||(f[0]=N=>D.value=N),size:"small","input-style":[U.value],readonly:!0,onKeypress:$,placeholder:p.value,disabled:v.value},qe({_:2},[i.value!=""?{name:"append",fn:ee(()=>[ke(q(i.value),1)]),key:"0"}:void 0]),1032,["class","modelValue","input-style","placeholder","disabled"]),u.value!=""?(r(),k("label",ca,q(u.value),1)):C("",!0)],6),F(ua,{show:a.value,onClose:V},null,8,["show"])],64)}}}),ma=["src"],fa={key:0,class:"col-6 ps-0 pe-1 d-flex justify-content-center"},va={class:"text-white"},xt=le({__name:"SmallCamera",props:{item:{type:Object,required:!0},generalStyle:{type:Boolean,default:!0},task:{type:Object}},setup(l){const s=l,e=ie(s,"item"),d=G(!1),a=ie(s,"task"),u=Te(),p=Xe(),w=Be(),S=()=>{let V;return i.value.length>0?V="/media/svg/dma/camera/e-form/png/cam-read.png":V="/media/svg/dma/camera/e-form/png/cam-active.png",V},g=re(()=>s.generalStyle?!t.isUndefined(e.value.style)&&e.value.style.breakPoint!="none"?`col-${e.value.style.breakPoint}`:"col":""),v=re(()=>{let V="";return s.generalStyle&&!t.isUndefined(e.value.style)&&(V=`col-md-${e.value.style.potraitBreakPoint} col-lg-${e.value.style.breakPoint}`),V}),i=re(()=>e.value.value?ge(e.value.value):[]),U=()=>{p.toggleIsVisible(!0,e.value.key)},R=re(()=>t.cloneDeep(p.ImageObjects.find(V=>V.Id===e.value.key))),T=()=>{d.value=!0},P=()=>{d.value=!1},D=re(()=>{var K,te,ce,fe,m,h,B;const V=!t.isUndefined(e.value.style)&&e.value.style.bgColor!="none"?`background-color: ${e.value.style.bgColor}; `:"",$=!t.isUndefined(e.value.style)&&e.value.style.fontColor!="none"?`color: ${e.value.style.fontColor}; `:"",x=!t.isUndefined(e.value.style)&&!t.isUndefined(e.value.style.border)&&e.value.style.border.top!="none"?`border-top: ${e.value.style.border.top}; `:"",y=!t.isUndefined(e.value.style)&&!t.isUndefined(e.value.style.border)&&e.value.style.border.right!="none"?`border-right: ${e.value.style.border.right}; `:"";let n=!t.isUndefined(e.value.style)&&!t.isUndefined(e.value.style.border)&&e.value.style.border.bottom!="none"?`border-bottom: ${e.value.style.border.bottom}; `:"";const f=!t.isUndefined((K=s.task)==null?void 0:K.isShowReplacementRow)&&((te=s.task)==null?void 0:te.isShowReplacementRow),_=!t.isUndefined((ce=s.task)==null?void 0:ce.isShowAdjustmentRow)&&((fe=s.task)==null?void 0:fe.isShowAdjustmentRow),N=!t.isUndefined((m=s.task)==null?void 0:m.isShowCleanedRow)&&((h=s.task)==null?void 0:h.isShowCleanedRow);if(f||_||N)n="";else{let ae=0;(B=s.task)==null||B.items.forEach(Z=>{var ne;t.isUndefined(Z.style)||(t.isUndefined(Z.style.border)?t.isUndefined(Z.style.border)&&(ae=ae+Number(Z.style.breakPoint)):((Z.style.border.right=="none"||t.isUndefined(Z.style.border.right))&&(ae=ae+Number(Z.style.breakPoint)),t.isEqual(Z,t.last((ne=s.task)==null?void 0:ne.items))&&(ae=ae+Number(Z.style.breakPoint))))}),ae==12&&(n=!t.isUndefined(e.value.style)&&!t.isUndefined(e.value.style.border)&&e.value.style.border.bottom!="none"?`border-bottom: ${e.value.style.border.bottom}; margin-bottom: 1rem; `:"")}const W=!t.isUndefined(e.value.style)&&!t.isUndefined(e.value.style.border)&&e.value.style.border.left!="none"?`border-left: ${e.value.style.border.left}; `:"",b=!t.isUndefined(e.value.style)&&!t.isUndefined(e.value.style.borderRadius)&&e.value.style.borderRadius.topRight!="none"?`border-top-right-radius: ${e.value.style.borderRadius.topRight}; `:"",I=!t.isUndefined(e.value.style)&&!t.isUndefined(e.value.style.borderRadius)&&e.value.style.borderRadius.bottomRight!="none"?`border-bottom-right-radius: ${e.value.style.borderRadius.bottomRight}; `:"",j=!t.isUndefined(e.value.style)&&!t.isUndefined(e.value.style.borderRadius)&&e.value.style.borderRadius.topLeft!="none"?`border-top-left-radius: ${e.value.style.borderRadius.topLeft}; `:"",L=!t.isUndefined(e.value.style)&&!t.isUndefined(e.value.style.borderRadius)&&e.value.style.borderRadius.bottomLeft!="none"?`border-bottom-left-radius: ${e.value.style.borderRadius.bottomLeft}; `:"";let E="";return n&&(E="padding-bottom: 25px; "),`${E}${V}${$}${x}${y}${n}${W}${b}${I}${j}${L}`}),O=async()=>{if(e.value.value==""&&(e.value.value=[]),R.value){R.value.ImageInfos=ge(R.value.ImageInfos),e.value.value=ge(e.value.value);const $=t.last(R.value.ImageInfos);$&&e.value.value.push($)}const V=[{keyValue:e.value.key,propertyParams:[{propertyName:"value",propertyValue:JSON.stringify(e.value.value)},{propertyName:"updatedBy",propertyValue:JSON.stringify(u.employee)},{propertyName:"updatedDate",propertyValue:"<<ServerDateTime>>"}]},{keyValue:a.value.key,propertyParams:[{propertyName:"updatedBy",propertyValue:JSON.stringify(u.employee)},{propertyName:"updatedDate",propertyValue:"<<ServerDateTime>>"}]}];u.updateServiceSheetTaskValue(V,w.user.EmployeeId,w.user.Name)};_e(R,async(V,$)=>{!t.isUndefined(V)&&V.ImageInfos.length>0&&V.ImageInfos.length!=($==null?void 0:$.ImageInfos.length)&&await O()},{deep:!0});const J=re(()=>{var $;let V="pb-2";return($=s.task)!=null&&$.updatedBy&&s.task.updatedBy.name&&(V=""),V});return(V,$)=>{var x;return r(),k("div",{class:Q([[A(g),A(v),A(J)],"pt-2"]),style:Y(A(D))},[o("div",{class:Q(["row",!A(t.isUndefined)(e.value.value)&&e.value.value.length>0?"justify-content-around":"justify-content-center"])},[o("div",{class:Q(["d-flex justify-content-center",!A(t.isUndefined)(e.value.value)&&e.value.value.length>0?"col-6 pe-0 ps-1":"col-6 px-0"])},[o("button",{class:"btn btn-sm btn-icon btn-bg-light",onClick:U,disabled:!0},[o("img",{src:S(),style:{height:"12px",width:"14px"},alt:"photo"},null,8,ma)])],2),A(i)&&A(i).length>0?(r(),k("div",fa,[o("button",{class:"btn btn-sm btn-icon btn-bg-success",onClick:T,style:{"background-color":"#18AF4A"}},[o("label",va,"+"+q(A(i).length),1)])])):C("",!0)],2),((x=l.task)==null?void 0:x.rating)=="CAB_SIDE"?(r(),z(ts,{key:0,ref:"preview",images:A(i),visibility:d.value,"view-only":!0,onOnClose:P,onOnDelete:V.deleteImageReplacement},null,8,["images","visibility","onOnDelete"])):(r(),z(es,{key:1,type:"task","re-render":!1,images:A(i),"show-delete-button":!1,"is-mandatory":!1,visibility:d.value,"is-monitoring":!0,"show-mandatory-caption":!1,onOnClose:P},null,8,["images","visibility"]))],6)}}}),pa={class:"p-2"},ya={class:"form-check checkbox-success item-checkbox"},Bt=le({__name:"CheckBox",props:{item:{type:Object,required:!0},generalStyle:{type:Boolean,default:!0},task:{type:Object}},setup(l){const s=l,e=ie(s,"item"),d=ie(s,"task"),a=Te(),u=Be(),p=c({get:()=>JSON.parse(s.item.value),set:async i=>{var T;const U={keyValue:(T=d.value)==null?void 0:T.key,propertyParams:[{propertyName:"taskValue",propertyValue:e.value.value.toString()},{propertyName:"updatedBy",propertyValue:JSON.stringify(a.employee)},{propertyName:"updatedDate",propertyValue:"<<ServerDateTime>>"}]},R=[{keyValue:e.value.key,propertyParams:[{propertyName:"value",propertyValue:i.toString()},{propertyName:"updatedBy",propertyValue:JSON.stringify(a.employee)},{propertyName:"updatedDate",propertyValue:"<<ServerDateTime>>"}]}];!t.isUndefined(e.value.isTaskValue)&&e.value.isTaskValue&&R.push(U),await a.updateServiceSheetTaskValue(R,u.user.EmployeeId,u.user.Name)}}),w=c(()=>!t.isUndefined(e.value.style)&&e.value.style.breakPoint!="none"?`col-${e.value.style.breakPoint}`:"col"),S=c(()=>{let i="";return s.generalStyle&&!t.isUndefined(e.value.style)&&(!t.isUndefined(e.value.style.potraitBreakPoint)&&e.value.style.breakPoint!="none"?(i=`col-md-${e.value.style.potraitBreakPoint}`,i=`${i} col-lg-${e.value.style.breakPoint}`):(i=`col-md-${e.value.style.potraitBreakPoint}`,i=`${i} col-lg-${e.value.style.breakPoint}`)),i}),g=c(()=>{var N,M,W,b,I,j,L;const i=!t.isUndefined(e.value.style)&&e.value.style.bgColor!="none"?`background-color: ${e.value.style.bgColor}; `:"",U=!t.isUndefined(e.value.style)&&e.value.style.fontColor!="none"?`color: ${e.value.style.fontColor}; `:"",R=!t.isUndefined(e.value.style)&&!t.isUndefined(e.value.style.border)&&e.value.style.border.top!="none"?`border-top: ${e.value.style.border.top}; `:"",T=!t.isUndefined(e.value.style)&&!t.isUndefined(e.value.style.border)&&e.value.style.border.right!="none"?`border-right: ${e.value.style.border.right}; `:"";let P=!t.isUndefined(e.value.style)&&!t.isUndefined(e.value.style.border)&&e.value.style.border.bottom!="none"?`border-bottom: ${e.value.style.border.bottom}; margin-bottom: 1rem;`:"";const D=!t.isUndefined((N=s.task)==null?void 0:N.isShowReplacementRow)&&((M=s.task)==null?void 0:M.isShowReplacementRow),O=!t.isUndefined((W=s.task)==null?void 0:W.isShowAdjustmentRow)&&((b=s.task)==null?void 0:b.isShowAdjustmentRow),J=!t.isUndefined((I=s.task)==null?void 0:I.isShowCleanedRow)&&((j=s.task)==null?void 0:j.isShowCleanedRow);if(D||O||J)P="";else{let E=0;(L=s.task)==null||L.items.forEach(K=>{var te;t.isUndefined(K.style)||(t.isUndefined(K.style.border)?t.isUndefined(K.style.border)&&(E=E+Number(K.style.breakPoint)):((K.style.border.right=="none"||t.isUndefined(K.style.border.right))&&(E=E+Number(K.style.breakPoint)),t.isEqual(K,t.last((te=s.task)==null?void 0:te.items))&&(E=E+Number(K.style.breakPoint))))}),E==12&&(P=!t.isUndefined(e.value.style)&&!t.isUndefined(e.value.style.border)&&e.value.style.border.bottom!="none"?`border-bottom: ${e.value.style.border.bottom}; margin-bottom: 1rem; `:"")}const $=!t.isUndefined(e.value.style)&&!t.isUndefined(e.value.style.border)&&e.value.style.border.left!="none"?`border-left: ${e.value.style.border.left}; `:"",x=!t.isUndefined(e.value.style)&&!t.isUndefined(e.value.style.borderRadius)&&e.value.style.borderRadius.topRight!="none"?`border-top-right-radius: ${e.value.style.borderRadius.topRight}; `:"",y=!t.isUndefined(e.value.style)&&!t.isUndefined(e.value.style.borderRadius)&&e.value.style.borderRadius.bottomRight!="none"?`border-bottom-right-radius: ${e.value.style.borderRadius.bottomRight}; `:"",n=!t.isUndefined(e.value.style)&&!t.isUndefined(e.value.style.borderRadius)&&e.value.style.borderRadius.topLeft!="none"?`border-top-left-radius: ${e.value.style.borderRadius.topLeft}; `:"",f=!t.isUndefined(e.value.style)&&!t.isUndefined(e.value.style.borderRadius)&&e.value.style.borderRadius.bottomLeft!="none"?`border-bottom-left-radius: ${e.value.style.borderRadius.bottomLeft}; `:"";let _="";return P&&(_="padding-bottom: 25px; "),`${_}${i}${U}${R}${T}${P}${$}${x}${y}${n}${f}`}),v=c(()=>{let i="pb-2";return!t.isUndefined(s.task.updatedBy.name)&&s.task.updatedBy.name&&(i=""),i});return(i,U)=>(r(),k("div",{class:Q([[w.value,S.value,v.value],"pt-2 px-2 d-flex align-items-center d-flex justify-content-center"]),style:Y(g.value)},[o("div",pa,[o("div",ya,[Pe(o("input",{disabled:"",class:"form-check-input",type:"checkbox","onUpdate:modelValue":U[0]||(U[0]=R=>p.value=R)},null,512),[[He,p.value]])])])],6))}}),ba=l=>(Ie("data-v-46182f77"),l=l(),xe(),l),ka={class:"row justify-content-center"},ha=ba(()=>o("img",{src:ss,alt:""},null,-1)),ga=[ha],_a=le({__name:"SmallRepair",props:{item:{type:Object,required:!0},generalStyle:{type:Boolean,default:!0},task:{type:Object}},setup(l){const s=l,e=G("/media/svg/dma/warning.svg"),d=G(!0),a=ie(s,"item"),u=re(()=>!t.isUndefined(a.value.style)&&a.value.style.breakPoint!="none"?`col-${a.value.style.breakPoint}`:"col"),p=re(()=>{let v="";return s.generalStyle&&!t.isUndefined(a.value.style)&&(!t.isUndefined(a.value.style.potraitBreakPoint)&&a.value.style.breakPoint!="none"?(v=`col-md-${a.value.style.potraitBreakPoint}`,v=`${v} col-lg-${a.value.style.breakPoint}`):(v=`col-md-${a.value.style.potraitBreakPoint}`,v=`${v} col-lg-${a.value.style.breakPoint}`)),v}),w=re(()=>{var _,N,M,W,b,I,j;const v=!t.isUndefined(a.value.style)&&a.value.style.bgColor!="none"?`background-color: ${a.value.style.bgColor}; `:"",i=!t.isUndefined(a.value.style)&&a.value.style.fontColor!="none"?`color: ${a.value.style.fontColor}; `:"",U=!t.isUndefined(a.value.style)&&!t.isUndefined(a.value.style.border)&&a.value.style.border.top!="none"?`border-top: ${a.value.style.border.top}; `:"",R=!t.isUndefined(a.value.style)&&!t.isUndefined(a.value.style.border)&&a.value.style.border.right!="none"?`border-right: ${a.value.style.border.right}; `:"";let T=!t.isUndefined(a.value.style)&&!t.isUndefined(a.value.style.border)&&a.value.style.border.bottom!="none"?`border-bottom: ${a.value.style.border.bottom}; margin-bottom: 1rem;`:"";const P=!t.isUndefined((_=s.task)==null?void 0:_.isShowReplacementRow)&&((N=s.task)==null?void 0:N.isShowReplacementRow),D=!t.isUndefined((M=s.task)==null?void 0:M.isShowAdjustmentRow)&&((W=s.task)==null?void 0:W.isShowAdjustmentRow),O=!t.isUndefined((b=s.task)==null?void 0:b.isShowCleanedRow)&&((I=s.task)==null?void 0:I.isShowCleanedRow);if(P||D||O)T="";else{let L=0;(j=s.task)==null||j.items.forEach(E=>{var K;t.isUndefined(E.style)||(t.isUndefined(E.style.border)?t.isUndefined(E.style.border)&&(L=L+Number(E.style.breakPoint)):((E.style.border.right=="none"||t.isUndefined(E.style.border.right))&&(L=L+Number(E.style.breakPoint)),t.isEqual(E,t.last((K=s.task)==null?void 0:K.items))&&(L=L+Number(E.style.breakPoint))))}),L==12&&(T=!t.isUndefined(a.value.style)&&!t.isUndefined(a.value.style.border)&&a.value.style.border.bottom!="none"?`border-bottom: ${a.value.style.border.bottom}; margin-bottom: 1rem; `:"")}const V=!t.isUndefined(a.value.style)&&!t.isUndefined(a.value.style.border)&&a.value.style.border.left!="none"?`border-left: ${a.value.style.border.left}; `:"",$=!t.isUndefined(a.value.style)&&!t.isUndefined(a.value.style.borderRadius)&&a.value.style.borderRadius.topRight!="none"?`border-top-right-radius: ${a.value.style.borderRadius.topRight}; `:"",x=!t.isUndefined(a.value.style)&&!t.isUndefined(a.value.style.borderRadius)&&a.value.style.borderRadius.bottomRight!="none"?`border-bottom-right-radius: ${a.value.style.borderRadius.bottomRight}; `:"",y=!t.isUndefined(a.value.style)&&!t.isUndefined(a.value.style.borderRadius)&&a.value.style.borderRadius.topLeft!="none"?`border-top-left-radius: ${a.value.style.borderRadius.topLeft}; `:"",n=!t.isUndefined(a.value.style)&&!t.isUndefined(a.value.style.borderRadius)&&a.value.style.borderRadius.bottomLeft!="none"?`border-bottom-left-radius: ${a.value.style.borderRadius.bottomLeft}; `:"";let f="";return T&&(f="padding-bottom: 25px; "),`${f}${v}${i}${U}${R}${T}${V}${$}${x}${y}${n}`}),S=(v="")=>{let i="";return v&&(i=v==="Not-Repaired"?"red":"green"),i};Oe(async()=>{const v={id:a.value.value.toString(),ver:"v1"};try{const R=(await Ne.getBlob("https://digital-bumaau-dev-apm-001.azure-api.net/utility/api/master_attachment/download_by_id","",new URLSearchParams(v).toString())).data,T=new Blob([R]),P=window.URL||window.webkitURL;e.value=P.createObjectURL(T),d.value=!1}catch{d.value=!1}});const g=re(()=>{let v="pb-2";return!t.isUndefined(s.task.updatedBy.name)&&s.task.updatedBy.name&&(v=""),v});return(v,i)=>(r(),k("div",{class:Q([[A(u),A(p),A(g)],"pt-4"]),style:Y(A(w))},[o("div",ka,[o("div",{class:Q(["little-box rounded-circle d-flex p-3 justify-content-center align-items-center",S("Not-Repaired")])},ga,2)])],6))}}),wa=pe(_a,[["__scopeId","data-v-46182f77"]]),Ra="/media/svg/dma/note.png",$a="/media/svg/dma/info.png",Sa=o("button",{class:"btn btn-sm btn-icon btn-bg-light"},[o("img",{src:Ra,style:{height:"15px"}})],-1),Ua=[Sa],Ca=o("div",{class:"col-6 ps-0 pe-1 d-flex justify-content-center"},[o("button",{class:"btn btn-sm btn-icon btn-bg-success",style:{"background-color":"#18AF4A"}},[o("img",{src:$a,style:{height:"15px"}})])],-1),Ia=le({__name:"SmallNote",props:{item:{type:Object,required:!0},generalStyle:{type:Boolean,default:!0},task:{type:Object}},setup(l){const s=l,e=G("/media/svg/dma/warning.svg"),d=G(!0),a=ie(s,"item"),u=re(()=>!t.isUndefined(a.value.style)&&a.value.style.breakPoint!="none"?`col-${a.value.style.breakPoint}`:"col"),p=re(()=>{let g="";return s.generalStyle&&!t.isUndefined(a.value.style)&&(!t.isUndefined(a.value.style.potraitBreakPoint)&&a.value.style.breakPoint!="none"?(g=`col-md-${a.value.style.potraitBreakPoint}`,g=`${g} col-lg-${a.value.style.breakPoint}`):(g=`col-md-${a.value.style.potraitBreakPoint}`,g=`${g} col-lg-${a.value.style.breakPoint}`)),g}),w=re(()=>{var f,_,N,M,W,b,I;const g=!t.isUndefined(a.value.style)&&a.value.style.bgColor!="none"?`background-color: ${a.value.style.bgColor}; `:"",v=!t.isUndefined(a.value.style)&&a.value.style.fontColor!="none"?`color: ${a.value.style.fontColor}; `:"",i=!t.isUndefined(a.value.style)&&!t.isUndefined(a.value.style.border)&&a.value.style.border.top!="none"?`border-top: ${a.value.style.border.top}; `:"",U=!t.isUndefined(a.value.style)&&!t.isUndefined(a.value.style.border)&&a.value.style.border.right!="none"?`border-right: ${a.value.style.border.right}; `:"";let R=!t.isUndefined(a.value.style)&&!t.isUndefined(a.value.style.border)&&a.value.style.border.bottom!="none"?`border-bottom: ${a.value.style.border.bottom}; margin-bottom: 1rem;`:"";const T=!t.isUndefined((f=s.task)==null?void 0:f.isShowReplacementRow)&&((_=s.task)==null?void 0:_.isShowReplacementRow),P=!t.isUndefined((N=s.task)==null?void 0:N.isShowAdjustmentRow)&&((M=s.task)==null?void 0:M.isShowAdjustmentRow),D=!t.isUndefined((W=s.task)==null?void 0:W.isShowCleanedRow)&&((b=s.task)==null?void 0:b.isShowCleanedRow);if(T||P||D)R="";else{let j=0;(I=s.task)==null||I.items.forEach(L=>{var E;t.isUndefined(L.style)||(t.isUndefined(L.style.border)?t.isUndefined(L.style.border)&&(j=j+Number(L.style.breakPoint)):((L.style.border.right=="none"||t.isUndefined(L.style.border.right))&&(j=j+Number(L.style.breakPoint)),t.isEqual(L,t.last((E=s.task)==null?void 0:E.items))&&(j=j+Number(L.style.breakPoint))))}),j==12&&(R=!t.isUndefined(a.value.style)&&!t.isUndefined(a.value.style.border)&&a.value.style.border.bottom!="none"?`border-bottom: ${a.value.style.border.bottom}; margin-bottom: 1rem; `:"")}const J=!t.isUndefined(a.value.style)&&!t.isUndefined(a.value.style.border)&&a.value.style.border.left!="none"?`border-left: ${a.value.style.border.left}; `:"",V=!t.isUndefined(a.value.style)&&!t.isUndefined(a.value.style.borderRadius)&&a.value.style.borderRadius.topRight!="none"?`border-top-right-radius: ${a.value.style.borderRadius.topRight}; `:"",$=!t.isUndefined(a.value.style)&&!t.isUndefined(a.value.style.borderRadius)&&a.value.style.borderRadius.bottomRight!="none"?`border-bottom-right-radius: ${a.value.style.borderRadius.bottomRight}; `:"",x=!t.isUndefined(a.value.style)&&!t.isUndefined(a.value.style.borderRadius)&&a.value.style.borderRadius.topLeft!="none"?`border-top-left-radius: ${a.value.style.borderRadius.topLeft}; `:"",y=!t.isUndefined(a.value.style)&&!t.isUndefined(a.value.style.borderRadius)&&a.value.style.borderRadius.bottomLeft!="none"?`border-bottom-left-radius: ${a.value.style.borderRadius.bottomLeft}; `:"";let n="";return R&&(n="padding-bottom: 25px; "),`${n}${g}${v}${i}${U}${R}${J}${V}${$}${x}${y}`});re(()=>!t.isUndefined(a.value.style)&&a.value.style.breakPoint=="1"?"width: 20px; height: 20px":""),Oe(async()=>{const g={id:a.value.value.toString(),ver:"v1"};try{const U=(await Ne.getBlob("https://digital-bumaau-dev-apm-001.azure-api.net/utility/api/master_attachment/download_by_id","",new URLSearchParams(g).toString())).data,R=new Blob([U]),T=window.URL||window.webkitURL;e.value=T.createObjectURL(R),d.value=!1}catch{d.value=!1}});const S=re(()=>{let g="pb-2";return!t.isUndefined(s.task.updatedBy.name)&&s.task.updatedBy.name&&(g=""),g});return(g,v)=>(r(),k("div",{class:Q([[A(u),A(p),A(S)],"pt-2"]),style:Y(A(w))},[o("div",{class:Q(["row",!A(t.isUndefined)(a.value.value)&&a.value.value!=""?"justify-content-around":"justify-content-center"])},[o("div",{class:Q(["d-flex justify-content-center",!A(t.isUndefined)(a.value.value)&&a.value.value!=""?"col-6 pe-0 ps-1":"col-6 px-0"])},Ua,2),Ca],2)],6))}}),Tt=le({__name:"InteractiveButton",props:{item:{type:Object,required:!0},generalStyle:{type:Boolean,default:!0},task:{type:Object}},setup(l){const s=l,e=ie(s,"item"),d=ie(s,"task"),a=c(()=>s.generalStyle?!t.isUndefined(e.value.style)&&e.value.style.breakPoint!="none"?`col-${e.value.style.breakPoint}`:"col":""),u=c(()=>!t.isUndefined(e.value.style)&&e.value.style.fontColor!="none"?`color: ${e.value.style.fontColor}; `:""),p=c(()=>!t.isUndefined(e.value.style)&&e.value.style.bgColor!="none"?`background-color: ${e.value.style.bgColor}; border-color: ${e.value.style.bgColor};`:""),w=c(()=>"opacity: 50%;");c(()=>{const R=s.task.taskValue=="",T=s.task.taskValue=="A"||s.task.taskValue=="B";return R||T||s.task.isShowAdjustmentRow});const S=c(()=>{let R="";return s.generalStyle&&!t.isUndefined(e.value.style)&&(!t.isUndefined(e.value.style.potraitBreakPoint)&&e.value.style.breakPoint!="none"?(R=`col-md-${e.value.style.potraitBreakPoint}`,R=`${R} col-lg-${e.value.style.breakPoint}`):(R=`col-md-${e.value.style.potraitBreakPoint}`,R=`${R} col-lg-${e.value.style.breakPoint}`)),R}),g=c(()=>t.isUndefined(e.value.style)?"":e.value.style.textAlign=="left"?"text-start":e.value.style.textAlign=="right"?"text-end":"text-center"),v=c(()=>{var N,M,W,b,I,j,L;const R=!t.isUndefined(e.value.style)&&!t.isUndefined(e.value.style.border)&&e.value.style.border.top!="none"?`border-top: ${e.value.style.border.top}; `:"",T=!t.isUndefined(e.value.style)&&!t.isUndefined(e.value.style.border)&&e.value.style.border.right!="none"?`border-right: ${e.value.style.border.right}; `:"";let P=!t.isUndefined(e.value.style)&&!t.isUndefined(e.value.style.border)&&e.value.style.border.bottom!="none"?`border-bottom: ${e.value.style.border.bottom}; margin-bottom: 1rem;`:"";const D=!t.isUndefined((N=s.task)==null?void 0:N.isShowReplacementRow)&&((M=s.task)==null?void 0:M.isShowReplacementRow),O=!t.isUndefined((W=s.task)==null?void 0:W.isShowAdjustmentRow)&&((b=s.task)==null?void 0:b.isShowAdjustmentRow),J=!t.isUndefined((I=s.task)==null?void 0:I.isShowCleanedRow)&&((j=s.task)==null?void 0:j.isShowCleanedRow);if(D||O||J)P="";else{let E=0;(L=s.task)==null||L.items.forEach(K=>{var te;t.isUndefined(K.style)||(t.isUndefined(K.style.border)?t.isUndefined(K.style.border)&&(E=E+Number(K.style.breakPoint)):((K.style.border.right=="none"||t.isUndefined(K.style.border.right))&&(E=E+Number(K.style.breakPoint)),t.isEqual(K,t.last((te=s.task)==null?void 0:te.items))&&(E=E+Number(K.style.breakPoint))))}),E==12&&(P=!t.isUndefined(e.value.style)&&!t.isUndefined(e.value.style.border)&&e.value.style.border.bottom!="none"?`border-bottom: ${e.value.style.border.bottom}; margin-bottom: 1rem; `:"")}const $=!t.isUndefined(e.value.style)&&!t.isUndefined(e.value.style.border)&&e.value.style.border.left!="none"?`border-left: ${e.value.style.border.left}; `:"",x=!t.isUndefined(e.value.style)&&!t.isUndefined(e.value.style.borderRadius)&&e.value.style.borderRadius.topRight!="none"?`border-top-right-radius: ${e.value.style.borderRadius.topRight}; `:"",y=!t.isUndefined(e.value.style)&&!t.isUndefined(e.value.style.borderRadius)&&e.value.style.borderRadius.bottomRight!="none"?`border-bottom-right-radius: ${e.value.style.borderRadius.bottomRight}; `:"",n=!t.isUndefined(e.value.style)&&!t.isUndefined(e.value.style.borderRadius)&&e.value.style.borderRadius.topLeft!="none"?`border-top-left-radius: ${e.value.style.borderRadius.topLeft}; `:"",f=!t.isUndefined(e.value.style)&&!t.isUndefined(e.value.style.borderRadius)&&e.value.style.borderRadius.bottomLeft!="none"?`border-bottom-left-radius: ${e.value.style.borderRadius.bottomLeft}; `:"";let _="";return P&&(_="padding-bottom: 25px; "),`${_}${R}${T}${P}${$}${x}${y}${n}${f}`}),i=()=>{e.value.value=="Adjustment"&&(d.value.isShowAdjustmentRow=!0)},U=c(()=>{let R="pb-2";return!t.isUndefined(s.task.updatedBy.name)&&s.task.updatedBy.name&&(R=""),R});return(R,T)=>{const P=oe("el-button");return r(),k("div",{class:Q([[a.value,g.value,S.value,U.value],"px-2 pt-2"]),style:Y(v.value)},[!A(t.isUndefined)(l.item.style)&&l.item.style.visibility!="hidden"?(r(),z(P,{key:0,style:Y([u.value,p.value,w.value]),size:"small",type:"success",onClick:i,class:"item-button w-100",disabled:""},{default:ee(()=>[ke(q(l.item.value),1)]),_:1},8,["style"])):C("",!0)],6)}}}),xa={class:"row w-100"},Ba=o("div",{class:"col-1 pb-1 px-2"},null,-1),Ta={class:"col-2 pb-1 px-2",style:Y([])},Pa={key:0,class:"d-flex align-items-center"},Da=o("div",{class:"spinner-border me-1",style:{width:"1rem !important",height:"1rem !important"},role:"status"},[o("span",{class:"sr-only"},"Loading...")],-1),Aa=o("span",null,"Loading...",-1),Ea=[Da,Aa],Oa={class:"col-1 pb-1 px-2",style:Y([])},Na={class:"col-1 col-md-1 pb-1 px-2 input-eform-status",style:Y([])},ja={class:"col-1 col-md-1 pb-1 px-2",style:Y([])},Va={class:"row justify-content-center"},La={class:"px-0 col-6 d-flex justify-content-center"},Ga=["src"],Fa={key:0,class:"col-6 ps-0 pe-1 d-flex justify-content-center"},Ma={class:"text-white"},qa={key:0,class:"row w-100"},Ha={key:1,class:"row w-100"},Wa=o("div",{class:"col-1 pb-1 px-2"},null,-1),za=le({__name:"TaskAdjustment",props:{task:{type:Object,required:!0}},setup(l){const s=l,e=async b=>{const I=d.value.adjustment.pictures;d.value.adjustment.pictures=I.filter(j=>j!=b),O.setCurrent(`${d.value.key}-adjustment`),O.clearCurrent(),await P.addCBMAdjustmentPictures(d.value),d.value.adjustment.pictures.length==0},d=ie(s,"task"),a=G(!1),u=c(()=>d.value.adjustment.pictures?ge(d.value.adjustment.pictures):[]),p=c(()=>{let b="col-4 col-md-3";return s.task.adjustment.isCommentAdjustment&&(b="col-5 col-md-4"),b}),w=c(()=>{let b="col-2";return s.task.adjustment.isCommentAdjustment&&(b="col-1"),b}),S=c(()=>{let b="col-4 col-md-3 ";return s.task.adjustment.isCommentAdjustment&&(b="col-5 col-md-4"),b}),g=c(()=>{let b="col-6 col-md-7 ";return s.task.adjustment.isCommentAdjustment&&(b="col-5 col-md-6"),b});c(()=>{let b=!0;return!t.isUndefined(d.value.updatedBy)&&!t.isUndefined(d.value.updatedBy.id)&&(P.employee.id==d.value.updatedBy.id?b=!0:b=!1),!b});const v=()=>{a.value=!1},i=()=>{console.log(d.value.adjustment.pictures),a.value=!0},U=c(()=>{let b="";return s.task.items.forEach(I=>{!t.isUndefined(I.style)&&!t.isUndefined(I.style.border)&&I.style.border.left!="none"&&(b=I.style.border.left)}),b}),R=c(()=>{let b="",I=!1;return d.value.items.forEach(j=>{!t.isUndefined(j.style)&&!t.isUndefined(j.style.border)&&j.style.border.bottom!="none"&&(I=!0)}),I&&(b=`border-bottom: ${U.value}`),b});c(()=>{let b=!1;d.value.items.forEach(j=>{!t.isUndefined(j.style)&&!t.isUndefined(j.style.border)&&j.style.border.bottom!="none"&&(b=!0)});let I="";return d.value.adjustment.updatedBy.name!=""&&b&&(I=`border-bottom: ${U.value}`),I});const T=b=>{let I=b.keyCode?b.keyCode:b.which;(I<48||I>57)&&I!=46&&b.preventDefault()},P=Te(),D=G(!1),O=Xe(),J=G(!1),V=()=>{let b;return u.value.length>0?b="/media/svg/dma/camera/e-form/png/cam-read.png":b="/media/svg/dma/camera/e-form/png/cam-active.png",b},$=async b=>{const I=b.target.value;if(I&&I!=M.value){J.value=!0,d.value.adjustment.measurement=I;const j=await P.getAdjusmentRating(d.value);J.value=!1,(j=="C"||j=="X")&&(D.value=!0),W.value=I}},x=()=>{O.toggleIsVisible(!0,`${d.value.key}-adjustment`),D.value=!1},y=async()=>{if(d.value.adjustment.measurement!=M.value&&d.value.adjustment.measurement){const b=Ce.service({lock:!0,text:"Deleting Adjustment",background:"rgba(0, 0, 0, 0.7)"});await P.deleteAdjusmentTask(d.value),b.close(),O.setCurrent(`${d.value.key}-adjustment`),O.clearCurrent()}d.value.isShowAdjustmentRow=!1},n=c(()=>{const b=d.value.adjustment.rating;let I;return b=="A"?I="a":b=="B"?I="b":b=="C"?I="c":b=="X"&&(I="x"),I}),f=c(()=>t.cloneDeep(O.ImageObjects.find(b=>b.Id===`${d.value.key}-adjustment`))),_=G(!1),N=()=>{const b=f.value.ImageInfos,I=d.value.adjustment.pictures,j=b.filter(L=>!I.includes(L));d.value.adjustment.pictures=[...d.value.adjustment.pictures,...j],P.addCBMAdjustmentPictures(d.value),_.value=!0};_e(f,async(b,I)=>{!t.isUndefined(b)&&b.ImageInfos.length>0&&b.ImageInfos.length!=(I==null?void 0:I.ImageInfos.length)&&await N()},{deep:!0});const M=G(""),W=G("");return Se(()=>{d.value.items.forEach(b=>{b.categoryItemType=="paramRating"&&(M.value=b.value,W.value=b.value)})}),(b,I)=>{const j=oe("el-input"),L=oe("el-button");return r(),k(se,null,[o("div",xa,[Ba,o("div",{class:"col-1 pb-1 px-2",style:Y([`border-left: ${U.value}`])},null,4),o("div",{class:Q(["pb-1 px-2",p.value]),style:Y([])},q(l.task.adjustment.description),3),o("div",Ta,[F(j,{modelValue:d.value.adjustment.measurement,"onUpdate:modelValue":I[0]||(I[0]=E=>d.value.adjustment.measurement=E),modelModifiers:{lazy:!0},size:"small",placeholder:"Please Input",onKeypress:T,onFocusout:$,readonly:""},null,8,["modelValue"]),J.value?(r(),k("div",Pa,Ea)):C("",!0)]),o("div",Oa,q(l.task.adjustment.uom),1),o("div",Na,[F(j,{modelValue:d.value.adjustment.rating,"onUpdate:modelValue":I[1]||(I[1]=E=>d.value.adjustment.rating=E),modelModifiers:{lazy:!0},size:"small",disabled:"",class:Q(n.value)},null,8,["modelValue","class"])]),o("div",ja,[o("div",Va,[o("div",La,[o("button",{class:"btn btn-sm btn-icon btn-bg-light",onClick:x,disabled:""},[o("img",{src:V(),style:{height:"12px",width:"14px"}},null,8,Ga)])]),d.value.adjustment.pictures.length>0?(r(),k("div",Fa,[o("button",{class:"btn btn-sm btn-icon btn-bg-success",onClick:i,style:{"background-color":"#18AF4A"}},[o("label",Ma,"+"+q(d.value.adjustment.pictures.length),1)])])):C("",!0)])]),o("div",{class:Q(["pb-1 px-2",w.value]),style:Y([`border-right: ${U.value}`])},[F(L,{type:"danger",size:"small",class:"item-button w-100",onClick:y,disabled:""},{default:ee(()=>[ke("Delete")]),_:1})],6)]),l.task.adjustment.updatedBy.name?(r(),k("div",qa,[o("div",{class:"d-flex justify-content-end py-1 col-11 offset-1 timestamp-task",style:Y([`border-left: ${U.value}; border-right: ${U.value}`])},q(l.task.adjustment.updatedBy.name)+", "+q(l.task.adjustment.updatedDate),5)])):C("",!0),A(t.isUndefined)(d.value.adjustment.commentValue)?C("",!0):(r(),k("div",Ha,[Wa,o("div",{class:"col-1 pb-1 px-2",style:Y([`border-left: ${U.value}`,R.value])},null,4),o("div",{class:Q(["pb-1 px-2",S.value]),style:Y([R.value])},q(l.task.adjustment.commentLabel),7),o("div",{class:Q(["pb-1 px-2",g.value]),style:Y([R.value,`border-right: ${U.value}`])},[F(j,{modelValue:d.value.adjustment.commentValue,"onUpdate:modelValue":I[2]||(I[2]=E=>d.value.adjustment.commentValue=E),modelModifiers:{lazy:!0},size:"small",placeholder:d.value.adjustment.commentPlaceHolder,readonly:!0},null,8,["modelValue","placeholder"])],6)])),a.value?(r(),z(gt,{key:2,images:u.value,visibility:a.value,showDeleteButton:!1,onHandleClose:v,onHandleDelete:e},null,8,["images","visibility"])):C("",!0)],64)}}}),Ja={class:"row w-100"},Ka=o("div",{class:"col-1 pb-1 px-2"},null,-1),Ya={class:"col-4 col-md-3 pb-1 px-2",style:Y([])},Xa=o("div",{class:"col-1 pb-1 px-2"},null,-1),Qa={class:"col-2 pb-1 px-2",style:Y([])},Za={class:"col-1 pb-1 px-2",style:Y([])},eo={class:"col-1 col-md-1 pb-1 px-2 input-eform-status",style:Y([])},to={key:0,class:"row w-100"},so={key:1,class:"row w-100"},ao=o("div",{class:"col-1 pb-1 px-2"},null,-1),oo=le({__name:"TaskReplacement",props:{task:{type:Object,required:!0}},setup(l){const s=l,e=ie(s,"task"),d=c(()=>{let g="";return s.task.items.forEach(v=>{!t.isUndefined(v.style)&&!t.isUndefined(v.style.border)&&v.style.border.left!="none"&&(g=v.style.border.left)}),g}),a=c(()=>{let g="",v=!1;return e.value.items.forEach(i=>{!t.isUndefined(i.style)&&!t.isUndefined(i.style.border)&&i.style.border.bottom!="none"&&(v=!0)}),v&&(g=`border-bottom: ${d.value}`),g}),u=g=>{let v=g.keyCode?g.keyCode:g.which;(v<48||v>57)&&v!=46&&g.preventDefault()},p=c(()=>{const g=e.value.replacement.rating;let v;return g=="A"?v="a":g=="B"?v="b":g=="C"?v="c":g=="X"&&(v="x"),v}),w=G(""),S=G("");return Se(()=>{e.value.items.forEach(g=>{g.categoryItemType=="paramRating"&&(w.value=g.value,S.value=g.value)})}),(g,v)=>{const i=oe("el-input"),U=oe("el-button");return r(),k(se,null,[o("div",Ja,[Ka,o("div",{class:"col-1 pb-1 px-2",style:Y([`border-left: ${d.value}`])},null,4),o("div",Ya,q(l.task.replacement.description),1),Xa,o("div",Qa,[F(i,{modelValue:e.value.replacement.measurement,"onUpdate:modelValue":v[0]||(v[0]=R=>e.value.replacement.measurement=R),modelModifiers:{lazy:!0},size:"small",placeholder:"Please Input",onKeypress:u,readonly:""},null,8,["modelValue"])]),o("div",Za,q(l.task.replacement.uom),1),o("div",eo,[F(i,{modelValue:e.value.replacement.rating,"onUpdate:modelValue":v[1]||(v[1]=R=>e.value.replacement.rating=R),modelModifiers:{lazy:!0},size:"small",disabled:"",class:Q(p.value)},null,8,["modelValue","class"])]),o("div",{class:"col-2 pb-1 px-2",style:Y([`border-right: ${d.value}`])},[F(U,{type:"danger",size:"small",class:"item-button w-100",disabled:""},{default:ee(()=>[ke("Delete")]),_:1})],4)]),l.task.replacement.updatedBy.name?(r(),k("div",to,[o("div",{class:"d-flex justify-content-end py-1 col-11 offset-1 timestamp-task",style:Y([`border-left: ${d.value}; border-right: ${d.value}`])},q(l.task.replacement.updatedBy.name)+", "+q(l.task.replacement.updatedDate),5)])):C("",!0),A(t.isUndefined)(e.value.replacement.commentValue)?C("",!0):(r(),k("div",so,[ao,o("div",{class:"col-1 pb-1 px-2",style:Y([`border-left: ${d.value}`,a.value])},null,4),o("div",{class:"col-4 col-md-3 pb-1 px-2",style:Y([a.value])},q(l.task.replacement.commentLabel),5),o("div",{class:"col-6 col-md-7 pb-1 px-2",style:Y([a.value,`border-right: ${d.value}`])},[F(i,{modelValue:e.value.replacement.commentValue,"onUpdate:modelValue":v[2]||(v[2]=R=>e.value.replacement.commentValue=R),modelModifiers:{lazy:!0},size:"small",placeholder:e.value.replacement.commentPlaceHolder,readonly:!0},null,8,["modelValue","placeholder"])],4)]))],64)}}}),lo={class:"row w-100","data-testid":"task-cleaned-row"},no=o("div",{class:"col-1 pb-1 px-2"},null,-1),ro=["innerHTML"],io={key:0,class:"d-flex align-items-center"},uo=o("div",{class:"spinner-border me-1",style:{width:"1rem !important",height:"1rem !important"},role:"status"},[o("span",{class:"sr-only"},"Loading...")],-1),co=o("span",{class:"timestamp-task"},"Updating...",-1),mo=[uo,co],fo={class:"row justify-content-center"},vo={class:"px-0 col-6 d-flex justify-content-center"},po=["disabled"],yo=["src"],bo={key:0,class:"col-6 ps-0 pe-1 d-flex justify-content-center"},ko={class:"text-white"},ho={key:0,class:"row w-100"},go=le({__name:"TaskCleaned",props:{task:{type:Object,required:!0}},emits:["showTaskAdjustment"],setup(l,{emit:s}){const e=l,d=s;as();const a=async m=>{const h=u.value.cleaned.pictures;u.value.cleaned.pictures=h.filter(B=>B!=m),_.setCurrent(`${u.value.key}-cleaned`),_.clearCurrent(),await n.addCBMCleanedPictures(u.value),u.value.cleaned.pictures.length==0},u=ie(e,"task"),p=G(!1),w=G(""),S=G(!1),g=c(()=>{let m="col-6 col-md-5";return e.task.cleaned.isCommentAdjustment&&(m="col-6 col-md-5"),m}),v=c(()=>{let m="col-2";return e.task.cleaned.isCommentAdjustment&&(m="col-1"),m});c(()=>{let m="col-4 col-md-3 ";return e.task.cleaned.isCommentAdjustment&&(m="col-5 col-md-4"),m}),c(()=>{let m="col-6 col-md-7 ";return e.task.cleaned.isCommentAdjustment&&(m="col-5 col-md-6"),m});const i=c({get:()=>u.value.cleaned.rating,set:m=>{u.value.cleaned.rating=m}}),U=c(()=>{const m=e.task.items.find(Z=>Z.itemType=="dropDown"&&Z.customValidation&&Z.customValidation=="cbmTakePhotoAllRating"),h=m.caption.replace("[","").replace("]","").split("; "),B=m.itemValue.replace("[","").replace("]","").split(", ");return h.map((Z,ne)=>({label:Z.replaceAll("'",""),value:B[ne].replaceAll("'","")}))}),R=m=>We(m);c(()=>{var m;return i.value?(m=U.value.find(h=>h.value==String(i.value)))==null?void 0:m.label:i.value});const T=c(()=>u.value.cleaned.pictures?ge(u.value.cleaned.pictures):[]),P=c(()=>n.generalForm.status=="Submited"),D=c(()=>!!0||P.value),O=c(()=>{var h,B;let m=!0;return(h=u.value)!=null&&h.cleaned.updatedBy&&n.employee.id!=((B=u.value)==null?void 0:B.cleaned.updatedBy).id&&(m=!1),!m||P.value}),J=()=>{p.value=!1},V=()=>{p.value=!0},$=c(()=>{let m="";return e.task.items.forEach(h=>{!t.isUndefined(h.style)&&!t.isUndefined(h.style.border)&&h.style.border.left!="none"&&(m=h.style.border.left)}),m}),x=c(()=>{let m="",h=!1;return u.value.items.forEach(B=>{!t.isUndefined(B.style)&&!t.isUndefined(B.style.border)&&B.style.border.bottom!="none"&&(h=!0),e.task.cleaned.rating&&(h=!1)}),h&&(m=`border-bottom: ${$.value}`),m}),y=c(()=>{let m=!1;u.value.items.forEach(B=>{!t.isUndefined(B.style)&&!t.isUndefined(B.style.border)&&B.style.border.bottom!="none"&&(m=!0)});let h="";return u.value.cleaned.updatedBy.name!=""&&m&&(h=`border-bottom: ${$.value}`),h});G();const n=Te(),f=G(!1),_=Xe(),N=G(!1);Be(),G(!1);const M=()=>{var h,B;let m="/media/svg/dma/camera/e-form/png/cam-active.png";return t.isUndefined((h=e.task.cleaned.updatedBy)==null?void 0:h.id)||((B=e.task.cleaned.updatedBy)==null?void 0:B.id)==n.employee.id&&u.value.cleaned.pictures.length>0&&(m="/media/svg/dma/camera/e-form/png/cam-user.png"),O.value&&u.value.cleaned.pictures.length>0&&(m="/media/svg/dma/camera/e-form/png/cam-read.png"),m},W=async m=>{const h=it(e.task);let B=m;D.value||(B&&B!=te.value?(N.value=!0,u.value.cleaned.measurement=B,await n.getCleanedRating(u.value,h)||(await n.deleteCleanedTask(u.value,h),S.value=!0,setTimeout(()=>{S.value=!1},2e3),te.value="",B="",u.value.cleaned.measurement=""),N.value=!1):B==""&&B!=te.value&&(await n.getCleanedRating(u.value,h),te.value="",w.value="",B="",u.value.cleaned.measurement="",N.value=!1))},b=()=>{var ae;const m=M()=="/media/svg/dma/camera/e-form/png/cam-read.png";let h=!1;const B=!!((ae=e.task.cleaned.updatedBy)!=null&&ae.id);B&&e.task.cleaned.updatedBy.id==n.employee.id&&(h=!0),!(m||B&&!h)&&(_.toggleIsVisible(!0,`${u.value.key}-cleaned`),f.value=!1)},I=async()=>{const m=it(e.task);if(u.value.cleaned.rating){const h=Ce.service({lock:!0,text:"Deleting Cleaned Value",background:"rgba(0, 0, 0, 0.7)"});await n.deleteCleanedTask(u.value,m),h.close(),_.setCurrent(`${u.value.key}-cleaned`),_.clearCurrent()}d("showTaskAdjustment",!1),u.value.isShowAdjustmentRow=!1},j=c(()=>{const m=u.value.cleaned.rating;let h;return m=="A"?h="a":m=="B"?h="b":m=="C"?h="c":m=="X"&&(h="x"),h}),L=c(()=>t.cloneDeep(_.ImageObjects.find(m=>m.Id===`${u.value.key}-cleaned`))),E=G(!1),K=()=>{let m=[];L.value&&(m=ge(L.value.ImageInfos));const h=ge(u.value.cleaned.pictures),B=m.filter(ae=>!h.some(Z=>ae.filename===Z.filename));u.value.cleaned.pictures=ge(u.value.cleaned.pictures),u.value.cleaned.pictures=[...u.value.cleaned.pictures,...B],n.addCBMCleanedPictures(u.value),E.value=!0};_e(L,async(m,h)=>{!t.isUndefined(m)&&m.ImageInfos.length>0&&m.ImageInfos.length!=(h==null?void 0:h.ImageInfos.length)&&await K()},{deep:!0});const te=G(""),ce=G(""),fe=G("");return Se(()=>{te.value=u.value.cleaned.measurement,fe.value=u.value.cleaned.measurement,t.isUndefined(u.value.cleaned.commentValue)||(ce.value=u.value.cleaned.measurement)}),(m,h)=>{const B=oe("el-option"),ae=oe("el-select"),Z=oe("el-button");return r(),k(se,null,[o("div",lo,[no,o("div",{class:"col-1 pb-1 px-2",style:Y([`border-left: ${$.value}`,x.value])},null,4),o("div",{class:Q(["pb-1 px-2",g.value]),style:Y([x.value])},q(l.task.cleaned.description),7),o("div",{class:"col-2 pb-1 px-2",style:Y([x.value])},[(r(),z(ae,{modelValue:i.value,"onUpdate:modelValue":h[0]||(h[0]=ne=>i.value=ne),placeholder:"Choose One",size:"small",class:Q(["w-100",[j.value]]),disabled:!0,onChange:W,key:l.task.cleaned.key},{default:ee(()=>[(r(!0),k(se,null,me(U.value,ne=>(r(),z(B,{key:ne,value:ne.value},{default:ee(()=>[o("span",{innerHTML:ne&&ne.label?R(ne&&ne.label):""},null,8,ro)]),_:2},1032,["value"]))),128))]),_:1},8,["modelValue","class"])),N.value?(r(),k("div",io,mo)):C("",!0)],4),o("div",{class:"col-1 col-md-1 pb-1 px-2",style:Y([x.value])},[o("div",fo,[o("div",vo,[o("button",{class:"btn btn-sm btn-icon btn-bg-light",onClick:b,disabled:O.value},[o("img",{src:M(),style:{height:"12px",width:"14px"}},null,8,yo)],8,po)]),u.value.cleaned.pictures.length>0?(r(),k("div",bo,[o("button",{class:"btn btn-sm btn-icon btn-bg-success",onClick:V,style:{"background-color":"#18AF4A"}},[o("label",ko,"+"+q(u.value.cleaned.pictures.length),1)])])):C("",!0)])],4),o("div",{class:Q(["pb-1 px-2",v.value]),style:Y([`border-right: ${$.value}`,x.value])},[F(Z,{type:"danger",size:"small",class:"item-button w-100",onClick:I,disabled:""},{default:ee(()=>[ke("Delete")]),_:1})],6)]),l.task.cleaned.updatedBy.name?(r(),k("div",ho,[o("div",{class:"d-flex justify-content-end py-1 col-11 offset-1 timestamp-task",style:Y([`border-left: ${$.value}; border-right: ${$.value}; ${y.value}`])},q(l.task.cleaned.updatedBy.name)+", "+q(l.task.cleaned.updatedDate),5)])):C("",!0),p.value?(r(),z(gt,{key:1,images:T.value,visibility:p.value,showDeleteButton:!1,onHandleClose:J,onHandleDelete:a},null,8,["images","visibility"])):C("",!0),F(os,{visibility:S.value,isCloseButtonShow:!1,caption:"Out Of Range",onOnClose:h[1]||(h[1]=()=>{S.value=!1})},null,8,["visibility"])],64)}}}),_o=l=>(Ie("data-v-f3f1f355"),l=l(),xe(),l),wo={key:0,class:"mt-2"},Ro={class:"text-end reason_skip--updateBy"},$o={key:0,class:"row w-100",style:{height:"25px"}},So=_o(()=>o("div",{class:"col-1"},null,-1)),Uo=le({__name:"InlineTask",props:{task:{type:Object,required:!0},taskIndex:{type:Number,required:!0},taskGroup:{type:Array,required:!0},isMonitoring:{type:Boolean,required:!0,default:!1}},setup(l){const s=l,e=c(()=>{let y=12,n=0;return s.task.items.every(f=>!t.isUndefined(f.style)&&f.style.visibility=="hidden"&&(t.isUndefined(f.style)||t.isUndefined(f.style.border)||f.style.border.left=="none")?(y=Number(y)-Number(f.style.breakPoint),n=Number(n)+Number(f.style.breakPoint),!0):!1),`col-${y} offset-${n}`}),d=c(()=>40),a=G(""),u=G(""),p=$e(),w=c(()=>{let y=!0;return s.task.showParameter=="suspensionCylinder"&&(y=!1,p.stateStoredSuspensionCylinderValue.forEach(n=>{(n.value=="Out of spec"||n.value=="Out Spec")&&(y=!0)})),s.task.showParameter=="cylinderHeightNeedAdjustment"&&(p.stateStoredAdjustmentOptionValue=="Yes"||p.stateStoredAdjustmentOptionValue=="2"?y=!0:y=!1),s.task.showParameter=="cylinderHeightAdjustmentsFilled"&&(y=!0,p.stateStoredAdjustedSuspensionCylinderValue.forEach(n=>{n.value||(y=!1)})),y=S(y),y}),S=y=>{let n=y;return p.SelectedBrakeTypeDropdown==vt.OIL_COOLED?s.task.showParameter==Ee.BRAKE_TYPE_CALIPER&&(n=!1):s.task.showParameter==Ee.BRAKE_TYPE_OIL_COOLED&&(n=!1),n},g=y=>{let n;return p.stateSelectedSubGroups.forEach(f=>{f.taskGroup.forEach(_=>{_.task.forEach(N=>{if(N.parentGroupTaskId==y){n=N;return}})})}),n},v=c(()=>{let y="";if(p.generalForm.status!="Open"){if(!s.isMonitoring)return y;if(s.task.category=="NORMAL"){const n=s.task.items.find(_=>_.itemType=="input"&&_.valueItemType!="comment"),f=s.task.items.find(_=>_.itemType=="dropDown");if(n&&f)return!n.value&&!f.value?"task-required":"";if(!n&&f&&!f.value)return"task-required"}if(Object.hasOwn(s.task,"groupTaskId")&&!Object.hasOwn(s.task,"parentGroupTaskId")&&!Object.hasOwn(s.task,"childGroupTaskId")){let n=s.task.items.find(_=>_.itemType=="input"&&!_.valueItemType&&!_.value);if(n||(n=s.task.items.find(_=>_.category=="cbmCalculateAvg"&&!_.value),n)||s.task.items.find(_=>_.categoryItemType=="dropdownTool")&&(n=s.task.items.find(_=>_.categoryItemType=="paramRatingDynamic"&&!_.value),n))return"task-required"}if(Object.hasOwn(s.task,"parentGroupTaskId")){const n=s.task.items.find(f=>f.categoryItemType=="brakeTypeDropdown");if(n){const f=s.task.items.find(_=>_.categoryItemType=="paramRatingDynamic");if(!n.value||n.value=="Oil Cooled"&&!(f!=null&&f.value))return"task-required"}}if(Object.hasOwn(s.task,"childGroupTaskId")){const n=g(s.task.childGroupTaskId);if(n){const f=n.items.find(_=>_.categoryItemType=="brakeTypeDropdown");if(f){if(f.value=="Caliper"){const _=s.task.items.find(N=>N.categoryItemType=="paramRatingDynamic");if(_&&!_.value)return"task-required"}else if(!f.value)return"task-required"}}}return Object.hasOwn(s.task,"rating")&&s.task.rating=="AUTOMATIC_PREVIOUS_GROUP"&&!Object.hasOwn(s.task,"parentGroupTaskId")&&!Object.hasOwn(s.task,"childGroupTaskId")&&s.task.items.find(f=>f.itemType=="input"&&!f.valueItemType&&!f.value)?"task-required":(Object.hasOwn(s.task,"taskValue")&&!s.task.taskValue&&!Object.hasOwn(s.task,"parentGroupTaskId")&&!Object.hasOwn(s.task,"childGroupTaskId")?y="task-required":y="",w.value||(y=""),y)}}),i=c(()=>{let y="",n;return s.task.items.length<=1?n=s.task.items[0]:n=s.task.items[1],!t.isUndefined(n.style)&&!t.isUndefined(n.style.border)&&n.style.border.top!="none"&&(y="mt-3"),y}),U=c(()=>{let y=0;return s.task.items.forEach((n,f)=>{if(f+1==s.task.items.length&&n.itemType=="dropDown"){const _=s.task.items[f-1];!t.isUndefined(_.style)&&!t.isUndefined(_.style.border)&&_.style.border.right!="none"&&s.task.items.forEach((N,M)=>{if(M>1&&M<=f-1){let W=0;if(!t.isUndefined(N.style.potraitBreakPoint))W=N.style.potraitBreakPoint;else{let b=0;N.style.breakPoint=="none"?(s.task.items.forEach((I,j)=>{I.style.breakPoint!="none"&&(b+=Number(I.style.breakPoint))}),W=12-b):W=N.style.breakPoint-b}y+=Number(W)}})}}),y}),R=c(()=>{let y=0;return s.task.items.forEach((n,f)=>{if(f+1==s.task.items.length&&n.itemType=="dropDown"){const _=s.task.items[f-1];!t.isUndefined(_.style)&&!t.isUndefined(_.style.border)&&_.style.border.right!="none"&&s.task.items.forEach((N,M)=>{if(M>1&&M<=f-1){let W=0,b=0;N.style.breakPoint=="none"?(s.task.items.forEach((I,j)=>{I.style.breakPoint!="none"&&(b+=Number(I.style.breakPoint))}),W=12-b):W=N.style.breakPoint-b,y+=Number(W)}})}}),y}),T=c(()=>{let y=!1,n=!1,f=!1;return s.task.items.forEach((_,N)=>{if(N==1&&!t.isUndefined(_.style)&&!t.isUndefined(_.style.border)&&_.style.border.left!="none"&&(y=!0,a.value=_.style.border.left,!t.isUndefined(_.style)&&!t.isUndefined(_.style.border)&&_.style.border.bottom!="none"&&(f=!0)),N+1==s.task.items.length&&_.itemType=="dropDown"){const M=s.task.items[N-1];!t.isUndefined(M.style)&&!t.isUndefined(M.style.border)&&M.style.border.right!="none"&&(n=!0,u.value=M.style.border.right)}}),y&&n&&!f}),P=c(()=>{var W,b,I,j,L,E;const y=s.task.items.find(K=>K.style.visibility!="hidden"),n=t.last(s.task.items),f=!t.isUndefined((W=s.task)==null?void 0:W.isShowReplacementRow)&&((b=s.task)==null?void 0:b.isShowReplacementRow),_=!t.isUndefined((I=s.task)==null?void 0:I.isShowAdjustmentRow)&&((j=s.task)==null?void 0:j.isShowAdjustmentRow),N=!t.isUndefined((L=s.task)==null?void 0:L.isShowCleanedRow)&&((E=s.task)==null?void 0:E.isShowCleanedRow);return!(f||_||N)&&!t.isUndefined(n.style)&&!t.isUndefined(n.style.border)&&n.style.border.bottom!="none"&&!t.isUndefined(y.style)&&!t.isUndefined(y.style.border)&&y.style.border.left!="none"}),D=c(()=>{var j,L,E,K,te,ce;const y=s.task.items.find(fe=>fe.style.visibility!="hidden"),n=t.last(s.task.items);let f=!t.isUndefined(n.style)&&!t.isUndefined(n.style.border)&&n.style.border.right!="none"?`border-right: ${n.style.border.right}; `:"",_=!t.isUndefined(y.style)&&!t.isUndefined(y.style.border)&&y.style.border.left!="none"?`border-left: ${y.style.border.left}; `:"",N=s.task.updatedBy.name&&!t.isUndefined(n.style)&&!t.isUndefined(n.style.border)&&n.style.border.bottom!="none"?"margin-bottom: 1rem; ":"";P.value&&(f="",_="");const M=!t.isUndefined((j=s.task)==null?void 0:j.isShowReplacementRow)&&((L=s.task)==null?void 0:L.isShowReplacementRow),W=!t.isUndefined((E=s.task)==null?void 0:E.isShowAdjustmentRow)&&((K=s.task)==null?void 0:K.isShowAdjustmentRow),b=!t.isUndefined((te=s.task)==null?void 0:te.isShowCleanedRow)&&((ce=s.task)==null?void 0:ce.isShowCleanedRow);return(M||W||b)&&(N=""),f?`${f}${_}${N}`:`${N}`}),O=c(()=>{var M,W,b,I,j,L;const y=t.last(s.task.items),n=!t.isUndefined((M=s.task)==null?void 0:M.isShowReplacementRow)&&((W=s.task)==null?void 0:W.isShowReplacementRow),f=!t.isUndefined((b=s.task)==null?void 0:b.isShowAdjustmentRow)&&((I=s.task)==null?void 0:I.isShowAdjustmentRow),_=!t.isUndefined((j=s.task)==null?void 0:j.isShowCleanedRow)&&((L=s.task)==null?void 0:L.isShowCleanedRow);return n||f||_||s.task.updatedBy.name&&!t.isUndefined(y.style)&&!t.isUndefined(y.style.border)&&y.style.border.bottom!="none"&&`${y.style.border.bottom}`,""}),J=c(()=>{let y="";return t.isUndefined(s.task.generalStyle)||(y=s.task.generalStyle),y}),V=c(()=>{let y="";const n=s.task.customStyle;return t.isUndefined(n)||n.split(" | ").forEach(_=>{_.includes("noteStyle")&&!t.isUndefined(s.taskGroup[s.taskIndex-1].updatedBy.name)&&s.taskGroup[s.taskIndex-1].updatedBy.name&&(y=`${y} ${_.split(" = ")[1]}`)}),y}),$=c(()=>s.task.items.findIndex(y=>y.customValidation=="preServiceTab")>=0),x=c(()=>{let y=s.task.reason||"";return y&&(y.includes("Other")?y=y.split(";;")[1]:y=y.split(";;")[0]),y});return(y,n)=>w.value?(r(),k(se,{key:0},[o("div",{class:Q(["row w-100",[i.value,v.value]]),style:Y([J.value,V.value])},[(r(!0),k(se,null,me(s.task.items,f=>(r(),k(se,{key:f.key},[f.itemType==="image"?(r(),z(St,{key:0,item:f,task:l.task},null,8,["item","task"])):C("",!0),f.itemType==="label"?(r(),z(Ut,{key:1,item:f,task:l.task},null,8,["item","task"])):C("",!0),f.itemType==="dropDown"?(r(),z(Ct,{key:2,item:f,task:l.task},null,8,["item","task"])):C("",!0),f.itemType==="input"?(r(),z(It,{key:3,item:f,task:l.task},null,8,["item","task"])):C("",!0),f.itemType==="smallCamera"?(r(),z(xt,{key:4,item:f,task:l.task},null,8,["item","task"])):C("",!0),f.itemType==="checkbox"?(r(),z(Bt,{key:5,item:f,task:l.task},null,8,["item","task"])):C("",!0),f.itemType==="html"?(r(),z(_t,{key:6,item:f,task:l.task},null,8,["item","task"])):C("",!0),f.itemType==="button"?(r(),z(Tt,{key:7,item:f,task:l.task},null,8,["item","task"])):C("",!0),f.itemType==="statusInfo"?(r(),z(wt,{key:8,item:f,task:l.task},null,8,["item","task"])):C("",!0),f.itemType=="smallNote"?(r(),z(Ia,{key:9,item:f,task:l.task},null,8,["item","task"])):C("",!0),f.itemType=="smallRepair"?(r(),z(wa,{key:10,item:f,task:l.task},null,8,["item","task"])):C("",!0)],64))),128))],6),$.value&&!A(t.isUndefined)(l.task.reason)&&l.task.reason!=""?(r(),k("div",wo,[F(Ae,{value:x.value,"label-class":"dma--textarea-label reason_skip--label","text-class":"dma--textarea-input h-100px reason_skip--text--disabled",label:"Reason",name:"reason",disabled:!0},null,8,["value"]),o("div",Ro,[l.task.updatedBy?(r(),k(se,{key:0},[ke(q(l.task.updatedBy.name)+", "+q(l.task.updatedDate),1)],64)):C("",!0)])])):(r(),k(se,{key:1},[l.task.updatedBy.name&&(!l.task.isShowReplacementRow||!l.task.replacement)?(r(),k("div",{key:0,class:"row position-absolute pe-3 text-nowrap",style:Y(`top: ${d.value}px; right: calc(var(--bs-gutter-x) / 2);`)},[o("div",{class:Q(["d-flex justify-content-end pb-1 my-0 timestamp-task",e.value]),style:Y([O.value])},q(l.task.updatedBy.name)+", "+q(l.task.updatedDate),7)],4)):C("",!0),l.task.isShowReplacementRow&&l.task.replacement?(r(),k("div",{key:1,class:"row position-absolute pe-3 text-nowrap",style:Y(`top: ${d.value}px; right: calc(var(--bs-gutter-x) / 2);`)},[o("div",{class:Q(["d-flex justify-content-end pb-1 my-0 timestamp-task",e.value]),style:Y([O.value])},q(l.task.items[6].updatedBy.name)+", "+q(l.task.items[6].updatedDate),7)],4)):C("",!0),l.task.updatedBy.name?(r(),k(se,{key:2},[P.value?C("",!0):(r(),k("div",$o,[T.value?(r(),k(se,{key:1},[So,o("div",{class:"col-1",style:Y(`border-left: ${a.value}`)},null,4),o("div",{class:Q(`col-md-${U.value} col-lg-${R.value}`),style:Y(`border-right: ${u.value}`)},null,6)],64)):(r(),k("div",{key:0,style:Y(D.value),class:Q(e.value)},null,6))]))],64)):C("",!0),l.task.isShowAdjustmentRow&&l.task.adjustment?(r(),z(za,{key:3,task:l.task},null,8,["task"])):C("",!0),l.task.isShowReplacementRow&&l.task.replacement?(r(),z(oo,{key:4,task:l.task},null,8,["task"])):C("",!0),l.task.isShowCleanedRow&&l.task.cleaned?(r(),z(go,{key:5,task:l.task},null,8,["task"])):C("",!0)],64))],64)):C("",!0)}}),Co=pe(Uo,[["__scopeId","data-v-f3f1f355"]]),Io=le({__name:"TableRow",props:{item:{type:Object,required:!0},task:{type:Object}},setup(l){const s=l,e=c(a=>{const u=[];for(const p in s.item)u.push(s.item[p]);return u}),d=a=>{let u="";return!t.isUndefined(a.style)&&!t.isUndefined(a.style.textvAlign)&&(u=`align-self-${a.style.textvAlign}`),u};return(a,u)=>(r(!0),k(se,null,me(e.value,p=>(r(),k("div",{class:Q([d(p),"col px-0"]),key:p.key},[p.itemType==="image"?(r(),z(St,{key:0,item:p,task:l.task},null,8,["item","task"])):C("",!0),p.itemType==="label"?(r(),z(Ut,{key:1,item:p,task:l.task},null,8,["item","task"])):C("",!0),p.itemType==="input"?(r(),z(It,{key:2,item:p,task:l.task},null,8,["item","task"])):C("",!0),p.itemType==="dropDown"?(r(),z(Ct,{key:3,item:p,task:l.task},null,8,["item","task"])):C("",!0),p.itemType==="smallCamera"?(r(),z(xt,{key:4,item:l.item,task:l.task},null,8,["item","task"])):C("",!0),l.item.itemType==="checkbox"?(r(),z(Bt,{key:5,item:l.item,task:l.task},null,8,["item","task"])):C("",!0),p.itemType==="html"?(r(),z(_t,{key:6,item:p,task:l.task},null,8,["item","task"])):C("",!0),l.item.itemType==="button"?(r(),z(Tt,{key:7,item:l.item,task:l.task},null,8,["item","task"])):C("",!0),l.item.itemType==="statusInfo"?(r(),z(wt,{key:8,item:l.item,task:l.task},null,8,["item","task"])):C("",!0)],2))),128))}}),xo={class:"row w-100 mx-0 mb-5"},Bo={key:0,class:"col-1 px-2"},To={class:"row text-center task-table__header py-2 w-100"},Po=le({__name:"TableTask",props:{task:{type:Object,required:!0}},setup(l){const s=l,e=c(()=>s.task.header.replaceAll("'","").replace("[","").replace("]","").split(", ")),d=a=>{let u="";return!t.isUndefined(s.task.style)&&!t.isUndefined(s.task.style.borderBottom)&&s.task.style.borderBottom=="none"?u="":u="border-bottom-table",a+1==s.task.items.length&&(u="border-bottom-table"),u};return(a,u)=>(r(),k("div",xo,[!A(t.isUndefined)(l.task.style)&&l.task.style.category=="taskTable"?(r(),k("div",Bo)):C("",!0),o("div",{class:Q(["task-table",!A(t.isUndefined)(l.task.style)&&l.task.style.category=="taskTable"?"col-11 px-0":"col-12 pe-0"]),style:{"font-size":"12px !important"}},[o("label",null,q(l.task.description),1),o("div",To,[(r(!0),k(se,null,me(e.value,p=>(r(),k("div",{class:"col font-weight-normal task-table__header__item",key:p},q(p),1))),128))]),(r(!0),k(se,null,me(l.task.items,(p,w)=>(r(),k("div",{key:p.key,class:Q(["row w-100 task-table__body d-flex align-items-start",d(w)])},[F(Io,{item:p,task:l.task},null,8,["item","task"])],2))),128))],2)]))}}),Pt=pe(Po,[["__scopeId","data-v-430433ff"]]),Do={class:"row w-100 mt-3 mb-3"},Ao={key:0,class:"col-1 px-2"},Eo={class:"small-hyperlink-text-style"},Oo=le({__name:"CollapsibleTableTask",props:{task:{type:Object,required:!0}},setup(l){const s=l,e=G("open"),d=$e(),a=c(()=>{let w=!0;return w=u(w),w}),u=w=>{let S=w;return d.SelectedBrakeTypeDropdown==vt.OIL_COOLED?s.task.showParameter==Ee.BRAKE_TYPE_CALIPER&&(S=!1):s.task.showParameter==Ee.BRAKE_TYPE_OIL_COOLED&&(S=!1),S},p=c(()=>{let w="";return!t.isUndefined(s.task.style)&&!t.isUndefined(s.task.style.defaultCollapse)&&(w=s.task.style.defaultCollapse),w});return(w,S)=>{const g=oe("el-collapse-item"),v=oe("el-collapse");return Pe((r(),k("div",Do,[!A(t.isUndefined)(l.task.style)&&l.task.style.collapseCategory=="taskTable"?(r(),k("div",Ao)):C("",!0),o("div",{class:Q(["task-table collapsible-table-container",!A(t.isUndefined)(l.task.style)&&l.task.style.collapseCategory=="taskTable"?"col-11 px-0":"col-12 pe-0"])},[F(v,{class:"task-group general-accordion py-1 px-5",modelValue:e.value,"onUpdate:modelValue":S[0]||(S[0]=i=>e.value=i)},{default:ee(()=>[F(g,{name:p.value},{title:ee(()=>[o("span",Eo,q(l.task.triggerCaption),1)]),default:ee(()=>[F(Pt,{task:l.task},null,8,["task"])]),_:1},8,["name"])]),_:1},8,["modelValue"])],2)],512)),[[Ot,a.value]])}}}),No=le({__name:"TaskGroup",props:{taskGroup:{type:Object,required:!0},isMonitoring:{type:Boolean,required:!0,default:!1}},setup(l){const s=l,e=re(()=>s.taskGroup.key),d=$e();return Se(()=>{if(s.taskGroup.key=="MECHANICAL_SERVICE_SUSPENSION"){let a=[],u=[];d.pushDataToSuspensionCylinderStoredValue([]),d.updateStoredAdjustmentOptionValue(""),d.pushDataToAdjustedSuspensionCylinderStoredValue([]),s.taskGroup.task.forEach(p=>{p.items.forEach(w=>{w.categoryItemType=="suspensionTargetRating"&&a.push({key:w.key,value:w.value}),w.categoryItemType=="adjustmentSuspensionRating"&&u.push({key:w.key,value:w.value})}),t.isUndefined(p.showParameter)||p.showParameter=="suspensionCylinder"&&d.updateStoredAdjustmentOptionValue(p.taskValue)}),d.pushDataToAdjustedSuspensionCylinderStoredValue(u),d.pushDataToSuspensionCylinderStoredValue(a)}}),(a,u)=>{const p=oe("el-collapse-item"),w=oe("el-collapse");return r(),z(w,{modelValue:A(e),"onUpdate:modelValue":u[0]||(u[0]=S=>ct(e)?e.value=S:null),class:"task-group e-form-only py-1 px-5 mb-3"},{default:ee(()=>[F(p,{title:l.taskGroup.name,name:l.taskGroup.key},{default:ee(()=>[(r(!0),k(se,null,me(s.taskGroup.task,(S,g)=>(r(),k("div",{key:S.key,class:"ps-3 position-relative"},[S.taskType=="inline"?(r(),z(Co,{key:0,task:S,"task-index":g,"task-group":l.taskGroup.task,"is-monitoring":l.isMonitoring},null,8,["task","task-index","task-group","is-monitoring"])):C("",!0),S.taskType==="table"?(r(),z(Pt,{key:1,task:S},null,8,["task"])):C("",!0),S.taskType=="collapsibleTable"?(r(),z(Oo,{key:2,task:S},null,8,["task"])):C("",!0)]))),128))]),_:1},8,["title","name"])]),_:1},8,["modelValue"])}}}),jo={class:"ps-0 mt-5"},Vo={class:"card"},Lo=le({__name:"SubGroup",props:{subGroup:{type:Object,required:!0},isMonitoring:{type:Boolean,required:!0,default:!1}},setup(l){const s=l,e=c(()=>{let d=s.subGroup.taskGroup;return console.log(d),dt.enableSkipPreservice||(d=d.filter(a=>a.key!="Skip_Preservice")),d});return(d,a)=>(r(),k("div",jo,[o("div",Vo,[(r(!0),k(se,null,me(e.value,u=>(r(),z(No,{key:u.key,"task-group":u,"is-monitoring":l.isMonitoring},null,8,["task-group","is-monitoring"]))),128))])]))}}),Go={key:0,class:"col-1 button"},Fo={class:"row justify-content-start"},Mo={key:1,class:"col-1 button"},qo={class:"row justify-content-end"},Ho=le({__name:"Footer",setup(l){const s=$e(),e=async()=>{const p=Ce.service({lock:!0,text:"Loading the page",background:"rgba(0, 0, 0, 0.7)"});await s.setShowNextPage(),window.scrollTo({top:0,behavior:"smooth"}),p.close()},d=async()=>{const p=Ce.service({lock:!0,text:"Loading the page",background:"rgba(0, 0, 0, 0.7)"});await s.setShowPrevPage(),window.scrollTo({top:0,behavior:"smooth"}),p.close()},a=c(()=>!(s.stateGroups.findIndex(w=>{var S;return w.groupName==((S=s.stateSelectedGroup)==null?void 0:S.groupName)})+1>=s.groups.length)),u=c(()=>s.stateGroups.findIndex(w=>{var S;return w.groupName==((S=s.stateSelectedGroup)==null?void 0:S.groupName)})!=0);return(p,w)=>{const S=oe("el-button");return r(),k("div",{class:Q(["row monitoring-status-footer mt-3",u.value&&a.value?"justify-content-between":a.value?"justify-content-end":"justify-content-start"])},[u.value?(r(),k("div",Go,[o("div",Fo,[F(S,{type:"success",onClick:d,style:{"background-color":"#18AF4A"}},{default:ee(()=>[ke("Previous")]),_:1})])])):C("",!0),a.value?(r(),k("div",Mo,[o("div",qo,[F(S,{type:"success",onClick:e,style:{"background-color":"#18AF4A"}},{default:ee(()=>[ke("Next")]),_:1})])])):C("",!0)],2)}}}),Wo={class:"col-3 py-1 text-center"},zo={class:"col-3 py-1 text-center border-left"},Jo={class:"col-3 py-1 text-center border-left"},Ko={class:"col-3 py-1 text-center border-left"},Yo=le({__name:"ServicePersonnel",props:["mechanic","mechanics"],setup(l){const s=l,e=re(()=>{const d=t.last(s.mechanics);return t.isEqual(s.mechanic,d)?"":"table-body"});return(d,a)=>(r(),k("div",{class:Q(["row service-labour",A(e)])},[o("div",Wo,q(l.mechanic.mechanic.name),1),o("div",zo,q(l.mechanic.shift),1),o("div",Jo,q(l.mechanic.serviceStart),1),o("div",Ko,q(l.mechanic.serviceEnd),1)],2))}}),ye=l=>(Ie("data-v-29aa554a"),l=l(),xe(),l),Xo={class:"mt-5 ps-0"},Qo={key:0,class:"subtitle ps-3"},Zo={key:1,class:"subtitle ps-3"},el={class:"p-2 me-0"},tl={class:"row",style:{width:"101%"}},sl={class:"col-12 pe-0"},al=ye(()=>o("div",{class:"p-2 me-0"},[o("div",{class:"row",style:{width:"101%"}},[o("div",{class:"col-6 pe-0"},[o("div",{class:"form-floating mb-3",style:{position:"relative !important"}},[o("input",{type:"text",class:"form-control",disabled:"",value:""}),o("label",{for:"floatingInput",class:"text-nowrap"},"Actual Service Start (each labour personnel)")])]),o("div",{class:"col-6 pe-0"},[o("div",{class:"form-floating mb-3",style:{position:"relative !important"}},[o("input",{type:"text",class:"form-control no-float",disabled:"",value:""}),o("label",{for:"floatingInput"},"Shift")])])])],-1)),ol=ye(()=>o("h4",{class:"subtitle ps-3"},"Equipment Information",-1)),ll={class:"d-flex flex-row justify-content-between"},nl={class:"p-2 d-flex flex-row flex-grow-1"},rl={class:"d-flex w-100"},il={class:"flex-fill"},dl={class:"form-floating mb-3"},ul=["value"],cl=ye(()=>o("label",null,"Unit Number",-1)),ml={class:"flex-fill ps-3"},fl={class:"form-floating mb-3"},vl=["value"],pl=ye(()=>o("label",{for:"floatingInput"},"Serial Number",-1)),yl={class:"flex-fill ps-3"},bl={class:"form-floating mb-3"},kl=["value"],hl=ye(()=>o("label",{for:"floatingInput"},"Work Order",-1)),gl={class:"flex-fill ps-3"},_l={class:"form-floating mb-3 position-relative"},wl=["value"],Rl=ye(()=>o("label",{for:"floatingInput2",class:"text-nowrap"},"Machine SMU",-1)),$l={key:0,class:"ms-2 position-absolute",style:{top:"2px",right:"0"}},Sl=ye(()=>o("img",{src:Wt,style:{width:"1.25rem",height:"1.25rem"}},null,-1)),Ul=[Sl],Cl={key:0,class:"text-danger ps-2 font-weight-bold"},Il={key:0,class:"ms-2"},xl={class:"p-3 justify-items-center rounded",style:{background:"#18AF4A"}},Bl={key:1,class:"d-flex flex-row justify-content-end timestamp-task"},Tl={class:"d-flex flex-row justify-content-between"},Pl={class:"p-2 d-flex flex-row flex-grow-1"},Dl={class:"d-flex w-100"},Al={class:"flex-fill"},El={class:"form-floating mb-3"},Ol=["value"],Nl=ye(()=>o("label",{for:"floatingInput"},"Actual Service Start",-1)),jl={class:"flex-fill ps-3"},Vl={class:"form-floating mb-3"},Ll=["value"],Gl=ye(()=>o("label",{for:"floatingInput"},"Hour Meter Offset",-1)),Fl={key:0,class:"d-flex",style:{"flex-basis":"40%"}},Ml={class:"flex-fill ps-3"},ql={class:"form-floating mb-3"},Hl=["value"],Wl=ye(()=>o("label",{for:"floatingInput2",class:"text-nowrap"},"Travel Hours",-1)),zl={key:0,class:"ms-2"},Jl={class:"p-3 justify-items-center rounded",style:{background:"#18AF4A"}},Kl={class:"d-flex flex-row justify-content-between"},Yl={class:"p-2 d-flex flex-row flex-grow-1"},Xl={class:"d-flex w-100"},Ql={class:"flex-fill"},Zl={class:"form-floating mb-3"},en=["value"],tn=ye(()=>o("label",{for:"floatingInput"},"Actual Service Finish",-1)),sn={key:0,class:"d-flex",style:{"flex-basis":"40%"}},an={class:"flex-fill ps-3"},on={class:"form-floating mb-3"},ln=["value"],nn=ye(()=>o("label",{for:"floatingInput2",class:"text-nowrap"},"Swing Hours",-1)),rn={key:0,class:"ms-2"},dn={class:"p-3 justify-items-center rounded",style:{background:"#18AF4A"}},un=ye(()=>o("h4",{class:"subtitle ps-3 service-labour"},"Service Labour Personnel",-1)),cn={class:"me-0 previous-crack-container word-breaker px-3 pt-0 ms-2"},mn=ye(()=>o("div",{class:"row table-header-background-color p-2 border-bottom"},[o("div",{class:"col-3 text-center"},"Name"),o("div",{class:"col-3 text-center"},"Shift"),o("div",{class:"col-3 text-center"},"Start Date"),o("div",{class:"col-3 text-center"},"Finish Date")],-1)),fn=le({__name:"EquipmentInformation",props:{data:{required:!0,type:Object},viewEmpty:{type:Boolean,required:!1,default:!1}},setup(l){const s=l,e=Zt(),d=ht(),a=Ke(),u=kt(),p=$e(),w=Be(),S=Rt(),g=G("Equipment Information"),v=G({name:"",id:""}),i=G(""),U=G(!1),R=c(()=>{var X;const H=(X=s.data)==null?void 0:X.imageEquipment;return t.isUndefined(H)?[]:H==""?[]:ge(H)}),T=c(()=>{var X;const H=(X=s.data)==null?void 0:X.travelHourImages;return t.isUndefined(H)?[]:H==""?[]:ge(H)}),P=c(()=>{var X;const H=(X=s.data)==null?void 0:X.swingHourImages;return t.isUndefined(H)?[]:H==""?[]:ge(H)}),D=()=>{U.value=!0},O=c(()=>{const H=e.smuActual,X=e.smuTolerance;return Number(Number(H)+Number(X.min))}),J=c(()=>{const H=e.smuActual,X=e.smuTolerance;return Number(Number(H)+Number(X.max))}),V=c(()=>{var de,ue;let H=Le(t.cloneDeep((de=s.data)==null?void 0:de.smu));const X=Number(H)+Number(ae.value)>=O.value,ve=Number(H)+Number(ae.value)<=J.value;let he=Fe.STATUS_NOT_IN_RANGE;return X&&ve&&(he=Fe.STATUS_IN_RANGE),{title:Fe.TITLE(he),machineSMU:(ue=s.data)==null?void 0:ue.smu,minRange:O.value,maxRange:J.value,smuDue:e.smuActual,assetNumber:B.value.equipment,serialNumber:B.value.serialNumber,images:JSON.stringify(R.value),hmOffset:B.value.hmOffset,key:"",type:"",reason:""}}),$=c(()=>({id:s.data.id,workOrder:s.data.workOrder,form:s.data.form,smuDue:e.smuActual,equipment:s.data.equipment,serialNumber:B.value.serialNumber,imageEquipment:JSON.stringify(B.value.imageEquipment),localStatus:s.data.status})),x=c(()=>{const H=d.Ownership;return Kt(H)}),y=G(!1),n=()=>{y.value=!0},f=()=>{y.value=!1},_=G(!1),N=()=>{_.value=!0},M=()=>{_.value=!1},W=G(!1),b=()=>{W.value=!0},I=()=>{W.value=!1},j=us.SMU_REVISE,L=c(()=>{const H=u.ImageObjects.find(X=>X.Id===j);return t.cloneDeep(H)}),E=c(()=>({isError:a.stateErrorMessage!="",messages:a.stateErrorMessage})),K=c(()=>{var H;return v.value.name?v.value:(H=s.data)==null?void 0:H.smuBy}),te=c(()=>{var H;return i.value!=""?i.value:(H=s.data)==null?void 0:H.smuDate}),ce=()=>{a.resetErrorStatus()},fe=()=>{u.toggleIsVisible(!0,j)},m=()=>{u.reset()},h=G({smu:""}),B=c(()=>s.data),ae=c(()=>B.value.status=="Open"?"":t.isUndefined(B.value.hmOffset)||t.isNull(B.value.hmOffset)||B.value.hmOffset==""?"Not Applicable":B.value.hmOffset),Z=async H=>{const X=Le(H);i.value=vs(),v.value={id:w.user.EmployeeId,name:w.user.Name},p.updateSMUONGeneral({value:X,smuBy:v.value,smuDate:i.value})},ne=async H=>{const X=!H.newDetail.title.toLowerCase().includes("not");Z(H.newDetail.machineSMU),t.isEqual(R.value,JSON.parse(H.newDetail.images))||p.updateSMUImages(JSON.parse(H.newDetail.images)),await S.updateSMUDefect({val:Le(H.newDetail.machineSMU),hmOffset:String(B.value.hmOffset),range:{MinRange:O.value,MaxRange:J.value},smuDate:i.value,isInRange:X,employee:{id:w.user.EmployeeId,name:w.user.Name},generalData:$.value}),p.getTaskProgress(),H.callback()},we=c(()=>{const H=Yt(),X=!t.isUndefined(B.value.smuBy)&&!t.isUndefined(B.value.smuDate),ve=B.value.status=="Close"&&B.value.defectStatus=="Completed",he=B.value.statusHistory.filter(ue=>ue.status=="Completed");let de=!1;if(he.length==1){const ue=cs(he[0].updatedDate);de=ms(void 0,fs(ue,3,"months","DD/MM/YY HH:mm:ss"))}return H&&X&&ve&&de});return(H,X)=>{const ve=oe("el-collapse-item"),he=oe("el-collapse");return r(),k(se,null,[o("div",Xo,[F(he,{modelValue:g.value,"onUpdate:modelValue":X[0]||(X[0]=de=>g.value=de),class:"general-accordion task-group py-1 px-5 mb-3"},{default:ee(()=>[F(ve,{name:"Equipment Information"},{title:ee(()=>[l.viewEmpty?(r(),k("h4",Zo,"Service Labour Personnel")):(r(),k("h4",Qo,"Equipment Information"))]),default:ee(()=>[l.viewEmpty?(r(),k(se,{key:0},[o("div",el,[o("div",tl,[o("div",sl,[F(is,{ref:"selectFitter","field-label":"Labour Personnel Name",placeholder:"Select your name",data:[],value:"","display-label":!0,disabled:!0},null,512)])])]),al,ol],64)):C("",!0),o("div",ll,[o("div",nl,[o("div",rl,[o("div",il,[o("div",dl,[o("input",{type:"text",class:"form-control",disabled:"",value:B.value.equipment},null,8,ul),cl])]),o("div",ml,[o("div",fl,[o("input",{type:"text",class:"form-control",disabled:"",value:B.value.serialNumber},null,8,vl),pl])]),o("div",yl,[o("div",bl,[o("input",{type:"text",class:"form-control",disabled:"",value:B.value.workOrder},null,8,kl),hl])]),o("div",gl,[o("div",_l,[o("input",{type:"text",class:"form-control",placeholder:"Machine SMU",disabled:"",value:A(Ge)(B.value.smu)},null,8,wl),Rl,we.value?(r(),k("div",$l,[o("button",{class:"btn p-4 justify-items-center rounded cursor-pointer svg-icon svg-icon-btech-primary-500",onClick:D},Ul)])):C("",!0)]),h.value.smu?(r(),k("label",Cl,q(h.value.smu),1)):C("",!0)]),R.value.length>0?(r(),k("div",Il,[o("div",xl,[o("span",{style:{"font-weight":"700",color:"white"},onClick:n},"+"+q(R.value.length),1)])])):C("",!0)])])]),K.value&&te.value?(r(),k("div",Bl,q(K.value.name)+", "+q(te.value),1)):C("",!0),o("div",Tl,[o("div",Pl,[o("div",Dl,[o("div",Al,[o("div",El,[o("input",{type:"text",class:"form-control",disabled:"",value:B.value.serviceStart},null,8,Ol),Nl])]),o("div",jl,[o("div",Vl,[o("input",{type:"text",class:"form-control",disabled:"",value:ae.value},null,8,Ll),Gl])]),A(t.isUndefined)(l.data.travelHour)?C("",!0):(r(),k("div",Fl,[o("div",Ml,[o("div",ql,[o("input",{type:"text",class:"form-control",placeholder:"Travel Hours",disabled:"",value:A(Ge)(B.value.travelHour)},null,8,Hl),Wl])]),T.value.length>0?(r(),k("div",zl,[o("div",Jl,[o("span",{style:{"font-weight":"700",color:"white"},onClick:b},"+"+q(T.value.length),1)])])):C("",!0)]))])])]),o("div",Kl,[o("div",Yl,[o("div",Xl,[o("div",Ql,[o("div",Zl,[o("input",{type:"text",class:"form-control",disabled:"",value:B.value.serviceEnd},null,8,en),tn])]),A(t.isUndefined)(l.data.swingHour)?C("",!0):(r(),k("div",sn,[o("div",an,[o("div",on,[o("input",{type:"text",class:"form-control",placeholder:"Swing Hours",disabled:"",value:A(Ge)(B.value.swingHour)},null,8,ln),nn])]),P.value.length>0?(r(),k("div",rn,[o("div",dn,[o("span",{style:{"font-weight":"700",color:"white"},onClick:N},"+"+q(P.value.length),1)])])):C("",!0)]))])])]),l.viewEmpty?C("",!0):(r(),k(se,{key:2},[un,o("div",cn,[mn,(r(!0),k(se,null,me(B.value.servicePersonnels,de=>(r(),z(Yo,{key:de.key,mechanic:de,mechanics:B.value.servicePersonnels},null,8,["mechanic","mechanics"]))),128))])],64))]),_:1})]),_:1},8,["modelValue"])]),F(Ve,{images:R.value,visibility:y.value,onOnClose:f},null,8,["images","visibility"]),F(Ve,{images:T.value,visibility:W.value,onOnClose:I},null,8,["images","visibility"]),F(Ve,{images:P.value,visibility:_.value,onOnClose:M},null,8,["images","visibility"]),F(ds,{show:U.value,"onUpdate:show":X[1]||(X[1]=de=>U.value=de),detailDefect:V.value,ownership:x.value,"view-only":!1,"error-status":E.value,isFitter:!0,"cameras-image":L.value,onUpdateDefectDetailSMU:ne,onRetakePhoto:fe,onResetPhoto:m,onResetErrorStatus:ce},null,8,["show","detailDefect","ownership","error-status","cameras-image"])],64)}}}),vn=pe(fn,[["__scopeId","data-v-29aa554a"]]),pn={class:"ps-2 justify-content-start"},yn={class:"p-2 row justify-content-between"},bn={class:"col-7 form-check checkbox-success"},kn=["disabled","id"],hn=["for"],gn={class:"col-5 text-end"},_n=le({__name:"CheckBoxItem",props:{item:{required:!0,type:Object},index:{type:Number},isAggrementChecked:{type:Boolean,default:!1}},setup(l){const s=l,e=ie(s,"item"),d=Ye(),a=Te(),u=Be(),p=c(()=>{const v=e.value.value=="true"||e.value.value==!0,i=d.generalForm&&d.generalForm.status=="Submited";return!s.isAggrementChecked||v||i}),w=c({get:()=>s.item.value,set:v=>{let i=a.generalForm.checkBeforeTruck.items.find(U=>U.key==s.item.key);i&&(i.value=v),S()}}),S=async()=>{const v=Ce.service({lock:!0,text:"Updating",background:"rgba(0, 0, 0, 0.7)"}),i={keyValue:e.value.key,propertyParams:[{propertyName:"value",propertyValue:e.value.value},{propertyName:"updatedDate",propertyValue:"<<ServerDateTime>>"}]};await d.postCheckBeforeTruckItem(i,e.value.key)&&await a.postGenerateServiceSheet(u.user.EmployeeId,u.user.Name,u.user.SiteId),v.close()},g=c(()=>{var i,U;let v="";return!t.isUndefined(s.item.updatedDate)&&!t.isUndefined((i=s.item.updatedBy)==null?void 0:i.name)&&(v=`${(U=s.item.updatedBy)==null?void 0:U.name}, ${s.item.updatedDate}`),v});return(v,i)=>(r(),k("div",pn,[o("div",yn,[o("div",bn,[Pe(o("input",{class:"form-check-input",type:"checkbox",disabled:p.value,"onUpdate:modelValue":i[0]||(i[0]=U=>w.value=U),id:l.item.caption},null,8,kn),[[He,w.value]]),o("label",{class:"form-check-label subtitle",for:l.item.caption},q(l.item.caption),9,hn)]),o("div",gn,q(g.value),1)])]))}}),wn=pe(_n,[["__scopeId","data-v-47850253"]]),Dt=l=>(Ie("data-v-28aa810c"),l=l(),xe(),l),Rn=Dt(()=>o("span",{class:"el-dialog__title"},"You may now enter the service without completing the wash checks",-1)),$n={class:"mt-1 p-2"},Sn={class:"d-flex flex-column"},Un=Dt(()=>o("label",{class:"reason_skip--label"},[ke("Reason "),o("span",{class:"red"},"*")],-1)),Cn={key:0,class:"px-1 text-danger"},In={key:0,class:"mt-1 p-2"},xn={class:"dialog-footer",style:{display:"block","text-align":"right"}},Bn=le({__name:"ReasonDialog",props:{visibility:{required:!0,type:Boolean},options:{required:!1,type:Array,default:[]}},emits:["onClose","onSave","onCancel"],setup(l,{emit:s}){const e=l,d=s,a=bs(),u=Ye(),p=ie(e,"visibility"),w=G(!1),S=G(!1),g=G(!1),v=G(""),i=G(""),U=G(!1),R=G(!0),T=G(!1),P=c(()=>a.stateSubmitConnectionError);_e(P,n=>{n==!0?S.value=!0:S.value=!1}),_e(()=>u.ReasonUpdated,n=>{n&&(w.value=!0,setTimeout(()=>{w.value=!1,d("onClose")},2e3))});const D=()=>{v.value&&(T.value=!1),U.value=v.value.includes("Other"),U.value?(i.value="",R.value=!0):R.value=!1},O=n=>{i.value=n.value,R.value=i.value===""},J=()=>{v.value?V():T.value=!0},V=async()=>{d("onSave",{selectedReason:v.value,desc:i.value})},$=()=>{d("onCancel")},x=()=>{S.value=!1,g.value=!1},y=async()=>{v.value="",i.value="",U.value=!1,T.value=!1,w.value=!1,S.value=!1,d("onClose")};return(n,f)=>{const _=oe("el-option"),N=oe("el-select"),M=oe("el-button"),W=oe("el-dialog");return r(),z(W,{modelValue:p.value,"onUpdate:modelValue":f[1]||(f[1]=b=>p.value=b),width:"90%",center:"","close-on-click-modal":!1,"close-on-press-escape":!1,"lock-scroll":!1,"before-close":$,onClosed:y,"custom-class":"el-defect-crack-form-custom reason-dialog","destroy-on-close":!0},{title:ee(()=>[Rn]),footer:ee(()=>[o("span",xn,[F(M,{onClick:$,style:{"box-shadow":"0px 24px 48px rgba(145, 158, 171, 0.2)"}},{default:ee(()=>[ke("Cancel")]),_:1}),F(M,{disabled:R.value,class:"button-OK-confirmation",type:"success",onClick:Nt(J,["prevent"]),style:{background:"rgb(24, 175, 74)","box-shadow":"rgba(0, 171, 85, 0.24) 0px 8px 16px",color:"white"}},{default:ee(()=>[ke("Submit")]),_:1},8,["disabled"])])]),default:ee(()=>[o("div",null,[o("div",$n,[o("div",Sn,[Un,F(N,{modelValue:v.value,"onUpdate:modelValue":f[0]||(f[0]=b=>v.value=b),filterable:"",onChange:D,class:"w-100"},{default:ee(()=>[(r(!0),k(se,null,me(l.options,b=>(r(),z(_,{key:b.id,label:b,value:b},null,8,["label","value"]))),128))]),_:1},8,["modelValue"]),T.value?(r(),k("label",Cn,"Required")):C("",!0)])]),U.value?(r(),k("div",In,[F(Ae,{"label-class":"dma--textarea-label reason_skip--label","text-class":"dma--textarea-input h-100px reason_skip--text",value:i.value,label:"Description <span class='red'>*</span>",name:"Description",placeholder:"Write Reason",onHandleChange:O},null,8,["value"])])):C("",!0)]),F(ps,{visibility:w.value,caption:"Now you can enter the service without completing the wash checks"},null,8,["visibility"]),F(ys,{show:S.value,onClose:x,"title-pop-up":"No internet connection"},null,8,["show"])]),_:1},8,["modelValue"])}}}),Tn=pe(Bn,[["__scopeId","data-v-28aa810c"]]),Pn={class:"ps-2 justify-content-start"},Dn={class:"p-2 row justify-content-between"},An={class:"col-7 form-check checkbox-success"},En=["disabled","id"],On=["for"],Nn={class:"text-end reason_skip--updateBy"},jn={key:1,class:"border my-3"},Vn=le({__name:"CheckBoxItemWithDialog",props:{item:{required:!0,type:Object},lastIndex:{type:Boolean},isAggrementChecked:{type:Boolean,default:!1}},setup(l){const s=l,e=ie(s,"item"),d=G(!1),a=Ye(),u=Te(),p=Be();let w={},S=!1;const g=$=>{S=$},v=c({get:()=>s.item.value,set:$=>{i($)}}),i=$=>{let x=u.generalForm.checkBeforeTruck.items.find(y=>y.key==s.item.key);x&&(x.value=$)},U=$=>{$.target.checked==!0?(d.value=!0,g(!0)):J({selectedReason:"",desc:"",reset:!0})},R=c(()=>e.value.reason?e.value.reason.includes("Other")?e.value.reason.split(";;")[1]:e.value.reason.split(";;")[0]:""),T=c(()=>{const $=a.generalForm&&a.generalForm.status=="Submited";return!s.isAggrementChecked||a.AllWashChecked||a.generalUpdated||$}),P=$=>{$&&J($)},D=()=>{d.value=!1},O=()=>{v.value="false",g(!1),D()},J=async $=>{const x=Ce.service({lock:!0,text:"Updating",background:"rgba(0, 0, 0, 0.7)"});let y=`${$.selectedReason};;${$.desc}`,n="true",f="<<ServerDateTime>>";$.reset&&(y="",n="false",f="",w.updatedBy={},w.updatedDate=""),w=t.cloneDeep(e.value),w.value=t.cloneDeep(n),w.reason=t.cloneDeep(y);let _={keyValue:e.value.key,propertyParams:[{propertyName:"value",propertyValue:n},{propertyName:"reason",propertyValue:y},{propertyName:"updatedDate",propertyValue:f}]};await a.postCheckBeforeTruckItem(_,e.value.key,$.reset)?($.reset?v.value="true":v.value="false",D(),await u.postGenerateServiceSheet(p.user.EmployeeId,p.user.Name,p.user.SiteId),x.close()):(v.value=n,e.value.reason=y,a.setSkipWash(n),x.close(),$.reset?a.setReasonUpdated(!1):a.setReasonUpdated(!0))},V=c(()=>{var x,y;let $="";return!t.isUndefined(e.value.updatedDate)&&!t.isUndefined((x=e.value.updatedBy)==null?void 0:x.name)&&($=`${(y=e.value.updatedBy)==null?void 0:y.name}, ${e.value.updatedDate}`),$});return _e(v,($,x)=>{(!$||$=="false")&&x&&(S?i(x):O())},{deep:!0}),_e(R,($,x)=>{!$&&x&&w&&(e.value.value=w.value,e.value.reason=w.reason,e.value.updatedBy=w.updatedBy,e.value.updatedDate=w.updatedDate,e.value.value&&e.value.value=="true"&&a.setSkipWash("true"))},{deep:!0}),_e(V,($,x)=>{$&&(w.updatedBy=t.cloneDeep(s.item.updatedBy),w.updatedDate=t.cloneDeep(s.item.updatedDate))},{deep:!0}),mt(()=>{g(!1),w={}}),($,x)=>(r(),k("div",Pn,[o("div",Dn,[o("div",An,[Pe(o("input",{class:"form-check-input",type:"checkbox",disabled:T.value,id:l.item.caption,"onUpdate:modelValue":x[0]||(x[0]=y=>v.value=y),onChange:U},null,40,En),[[He,v.value]]),o("label",{class:"form-check-label subtitle",for:l.item.caption},q(l.item.caption),9,On)])]),(e.value.value=="true"||e.value.value)&&e.value.reason!=""?(r(),k(se,{key:0},[F(Ae,{value:R.value||"","label-class":"dma--textarea-label reason_skip--label","text-class":"dma--textarea-input h-100px reason_skip--text--disabled",label:"Reason",name:"reason",disabled:!0},null,8,["value"]),o("div",Nn,q(V.value),1)],64)):C("",!0),l.lastIndex?C("",!0):(r(),k("div",jn)),F(Tn,{options:l.item.reasonList,visibility:d.value,onOnSave:P,onOnClose:D,onOnCancel:O},null,8,["options","visibility"])]))}}),Ln=pe(Vn,[["__scopeId","data-v-ae3ae958"]]),Gn={class:"p-2 check-truck-info d-flex"},Fn={class:"form-check p-0 icon"},Mn=["src"],qn={class:"form-check text ps-6"},Hn=["innerHTML"],Wn=le({__name:"CheckTruckInfo",props:{item:{required:!0,type:Object}},setup(l){const e=ie(l,"item"),d=G(!0),a=G("");return Oe(async()=>{if(e.value.icon){const u={id:e.value.icon.value,ver:"v1"};try{const S=(await Ne.getBlob("https://digital-bumaau-dev-apm-001.azure-api.net/utility/api/master_attachment/download_by_id","",new URLSearchParams(u).toString())).data,g=new Blob([S]),v=window.URL||window.webkitURL;a.value=v.createObjectURL(g),d.value=!1}catch{d.value=!1}}}),(u,p)=>{const w=ut("loading");return r(),k("div",Gn,[o("div",Fn,[Pe(o("img",{src:a.value,class:"img-fluid"},null,8,Mn),[[w,d.value]])]),o("div",qn,[o("span",{innerHTML:e.value.value},null,8,Hn)])])}}}),zn=pe(Wn,[["__scopeId","data-v-2ce1d8f3"]]),Jn={key:0,class:"mt-5 ps-0"},Kn="WASH AND CHECKS BEFORE MACHINE ENTERS THE WORKSHOP:",Yn="WASH AND CHECK BEFORE MACHINE ENTERS THE WORKSHOP OR SHUTDOWN AREA:",Xn="WASH AND CHECK BEFORE MACHINE ENTERS THE SHUTDOWN AREA:",Qn=le({__name:"CheckBeforeTruck",props:{data:{required:!0,type:Object},general:{required:!0,type:Object}},setup(l){const s=l,e=G(""),d=c(()=>{let u="";return t.isUndefined(s.data.taskGroupName)?(u=Xt(s.general.modelId)?Yn:"",u||(u=Qt(s.general.modelId)?Xn:Kn),u):s.data.taskGroupName}),a=()=>{e.value=d.value};return Se(()=>{a()}),_e(()=>{var u;return(u=s.general)==null?void 0:u.modelId},()=>{a()}),(u,p)=>{const w=oe("el-collapse-item"),S=oe("el-collapse");return l.data.items.length>0?(r(),k("div",Jn,[F(S,{modelValue:e.value,"onUpdate:modelValue":p[0]||(p[0]=g=>e.value=g),class:"task-group general-accordion py-1 px-5 mb-3"},{default:ee(()=>[F(w,{title:d.value,name:d.value},{default:ee(()=>[(r(!0),k(se,null,me(l.data.items,(g,v)=>(r(),k(se,{key:g.key},[g.itemType=="html"?(r(),z(zn,{key:0,item:g},null,8,["item"])):g.category!="skipOtherWash"?(r(),z(wn,{key:1,item:g,index:v,"is-aggrement-checked":!1},null,8,["item","index"])):C("",!0),g.category=="skipOtherWash"?(r(),z(Ln,{key:2,item:g,"last-index":v==l.data.items.length-1,"is-aggrement-checked":!1},null,8,["item","last-index"])):C("",!0)],64))),128))]),_:1},8,["title","name"])]),_:1},8,["modelValue"])])):C("",!0)}}}),Zn=pe(Qn,[["__scopeId","data-v-0fbe881a"]]),er=le({__name:"Index",props:{general:{required:!0,type:Object},viewEmpty:{type:Boolean,required:!1,default:!1}},setup(l){const s=l,e=c(()=>(console.log(s.general),s.general));return(d,a)=>(r(),k(se,null,[F(vn,{data:e.value,"view-empty":l.viewEmpty},null,8,["data","view-empty"]),F(ns,{data:e.value.safetyPrecaution},null,8,["data"]),F(rs,{ready:!0,data:e.value.riskAssesment},null,8,["data"]),F(Zn,{data:e.value.checkBeforeTruck,general:e.value},null,8,["data","general"])],64))}}),Qe=l=>(Ie("data-v-3096bd0a"),l=l(),xe(),l),tr={class:"el-dialog__title"},sr={key:0,class:"status-badge-dialog-header approved-badge p-1"},ar={key:1,class:"status-badge-dialog-header declined-badge p-1"},or=["innerHTML"],lr={class:"mt-1 p-2"},nr={class:"d-flex flex-column"},rr=Qe(()=>o("h4",{class:"title ps-3"},"Reason",-1)),ir={key:0,class:"mt-1 p-2"},dr={key:1,class:"mt-1 py-2"},ur={class:"row mb-1"},cr={class:"col"},mr=Qe(()=>o("div",{class:"form-floating approved-text-box"},[o("div",{class:"form-control",style:{"white-space":"break-spaces"}},"This information has been approved"),o("label",null,"Confirmed")],-1)),fr={key:0,class:"mb-2 text-end status-description-text-box-timestamp"},vr={key:2,class:"mt-1 py-2"},pr={class:"row mb-1"},yr={class:"col"},br={class:"form-floating declined-text-box"},kr={class:"form-control",style:{"white-space":"break-spaces"}},hr=Qe(()=>o("label",null,"Declined",-1)),gr={key:0,class:"mb-2 text-end status-description-text-box-timestamp"},_r=le({__name:"ViewOnlyNAForm",props:{visibility:{required:!0,type:Boolean},isIntervention:{required:!1,type:Boolean,default:!1}},emits:["close"],setup(l,{emit:s}){const e=l,d=s,a=Je(),u=Rt(),p=ks(),w=yt(),S=ie(e,"visibility"),g=G(null),v=c(()=>a.Details),i=c(()=>u.ApprovalDefect),U=()=>{bt(g.value)},R=c(()=>{var O;return(O=v.value)==null?void 0:O.reason.split(":")[0]}),T=c(()=>{var O;return(O=v.value)==null?void 0:O.reason.split(":")[0].includes("Other")}),P=c(()=>{var J;const O=(J=v.value)==null?void 0:J.reason.split(":");return O.length>=2?O.slice(1).join(":"):""}),D=async()=>{u.setApprovalData({}),d("close"),a.resetInstance(),p.resetInstance()};return(O,J)=>{const V=oe("el-option"),$=oe("el-select"),x=oe("el-dialog");return r(),z(x,{modelValue:S.value,"onUpdate:modelValue":J[1]||(J[1]=y=>S.value=y),width:"90%",center:"",onOpened:U,onClosed:D,"destroy-on-close":!0,"custom-class":"el-defect-crack-form-custom"},{title:ee(()=>[o("span",tr,[ke("Not Applicable "),i.value&&i.value.cbmNAStatus=="Confirmed"?(r(),k("span",sr,"Confirmed")):i.value&&i.value.cbmNAStatus=="Decline"?(r(),k("span",ar,"Declined")):C("",!0)]),o("span",{class:"el-dialog__title task-title",innerHTML:A(ft)(v.value.title,l.isIntervention),ref_key:"defectDetailRef",ref:g},null,8,or)]),default:ee(()=>[o("div",lr,[o("div",nr,[rr,F($,{modelValue:R.value,"onUpdate:modelValue":J[0]||(J[0]=y=>R.value=y),disabled:!0,class:"w-100"},{default:ee(()=>[(r(!0),k(se,null,me(A(w).NAConditions,y=>(r(),z(V,{key:y.id,label:y.naCondition,value:y.naCondition},null,8,["label","value"]))),128))]),_:1},8,["modelValue"])])]),T.value?(r(),k("div",ir,[F(Ae,{value:P.value,label:"Why not applicable item task?",name:"Reason",disabled:!0},null,8,["value"])])):C("",!0),i.value&&i.value.cbmNAStatus=="Confirmed"?(r(),k("div",dr,[o("div",ur,[o("div",cr,[mr,i.value.approvedBy&&i.value.approvedDate?(r(),k("div",fr,q(i.value.approvedBy.name)+", "+q(i.value.approvedDate),1)):C("",!0)])])])):i.value&&i.value.cbmNAStatus=="Decline"&&i.value.declineReason?(r(),k("div",vr,[o("div",pr,[o("div",yr,[o("div",br,[o("div",kr,q(i.value.declineReason),1),hr]),i.value.declineBy&&i.value.declineDate?(r(),k("div",gr,q(i.value.declineBy.name)+", "+q(i.value.declineDate),1)):C("",!0)])])])):C("",!0)]),_:1},8,["modelValue"])}}}),wr=pe(_r,[["__scopeId","data-v-3096bd0a"]]),Rr={class:"row m-0 p-5 bg-white e-form-container"},$r=le({__name:"Index",props:{title:{type:String,required:!0},pageFrom:{type:String,required:!1,default:null},defectCloseFirst:{type:Boolean,required:!1,default:!1},viewEmpty:{type:Boolean,required:!1,default:!1},hideBackBtnComp:{type:Boolean,required:!1,default:!1}},setup(l){const s=jt(),e=c(()=>!(p.stateGroups.findIndex(x=>{var y;return x.groupName==((y=p.stateSelectedGroup)==null?void 0:y.groupName)})+1>=p.groups.length)),d=c(()=>s.buttonEndOfGroup?!!e.value:!0),a=c(()=>p.percentageTaskProgressAllTab),u=l,p=$e(),w=Je(),S=_s(),g=ht(),v=Ke(),i=Me(),U=hs(),R=c(()=>p.groups),T=c(()=>u.pageFrom=="monitoringstatus"),P=c(()=>i.ViewDefectVisible),D=c(()=>i.ViewCrackVisible),O=c(()=>{var $,x;if(p.generalForm.defectStatus=="Completed"&&!(!(($=i.ApproveBy)!=null&&$.name)||i.ApproveDate))return`${(x=i.ApproveBy)==null?void 0:x.name}, ${i.ApproveDate}`}),J=c(()=>w.ViewVisible),V=c(()=>p.selectedSubGroups);return Se(()=>{const $=p.stateModelId=="",x=p.statePsTypeId=="",y=p.stateWorkOrder=="";($||x||y)&&U.push({name:u.pageFrom}),u.viewEmpty||(S.updateSelectedWO(p.generalForm.workOrder,p.generalForm.modelId,p.generalForm.equipment,p.generalForm.psTypeId),g.getOwnershipDefectForm(S.SelectedDefectSheet.unitNumber),v.getOwnershipDefectForm(S.SelectedDefectSheet.unitNumber),g.getPartReference(S.SelectedDefectSheet.unitNumber),v.getPartReference(S.SelectedDefectSheet.unitNumber),i.getDefectsData(p.generalForm.workOrder))}),mt(()=>{p.resetPreview(),p.resetDefectMultiList()}),($,x)=>{var y,n;return r(),k(se,null,[o("div",Rr,[F(ls,{hideBackBtnComp:l.hideBackBtnComp,title:l.title,formName:`${A(p).generalForm.form} (Rel. ${A(p).generalForm.releasedDate})`,"component-router-push":l.pageFrom,"form-status":A(p).generalForm.status,"percentage-progress":a.value,"approve-history":O.value,"show-status":!l.viewEmpty,"defect-status":A(p).generalForm.defectStatus},null,8,["hideBackBtnComp","title","formName","component-router-push","form-status","percentage-progress","approve-history","show-status","defect-status"]),F(Is,{groups:R.value,"view-empty":l.viewEmpty},null,8,["groups","view-empty"]),((y=A(p).selectedGroup)==null?void 0:y.groupName)=="General"?(r(),z(er,{key:0,general:A(p).generalForm,"view-empty":l.viewEmpty},null,8,["general","view-empty"])):(r(!0),k(se,{key:1},me(V.value,f=>(r(),z(Lo,{key:f.key,subGroup:f,"is-monitoring":T.value},null,8,["subGroup","is-monitoring"]))),128)),((n=A(p).selectedGroup)==null?void 0:n.groupName)=="DEFECT_IDENTIFIED_SERVICE"?(r(),z(gs,{key:2,"is-close":A(p).generalForm.status=="Close"&&(A(p).generalForm.defectStatus=="Completed"||A(p).generalForm.defectStatus=="Approved (PLN)")},null,8,["is-close"])):C("",!0),e.value?C("",!0):Vt($.$slots,"buttonEndOfGroup",{key:3},void 0,!0),d.value?(r(),z(Ho,{key:4})):C("",!0)]),F(Gt,{status:A(i).GeneralStatus,visibility:P.value,"defect-data":A(i).DefectFormData,"header-id":"","work-order":"","view-only":!0,"fitter-id":"","task-id":"",plannerApprove:!0,"is-form":!1,"is-complete":A(i).CompleteStatus,onCloseForm:x[0]||(x[0]=()=>A(i).setViewDefectVisible(!1))},null,8,["status","visibility","defect-data","is-complete"]),F(Ft,{status:A(i).GeneralStatus,visibility:D.value,"header-id":"","work-order":"","view-only":!0,"fitter-id":"","task-id":"",plannerApprove:!0,"is-complete":A(i).CompleteStatus,"crack-data":A(i).CrackFormData,onCloseForm:x[1]||(x[1]=()=>A(i).setViewCrackVisible(!1))},null,8,["status","visibility","is-complete","crack-data"]),F(wr,{visibility:J.value},null,8,["visibility"]),F(zt)],64)}}}),ki=pe($r,[["__scopeId","data-v-afc01ed0"]]);export{ki as F,$t as _,ws as c};
