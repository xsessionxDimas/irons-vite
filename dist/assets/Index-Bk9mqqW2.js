import{u as Rt}from"./vuex-BbOKrtVp.js";import{a as Bt}from"./breadcrumb-BYmEOf4C.js";import{c as K,A as Vt}from"./index-BuVmIl8K.js";import{P as zt}from"./Pagination-D-xfdYmn.js";import{F as jt}from"./FilterIconButton-Bj0WTbms.js";import{D as qt}from"./DownloadIconButton-CIQp-YG7.js";import{_ as c,b as Gt}from"./element-plus-BeWdvTRa.js";import{q as N,x as U,y as Kt}from"./date-format-8-IvfSl3.js";import{P as at}from"./Pagination-BiobnanQ.js";import{d as Xt}from"./pinia-BjOS2_Ao.js";import{m as L}from"./mapOption-CeGMwmH0.js";import{k as Q,bL as Yt,r as rt,u as i,y as st,p as g,aa as _,q as Z,x as p,Y as Jt,R as Y,s as o,aB as T,C as y,a0 as Qt,c as J,B as ot,a7 as Zt,L as te,A as ee,F as ae}from"./@vue-BypzYtbH.js";import{b as se,a as oe}from"./table-sort-Bpdq_Uwn.js";import{_ as k}from"./AutoComplete.vue_vue_type_style_index_0_lang-DrAAOf71.js";import{_ as I}from"./DatePickerInput.vue_vue_type_script_setup_true_lang-CJ7rJST9.js";import{F as re}from"./file-saver-CwTBvle_.js";import"./object-path-DPahbflh.js";import"./@popperjs-BaMZbQYT.js";import"./deepmerge-oeePEK50.js";import"./nw-img-vue-CR837WER.js";import"./vue-router-iNp9kJ0K.js";import"./crypto-js-BeOoaXQg.js";import"./cron-De-pTz2b.js";import"./luxon-C_T8jI2d.js";import"./dexie-CWyjz2Lo.js";import"./axios-CU9oF0EU.js";import"./vue-axios-BaogFJPH.js";import"./sweetalert2-CppYEwAE.js";import"./@azure-DwL0pga8.js";import"./uuid-SoommWqA.js";import"./vue-inline-svg-Bgl3eqMC.js";import"./vee-validate-C_msoaAA.js";import"./@microsoft-C248spM2.js";import"./@nevware21-CKApUIxW.js";import"./btech-analytics-wrapper-DOvMtwpJ.js";import"./posthog-js-CbYOvutT.js";import"./vue-i18n-CbVMwo04.js";import"./@intlify-YGwFW6EB.js";import"./prismjs-BrsEfPfk.js";import"./dayjs-D0x2Df_K.js";import"./lodash-DrHMlsdo.js";import"./resize-observer-polyfill-B1PUzC5B.js";import"./normalize-wheel-D6ofg2JO.js";import"./mitt-C1xD_ZTF.js";import"./async-validator-DK9uouaC.js";import"./language-BriOOvyN.js";import"./moment-C5S46NFB.js";const tt="https://digital-bumaau-dev-apm-001.azure-api.net/amadm/api/master_data/history_crack",ie=`${tt}/export`,le=`${tt}/lookup`,X={UnitNumber:"",UnitNumberTo:"",SmuDue:"",SmuDueTo:"",WorkOrder:"",WorkOrderTo:"",PsType:"",PsTypeTo:"",DateService:"",DateServiceTo:"",Model:"",ModelTo:"",LastPsType:"",LastPsTypeTo:"",LastDateService:"",LastDateServiceTo:"",LastWorkOrder:"",LastWorkOrderTo:"",TaskNumberDetail:"",TaskNumberDetailTo:"",LocationId:"",LocationIdTo:"",LastTaskNumberDetail:"",LastTaskNumberDetailTo:"",LastLocationId:"",LastLocationIdTo:"",StartDate:"",StartDateTo:"",EndDate:"",EndDateTo:"",ver:"v1",Page:1,PageSize:10,Order:""},et=Xt({id:"historycrack",state:()=>({stateFilterData:{...X},stateLastUsedFilterData:{...X},statePageName:"historycrack",stateDisplayData:[],statePagination:new at,stateLoading:!1,statePaginationLoading:!1,stateUnitNumberOption:[],stateSmuDueOption:[],stateWorkOrderOption:[],statePsTypeOption:[],stateModelOption:[],stateLastPsTypeOption:[],stateLastWorkOrderOption:[],stateTaskNumberDetailOption:[],stateLocationIdOption:[],stateLastTaskNumberDetailOption:[],stateLastLocationIdOption:[]}),getters:{pageName:e=>e.statePageName,pagination:e=>e.statePagination,displayData:e=>e.stateDisplayData,filterData:e=>e.stateFilterData,lastUsedFilterData:e=>e.stateLastUsedFilterData,loading:e=>e.stateLoading,paginationLoading:e=>e.statePaginationLoading,unitNumberOption:e=>e.stateUnitNumberOption,smuDueOption:e=>e.stateSmuDueOption,workOrderOption:e=>e.stateWorkOrderOption,psTypeOption:e=>e.statePsTypeOption,modelOption:e=>e.stateModelOption,lastPsTypeOption:e=>e.stateLastPsTypeOption,lastWorkOrderOption:e=>e.stateLastWorkOrderOption,taskNumberDetailOption:e=>e.stateTaskNumberDetailOption,locationIdOption:e=>e.stateLocationIdOption,lastTaskNumberDetailOption:e=>e.stateLastTaskNumberDetailOption,lastLocationIdOption:e=>e.stateLastLocationIdOption},actions:{async getData(e=!0){const l={UnitNumber:this.stateFilterData.UnitNumber,UnitNumberTo:this.stateFilterData.UnitNumberTo,SmuDue:this.stateFilterData.SmuDue,SmuDueTo:this.stateFilterData.SmuDueTo,WorkOrder:this.stateFilterData.WorkOrder,WorkOrderTo:this.stateFilterData.WorkOrderTo,PsType:this.stateFilterData.PsType,PsTypeTo:this.stateFilterData.PsTypeTo,DateService:this.stateFilterData.DateService,DateServiceTo:this.stateFilterData.DateServiceTo,Model:this.stateFilterData.Model,ModelTo:this.stateFilterData.ModelTo,LastPsType:this.stateFilterData.LastPsType,LastPsTypeTo:this.stateFilterData.LastPsTypeTo,LastDateService:this.stateFilterData.LastDateService,LastDateServiceTo:this.stateFilterData.LastDateServiceTo,LastWorkOrder:this.stateFilterData.LastWorkOrder,LastWorkOrderTo:this.stateFilterData.LastWorkOrderTo,TaskNumberDetail:this.stateFilterData.TaskNumberDetail,TaskNumberDetailTo:this.stateFilterData.TaskNumberDetailTo,LocationId:this.stateFilterData.LocationId,LocationIdTo:this.stateFilterData.LocationIdTo,LastTaskNumberDetail:this.stateFilterData.LastTaskNumberDetail,LastTaskNumberDetailTo:this.stateFilterData.LastTaskNumberDetailTo,LastLocationId:this.stateFilterData.LastLocationId,LastLocationIdTo:this.stateFilterData.LastLocationIdTo,StartDate:this.stateFilterData.StartDate?N(this.stateFilterData.StartDate):"",StartDateTo:this.stateFilterData.StartDateTo?N(this.stateFilterData.StartDateTo):"",EndDate:this.stateFilterData.EndDate?N(this.stateFilterData.EndDate):"",EndDateTo:this.stateFilterData.EndDateTo?N(this.stateFilterData.EndDateTo):"",Page:this.stateFilterData.Page.toString(),PageSize:this.stateFilterData.PageSize.toString(),Order:this.stateFilterData.Order,ver:this.stateFilterData.ver};try{e&&(this.stateLoading=!0),e||(this.stateDisplayData=[]);const t=await K.get(tt,"",new URLSearchParams(l).toString());this.stateDisplayData=t.data.result.content,this.setTotalPage(t.data.result.total),this.stateLastUsedFilterData={...this.stateFilterData}}catch(t){console.log(t)}this.stateLoading=!1},async getLookup(){const e={ver:this.stateFilterData.ver};try{const l=await K.get(le,"",new URLSearchParams(e).toString());this.stateUnitNumberOption=L(l.data.result.content.unitNumber),this.stateSmuDueOption=L(l.data.result.content.smuDue),this.stateWorkOrderOption=L(l.data.result.content.workOrder),this.statePsTypeOption=L(l.data.result.content.psType),this.stateModelOption=L(l.data.result.content.model),this.stateLastPsTypeOption=L(l.data.result.content.lastPsType),this.stateLastWorkOrderOption=L(l.data.result.content.lastWorkOrder),this.stateTaskNumberDetailOption=L(l.data.result.content.taskNumberDetail),this.stateLocationIdOption=L(l.data.result.content.locationId),this.stateLastTaskNumberDetailOption=L(l.data.result.content.lastTaskNumberDetail),this.stateLastLocationIdOption=L(l.data.result.content.lastLocationId)}catch(l){console.log(l)}},async export(){const e={ver:this.stateFilterData.ver,Gmt:new Date().toTimeString().slice(12,17)};try{return(await K.getBlob(ie,"",new URLSearchParams(e).toString())).data}catch(l){console.log(l)}},setTotalPage(e){this.pagination.totalPage=e,this.pagination.getPaginationStartIndex(),this.pagination.getPaginationLastIndex()},async setPage(e){this.statePaginationLoading=!0,this.statePagination.handleCurrentPageChange(e),this.stateFilterData.Page=this.statePagination.currentPage,await this.getData(!1),setTimeout(()=>{this.statePaginationLoading=!1},200)},async setSort({prop:e,order:l}){if(!e&&!l)this.stateFilterData.Order="";else{const t=l=="ascending"?"asc":"desc";this.stateFilterData.Order=`${e}_${t}`}this.statePagination.handleCurrentPageChange(1),this.stateFilterData.Page=this.statePagination.currentPage,await this.getData(!1)},setUnitNumber(e){this.stateFilterData.UnitNumber=e},setUnitNumberTo(e){this.stateFilterData.UnitNumberTo=e},setSmuDue(e){this.stateFilterData.SmuDue=e},setSmuDueTo(e){this.stateFilterData.SmuDueTo=e},setWorkOrder(e){this.stateFilterData.WorkOrder=e},setWorkOrderTo(e){this.stateFilterData.WorkOrderTo=e},setPsType(e){this.stateFilterData.PsType=e},setPsTypeTo(e){this.stateFilterData.PsTypeTo=e},setDateService(e){this.stateFilterData.DateService=e},setDateServiceTo(e){this.stateFilterData.DateServiceTo=e},setModel(e){this.stateFilterData.Model=e},setModelTo(e){this.stateFilterData.ModelTo=e},setLastPsType(e){this.stateFilterData.LastPsType=e},setLastPsTypeTo(e){this.stateFilterData.LastPsTypeTo=e},setLastDateService(e){this.stateFilterData.LastDateService=e},setLastDateServiceTo(e){this.stateFilterData.LastDateServiceTo=e},setLastWorkOrder(e){this.stateFilterData.LastWorkOrder=e},setLastWorkOrderTo(e){this.stateFilterData.LastWorkOrderTo=e},setTaskNumberDetail(e){this.stateFilterData.TaskNumberDetail=e},setTaskNumberDetailTo(e){this.stateFilterData.TaskNumberDetailTo=e},setLocationId(e){this.stateFilterData.LocationId=e},setLocationIdTo(e){this.stateFilterData.LocationIdTo=e},setLastTaskNumberDetail(e){this.stateFilterData.LastTaskNumberDetail=e},setLastTaskNumberDetailTo(e){this.stateFilterData.LastTaskNumberDetailTo=e},setLastLocationId(e){this.stateFilterData.LastLocationId=e},setLastLocationIdTo(e){this.stateFilterData.LastLocationIdTo=e},setStartDate(e){this.stateFilterData.StartDate=e},setStartDateTo(e){this.stateFilterData.StartDateTo=e},setEndDate(e){this.stateFilterData.EndDate=e},setEndDateTo(e){this.stateFilterData.EndDateTo=e},async resetFilter(){this.stateFilterData.UnitNumber="",this.stateFilterData.UnitNumberTo="",this.stateFilterData.SmuDue="",this.stateFilterData.SmuDueTo="",this.stateFilterData.WorkOrder="",this.stateFilterData.WorkOrderTo="",this.stateFilterData.PsType="",this.stateFilterData.PsTypeTo="",this.stateFilterData.DateService="",this.stateFilterData.DateServiceTo="",this.stateFilterData.Model="",this.stateFilterData.ModelTo="",this.stateFilterData.LastPsType="",this.stateFilterData.LastPsTypeTo="",this.stateFilterData.LastDateService="",this.stateFilterData.LastDateServiceTo="",this.stateFilterData.LastWorkOrder="",this.stateFilterData.LastWorkOrderTo="",this.stateFilterData.TaskNumberDetail="",this.stateFilterData.TaskNumberDetailTo="",this.stateFilterData.LocationId="",this.stateFilterData.LocationIdTo="",this.stateFilterData.LastTaskNumberDetail="",this.stateFilterData.LastTaskNumberDetailTo="",this.stateFilterData.LastLocationId="",this.stateFilterData.LastLocationIdTo="",this.stateFilterData.StartDate="",this.stateFilterData.StartDateTo="",this.stateFilterData.EndDate="",this.stateFilterData.EndDateTo="";const e=this.stateLastUsedFilterData.UnitNumber!=="",l=this.stateLastUsedFilterData.UnitNumberTo!=="",t=this.stateLastUsedFilterData.SmuDue!=="",m=this.stateLastUsedFilterData.SmuDueTo!=="",F=this.stateLastUsedFilterData.WorkOrder!=="",u=this.stateLastUsedFilterData.WorkOrderTo!=="",s=this.stateLastUsedFilterData.PsType!=="",b=this.stateLastUsedFilterData.PsTypeTo!=="",d=this.stateLastUsedFilterData.DateService!=="",h=this.stateLastUsedFilterData.DateServiceTo!=="",v=this.stateLastUsedFilterData.Model!=="",D=this.stateLastUsedFilterData.ModelTo!=="",S=this.stateLastUsedFilterData.LastPsType!=="",r=this.stateLastUsedFilterData.LastPsTypeTo!=="",n=this.stateLastUsedFilterData.LastDateService!=="",W=this.stateLastUsedFilterData.LastDateServiceTo!=="",w=this.stateLastUsedFilterData.LastWorkOrder!=="",C=this.stateLastUsedFilterData.LastWorkOrderTo!=="",E=this.stateLastUsedFilterData.TaskNumberDetail!=="",M=this.stateLastUsedFilterData.TaskNumberDetailTo!=="",H=this.stateLastUsedFilterData.LocationId!=="",x=this.stateLastUsedFilterData.LocationIdTo!=="",$=this.stateLastUsedFilterData.LastTaskNumberDetail!=="",A=this.stateLastUsedFilterData.LastTaskNumberDetailTo!=="",R=this.stateLastUsedFilterData.LastLocationId!=="",B=this.stateLastUsedFilterData.LastLocationIdTo!=="",V=this.stateLastUsedFilterData.StartDate!=="",z=this.stateLastUsedFilterData.StartDateTo!=="",j=this.stateLastUsedFilterData.EndDate!=="",q=this.stateLastUsedFilterData.EndDateTo!=="";(e||l||t||m||F||u||s||b||d||h||v||D||S||r||n||W||w||C||E||M||H||x||$||A||R||B||V||z||j||q)&&await this.getData()},resetState(){this.stateFilterData={...X},this.stateDisplayData=[],this.statePagination=new at,this.stateLoading=!1,this.statePaginationLoading=!1}}}),ne={key:0,style:{height:"100px"}},ce={key:0,class:"row justify-content-center"},de={key:1,class:"row justify-content-center"},De=Q({__name:"Grid",props:{listData:{required:!0,type:Array},page:{required:!0,type:Number,default:1}},emits:["show-dialog"],setup(e,{emit:l}){const t=e,m=et(),F=Yt(()=>(t.page-1)*10+1),u=rt(""),s=h=>{u.value=h.order;const v={prop:h.prop,order:h.order};m.setSort(v)},b=()=>se(u.value),d=(h,v,D)=>oe(h[D],v[D],u.value);return(h,v)=>{const D=Y("inline-svg"),S=Jt("loading");return i(m).loading?st((g(),_("div",ne,null,512)),[[S,i(m).loading]]):st((g(),Z(i(Gt),{key:1,data:t.listData,style:{width:"100%"},onSortChange:s,"empty-text":"No Data"},{default:p(()=>[o(i(c),{label:"No",width:"90",align:"center"},{default:p(r=>[T("span",null,y(i(F)+r.$index),1)]),_:1}),o(i(c),{prop:"unitNumber",label:"Unit Number",width:"200",sortable:"","sort-method":(r,n)=>d(r,n,"unitNumber")},null,8,["sort-method"]),o(i(c),{prop:"smuDue",label:"SMU Due",width:"200",sortable:"","sort-method":(r,n)=>d(r,n,"smuDue")},null,8,["sort-method"]),o(i(c),{prop:"workOrder",label:"Work Order",width:"200",sortable:"","sort-method":(r,n)=>d(r,n,"workOrder")},null,8,["sort-method"]),o(i(c),{prop:"psType",label:"PS Type",width:"200",sortable:"","sort-method":()=>b()},null,8,["sort-method"]),o(i(c),{prop:"dateService",label:"Date Service",align:"center",width:"170",sortable:""},{default:p(r=>[T("span",null,y(i(U)(r.row.dateService)),1)]),_:1}),o(i(c),{prop:"model",label:"Model",width:"200",sortable:"","sort-method":(r,n)=>d(r,n,"model")},null,8,["sort-method"]),o(i(c),{prop:"lastWorkOrder",label:"Last Work Order",width:"200",sortable:"","sort-method":(r,n)=>d(r,n,"lastWorkOrder")},null,8,["sort-method"]),o(i(c),{prop:"lastPsType",label:"Last PS Type",width:"200",sortable:"","sort-method":(r,n)=>d(r,n,"lastPsType")},null,8,["sort-method"]),o(i(c),{prop:"lastDateService",label:"Last Date Service",align:"center",width:"170",sortable:""},{default:p(r=>[T("span",null,y(i(U)(r.row.lastDateService)),1)]),_:1}),o(i(c),{prop:"locationId",label:"Location ID",width:"200",sortable:"","sort-method":(r,n)=>d(r,n,"locationId")},null,8,["sort-method"]),o(i(c),{prop:"taskNumberDetail",label:"Task Number Detail",width:"200",sortable:"","sort-method":(r,n)=>d(r,n,"taskNumberDetail")},null,8,["sort-method"]),o(i(c),{prop:"lastLocationId",label:"Last Location ID",width:"200",sortable:"","sort-method":(r,n)=>d(r,n,"lastLocationId")},null,8,["sort-method"]),o(i(c),{prop:"lastTaskNumberDetail",label:"Last Task Number Detail",width:"300",sortable:"","sort-method":(r,n)=>d(r,n,"lastTaskNumberDetail")},null,8,["sort-method"]),o(i(c),{prop:"startDate",label:"Start Date",align:"center",width:"170",sortable:""},{default:p(r=>[T("span",null,y(i(U)(r.row.startDate)),1)]),_:1}),o(i(c),{prop:"endDate",label:"End Date",align:"center",width:"170",sortable:""},{default:p(r=>[T("span",null,y(i(U)(r.row.endDate)),1)]),_:1}),o(i(c),{prop:"isActive",label:"Is Active",width:"100",sortable:""},{default:p(r=>[r.row.isActive?(g(),_("div",ce,[o(D,{src:"/media/svg/tables/rows/check.svg"})])):(g(),_("div",de,[o(D,{src:"/media/svg/tables/rows/minus.svg"})]))]),_:1}),o(i(c),{prop:"changedOn",label:"Changed on",align:"center",width:"150",sortable:""},{default:p(r=>[T("span",null,y(i(Kt)(r.row.changedOn)),1)]),_:1}),o(i(c),{prop:"changedBy",label:"Changed by",sortable:"",width:"300","sort-method":(r,n)=>d(r,n,"changedBy")},null,8,["sort-method"])]),_:1},8,["data"])),[[S,i(m).loading]])}}}),ue={class:"row g-9 my-4"},Te={class:"dialog-footer"},me=Q({__name:"FilterDialog",props:{visibility:{type:Boolean,default:!1}},emits:["handle-close"],setup(e,{emit:l}){const t=et(),m=e,F=l,u=Qt(m,"visibility"),s=J(()=>t.filterData),b=()=>{d(),t.resetFilter()},d=()=>{F("handle-close",!1)},h=a=>{t.setUnitNumber(a)},v=a=>{t.setUnitNumberTo(a)},D=a=>{t.setSmuDue(a)},S=a=>{t.setSmuDueTo(a)},r=a=>{t.setWorkOrder(a)},n=a=>{t.setWorkOrderTo(a)},W=a=>{t.setPsType(a)},w=a=>{t.setPsTypeTo(a)},C=a=>{t.setDateService(a)},E=a=>{t.setDateServiceTo(a)},M=a=>{t.setModel(a)},H=a=>{t.setModelTo(a)},x=a=>{t.setLastPsType(a)},$=a=>{t.setLastPsTypeTo(a)},A=a=>{t.setLastDateService(a)},R=a=>{t.setLastDateServiceTo(a)},B=a=>{t.setLastWorkOrder(a)},V=a=>{t.setLastWorkOrderTo(a)},z=a=>{t.setTaskNumberDetail(a)},j=a=>{t.setTaskNumberDetailTo(a)},q=a=>{t.setLocationId(a)},it=a=>{t.setLocationIdTo(a)},lt=a=>{t.setLastTaskNumberDetail(a)},nt=a=>{t.setLastTaskNumberDetailTo(a)},ct=a=>{t.setLastLocationId(a)},dt=a=>{t.setLastLocationIdTo(a)},Dt=a=>{t.setStartDate(a)},ut=a=>{t.setStartDateTo(a)},Tt=a=>{t.setEndDate(a)},mt=a=>{t.setEndDateTo(a)},ht=()=>{const a=t.lastUsedFilterData.UnitNumber!==t.filterData.UnitNumber,O=t.lastUsedFilterData.UnitNumberTo!==t.filterData.UnitNumberTo,P=t.lastUsedFilterData.SmuDue!==t.filterData.SmuDue,G=t.lastUsedFilterData.SmuDueTo!==t.filterData.SmuDueTo,f=t.lastUsedFilterData.WorkOrder!==t.filterData.WorkOrder,pt=t.lastUsedFilterData.WorkOrderTo!==t.filterData.WorkOrderTo,Lt=t.lastUsedFilterData.PsType!==t.filterData.PsType,kt=t.lastUsedFilterData.PsTypeTo!==t.filterData.PsTypeTo,vt=t.lastUsedFilterData.DateService!==t.filterData.DateService,St=t.lastUsedFilterData.DateServiceTo!==t.filterData.DateServiceTo,Ft=t.lastUsedFilterData.Model!==t.filterData.Model,bt=t.lastUsedFilterData.ModelTo!==t.filterData.ModelTo,gt=t.lastUsedFilterData.LastPsType!==t.filterData.LastPsType,Ot=t.lastUsedFilterData.LastPsTypeTo!==t.filterData.LastPsTypeTo,yt=t.lastUsedFilterData.LastDateService!==t.filterData.LastDateService,Pt=t.lastUsedFilterData.LastDateServiceTo!==t.filterData.LastDateServiceTo,ft=t.lastUsedFilterData.LastWorkOrder!==t.filterData.LastWorkOrder,Nt=t.lastUsedFilterData.LastWorkOrderTo!==t.filterData.LastWorkOrderTo,Ut=t.lastUsedFilterData.TaskNumberDetail!==t.filterData.TaskNumberDetail,It=t.lastUsedFilterData.TaskNumberDetailTo!==t.filterData.TaskNumberDetailTo,_t=t.lastUsedFilterData.LocationId!==t.filterData.LocationId,Wt=t.lastUsedFilterData.LocationIdTo!==t.filterData.LocationIdTo,wt=t.lastUsedFilterData.LastTaskNumberDetail!==t.filterData.LastTaskNumberDetail,Ct=t.lastUsedFilterData.LastTaskNumberDetailTo!==t.filterData.LastTaskNumberDetailTo,Et=t.lastUsedFilterData.LastLocationId!==t.filterData.LastLocationId,Mt=t.lastUsedFilterData.LastLocationIdTo!==t.filterData.LastLocationIdTo,Ht=t.lastUsedFilterData.StartDate!==t.filterData.StartDate,xt=t.lastUsedFilterData.StartDateTo!==t.filterData.StartDateTo,$t=t.lastUsedFilterData.EndDate!==t.filterData.EndDate,At=t.lastUsedFilterData.EndDateTo!==t.filterData.EndDateTo;F("handle-close",a||O||P||G||f||pt||Lt||kt||vt||St||Ft||bt||gt||Ot||yt||Pt||ft||Nt||Ut||It||_t||Wt||wt||Ct||Et||Mt||Ht||xt||$t||At)};return(a,O)=>{const P=Y("el-button"),G=Y("el-dialog");return g(),Z(G,{modelValue:u.value,"onUpdate:modelValue":O[0]||(O[0]=f=>u.value=f),title:"Filter",width:"60%",onClose:O[1]||(O[1]=f=>d())},{footer:p(()=>[T("span",Te,[o(P,{type:"secondary",onClick:b},{default:p(()=>[ot("Reset")]),_:1}),o(P,{type:"primary",onClick:ht},{default:p(()=>[ot("Filter")]),_:1})])]),default:p(()=>[T("div",ue,[o(k,{"value-from":s.value.UnitNumber,"value-to":s.value.UnitNumberTo,label:"Unit Number",name:"UnitNumber",options:i(t).unitNumberOption,onHandleChangeFrom:h,onHandleChangeTo:v},null,8,["value-from","value-to","options"]),o(k,{"value-from":s.value.SmuDue,"value-to":s.value.SmuDueTo,label:"SMU Due",name:"SmuDue",options:i(t).smuDueOption,onHandleChangeFrom:D,onHandleChangeTo:S},null,8,["value-from","value-to","options"]),o(k,{"value-from":s.value.WorkOrder,"value-to":s.value.WorkOrderTo,label:"Work Order",name:"WorkOrder",options:i(t).workOrderOption,onHandleChangeFrom:r,onHandleChangeTo:n},null,8,["value-from","value-to","options"]),o(k,{"value-from":s.value.PsType,"value-to":s.value.PsTypeTo,label:"PS Type",name:"PsType",options:i(t).psTypeOption,onHandleChangeFrom:W,onHandleChangeTo:w},null,8,["value-from","value-to","options"]),o(I,{"value-from":s.value.DateService?s.value.DateService.toString():"","value-to":s.value.DateServiceTo?s.value.DateServiceTo.toString():"",label:"Date Service",name:"DateService",placeholder:"Pick a date",onHandleChangeFrom:C,onHandleChangeTo:E},null,8,["value-from","value-to"]),o(k,{"value-from":s.value.Model,"value-to":s.value.ModelTo,label:"Model",name:"Model",options:i(t).modelOption,onHandleChangeFrom:M,onHandleChangeTo:H},null,8,["value-from","value-to","options"]),o(k,{"value-from":s.value.LastPsType,"value-to":s.value.LastPsTypeTo,label:"Last PS Type",name:"LastPsType",options:i(t).lastPsTypeOption,onHandleChangeFrom:x,onHandleChangeTo:$},null,8,["value-from","value-to","options"]),o(I,{"value-from":s.value.LastDateService?s.value.LastDateService.toString():"","value-to":s.value.LastDateServiceTo?s.value.LastDateServiceTo.toString():"",label:"Last DateService",name:"LastDateService",placeholder:"Pick a date",onHandleChangeFrom:A,onHandleChangeTo:R},null,8,["value-from","value-to"]),o(k,{"value-from":s.value.LastWorkOrder,"value-to":s.value.LastWorkOrderTo,label:"Last Work Order",name:"LastWorkOrder",options:i(t).lastWorkOrderOption,onHandleChangeFrom:B,onHandleChangeTo:V},null,8,["value-from","value-to","options"]),o(k,{"value-from":s.value.TaskNumberDetail,"value-to":s.value.TaskNumberDetailTo,label:"Task Number Detail",name:"TaskNumberDetail",options:i(t).taskNumberDetailOption,onHandleChangeFrom:z,onHandleChangeTo:j},null,8,["value-from","value-to","options"]),o(k,{"value-from":s.value.LocationId,"value-to":s.value.LocationIdTo,label:"Location ID",name:"LocationId",options:i(t).locationIdOption,onHandleChangeFrom:q,onHandleChangeTo:it},null,8,["value-from","value-to","options"]),o(k,{"value-from":s.value.LastTaskNumberDetail,"value-to":s.value.LastTaskNumberDetailTo,label:"Last Task Number Detail",name:"LastTaskNumberDetail",options:i(t).lastTaskNumberDetailOption,onHandleChangeFrom:lt,onHandleChangeTo:nt},null,8,["value-from","value-to","options"]),o(k,{"value-from":s.value.LastLocationId,"value-to":s.value.LastLocationIdTo,label:"Last Location ID",name:"LastLocationId",options:i(t).lastLocationIdOption,onHandleChangeFrom:ct,onHandleChangeTo:dt},null,8,["value-from","value-to","options"]),o(I,{"value-from":s.value.StartDate?s.value.StartDate.toString():"","value-to":s.value.StartDateTo?s.value.StartDateTo.toString():"",label:"Start Date",name:"StartDate",placeholder:"Pick a date",onHandleChangeFrom:Dt,onHandleChangeTo:ut},null,8,["value-from","value-to"]),o(I,{"value-from":s.value.EndDate?s.value.EndDate.toString():"","value-to":s.value.EndDateTo?s.value.EndDateTo.toString():"",label:"End Date",name:"EndDate",placeholder:"Pick a date",onHandleChangeFrom:Tt,onHandleChangeTo:mt},null,8,["value-from","value-to"])])]),_:1},8,["modelValue"])}}}),he={class:"grid-icon-buttons d-flex justify-content-between flex-wrap align-items-center"},pe=T("div",{class:"d-flex align-items-center position-relative my-0"},null,-1),Le={class:"d-flex justify-content-between align-items-center"},ke={class:"card"},ve={class:"card-body grid-padding"},Se={class:"my-5"},ha=Q({__name:"Index",setup(e){const l=Rt(),t=et(),m=rt(!1),F=J(()=>t.displayData),u=J(()=>t.pagination),s=D=>{t.setPage(D)};Zt(async()=>{l[Vt.ACTIVE_PAGE]("IronLake"),Bt("History Crack",[{pageName:"Iron Lake",pageRoute:"ironlake"},{pageName:"Task",pageRoute:"historycrack"},{pageName:"History Crack",pageRoute:"historycrack"}]),t.setPage(1),await t.getLookup()}),te(()=>{t.resetState()});const b=async()=>{await t.setPage(1),await t.getLookup()},d=()=>{m.value=!0},h=async D=>{m.value=!1,D&&await b()},v=async()=>{const D=await t.export();re.saveAs(new Blob([D],{type:"application/octet-stream"}),"History Crack.xlsx")};return(D,S)=>(g(),_(ae,null,[T("div",he,[pe,T("div",Le,[o(jt,{onShowDialog:d}),o(qt,{onHandleDownload:v})])]),T("div",ke,[T("div",ve,[o(De,{"list-data":F.value,page:u.value.currentPage},null,8,["list-data","page"])])]),T("div",Se,[i(t).paginationLoading?ee("",!0):(g(),Z(zt,{key:0,onRaisePageChange:S[0]||(S[0]=r=>s(r)),currentPage:u.value.currentPage,totalPage:u.value.totalPage,totalPageSize:u.value.totalPageSize,startPaginationIndex:u.value.startPaginationIndex,endPaginationIndex:u.value.endPaginationIndex},null,8,["currentPage","totalPage","totalPageSize","startPaginationIndex","endPaginationIndex"]))]),o(me,{visibility:m.value,onHandleClose:h},null,8,["visibility"])],64))}});export{ha as default};
