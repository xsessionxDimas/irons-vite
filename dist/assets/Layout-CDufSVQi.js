import{u as I,a as K,b as R,M as A,D}from"./index-BuVmIl8K.js";import{b as J,u as N}from"./vue-router-iNp9kJ0K.js";import{u as V}from"./vue-i18n-CbVMwo04.js";import{a as E,K as F}from"./Header-Bw6g57AE.js";import{K as H}from"./Toolbar-BDMsN6ta.js";import{H as O,a as j,K as q,r as P,l as z,c as W,b as G,t as Q,d as U,s as X,e as h}from"./dom-CwBJfy2t.js";import{u as Y,c as Z,a as $}from"./get-user-info-DjfNX8-X.js";import{u as ee}from"./@vueuse-DFoNmIyu.js";import{d as oe}from"./cron-De-pTz2b.js";import{u as te}from"./useSyncStore-DsLBNjEA.js";import{u as re}from"./useMsal-BbsBYoof.js";import{i as ae,r as k}from"./internet-connection-CnLQPjRt.js";import{k as ne,c as t,a7 as se,o as ie,d as s,p as i,aa as le,u as o,q as u,A as c,aB as r,s as p,b4 as me,F as ue,R as ce}from"./@vue-BypzYtbH.js";import{_ as pe}from"./nw-img-vue-CR837WER.js";import"./pinia-BjOS2_Ao.js";import"./object-path-DPahbflh.js";import"./@popperjs-BaMZbQYT.js";import"./deepmerge-oeePEK50.js";import"./crypto-js-BeOoaXQg.js";import"./dexie-CWyjz2Lo.js";import"./vuex-BbOKrtVp.js";import"./element-plus-BeWdvTRa.js";import"./dayjs-D0x2Df_K.js";import"./lodash-DrHMlsdo.js";import"./resize-observer-polyfill-B1PUzC5B.js";import"./normalize-wheel-D6ofg2JO.js";import"./mitt-C1xD_ZTF.js";import"./async-validator-DK9uouaC.js";import"./axios-CU9oF0EU.js";import"./vue-axios-BaogFJPH.js";import"./sweetalert2-CppYEwAE.js";import"./@azure-DwL0pga8.js";import"./uuid-SoommWqA.js";import"./vue-inline-svg-Bgl3eqMC.js";import"./vee-validate-C_msoaAA.js";import"./@microsoft-C248spM2.js";import"./@nevware21-CKApUIxW.js";import"./btech-analytics-wrapper-DOvMtwpJ.js";import"./posthog-js-CbYOvutT.js";import"./prismjs-BrsEfPfk.js";import"./luxon-C_T8jI2d.js";import"./@intlify-YGwFW6EB.js";import"./navigator-D5io2Cca.js";import"./useMenuStore-CD5Gmvif.js";import"./logo-whitebg-DE6C9hWQ.js";import"./language-BriOOvyN.js";import"./useBodyStore-L-idhAYV.js";import"./bootstrap-47JNjt8K.js";import"./useMasterStore-CzSO06fn.js";const de={class:"page d-flex flex-row flex-column-fluid"},fe={id:"kt_wrapper",class:"d-flex flex-column flex-row-fluid wrapper"},ge={id:"kt_content",class:"content d-flex flex-column flex-column-fluid",style:{padding:"5px 0",width:"100%"}},_e={class:"post d-flex flex-column-fluid"},be=ne({__name:"Layout",setup(he){const d=ee(),f=I(),g=V(),l=J(),v=Y(),{instance:a}=re();O.init();const w=N(),S=K(),x=R(),L=t(()=>l.name),_=t(()=>f.pageTitle),y=t(()=>l.path),T=t(()=>{var e;return(e=f.getBreadcrumbs)==null?void 0:e.pageBreadcrumbPath}),B=t(()=>S.loggedIn),M=()=>{const e=localStorage.getItem("lang")?localStorage.getItem("lang"):"en";g.setLocaleMessage(e,v.dictionary),g.locale.value=e};se(async()=>{await Z(a),await $(d.value,a),M()}),ie(()=>{ae()||b()});const m=te(),n=t(()=>m.jobRenewToken);s(d,e=>{e?b():m.stopAllJob()});const b=()=>{if(!(n.value&&n.value.running))if(n.value)n.value.start();else{const e=new oe.CronJob("*/10 * * * *",async function(){k(a)},null,!0);m.setJobRenewTokenRunning(e)}};return s(B,e=>{e||k(a)}),s(y,e=>{x.authPage(e)||w.push({name:"401"})}),s(()=>l.path,()=>{A.hideDropdowns(void 0),D.hideAll(),P()}),(e,ke)=>{const C=ce("router-view");return i(),le(ue,null,[o(z)?(i(),u(j,{key:0,logo:o(W)},null,8,["logo"])):c("",!0),r("div",de,[o(G)?(i(),u(E,{key:0,lightLogo:o(Q),darkLogo:o(U)},null,8,["lightLogo","darkLogo"])):c("",!0),r("div",fe,[p(F,{title:_.value,menuVisible:!0},null,8,["title"]),r("div",ge,[!["ironlake","all_equipment","dailyschedule","employee","site","ironportal","administration","report"].includes(L.value)&&o(X)?(i(),u(H,{key:0,breadcrumbs:T.value,title:_.value},null,8,["breadcrumbs","title"])):c("",!0),r("div",_e,[r("div",{id:"kt_content_container",class:me({"container-fluid":o(h),"container-xxl":!o(h)})},[p(C)],2)])])])]),p(q)],64)}}}),_o=pe(be,[["__scopeId","data-v-4854b7cd"]]);export{_o as default};
