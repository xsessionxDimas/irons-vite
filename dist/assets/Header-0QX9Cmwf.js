import{u as H}from"./vue-i18n-CE6bnohq.js";import{S as Y,M as Z,T as O,D as ee}from"./get-user-info-ClQf79xP.js";import{g as te,h as se,i as ae,j as ne,k as oe}from"./dom-BWyoH50f.js";import{u as W}from"./vuex-BbOKrtVp.js";import{k as S,r as P,c as $,o as q,d as ie,p as n,aa as o,aB as e,y as le,a5 as re,u as b,K as ce,F as M,$ as K,bd as B,bb as V,R as N,C as k,q as R,x as D,b4 as g,A as y,s as x,N as de,a7 as ue,B as me}from"./@vue-BypzYtbH.js";import{b as G,u as E}from"./vue-router-iNp9kJ0K.js";import{n as J}from"./navigator-D5io2Cca.js";import{a as U,A as _e,u as Q,d as pe,e as he}from"./index-BCnwA6yE.js";import{_ as I}from"./nw-img-vue-CR837WER.js";import{_ as ge}from"./logo-whitebg-DE6C9hWQ.js";import{u as ve}from"./useMsal-BbsBYoof.js";import{t as fe}from"./language-BriOOvyN.js";import{e as ke}from"./lodash-Cr9vlq0V.js";import{i as be}from"./internet-connection-B91-AJht.js";const w=t=>(B("data-v-1adc8edd"),t=t(),V(),t),we={class:"d-flex align-items-center position-relative my-0 p-5",id:"menu-search"},ye={id:"#kt_header_menu",class:"menu menu-column menu-title-gray-800 menu-state-title-primary menu-state-icon-primary menu-state-bullet-primary menu-arrow-gray-500 sidebar-overflow","data-kt-menu":"true"},$e={key:0,class:"menu-item"},xe=["href"],Ce=w(()=>e("span",{class:"menu-bullet"},[e("span",{class:"bullet bullet-dot"})],-1)),Me={class:"menu-title sidebar-menu-item"},Ne=["onClick"],Se=w(()=>e("span",{class:"menu-bullet"},[e("span",{class:"bullet bullet-dot"})],-1)),Te={class:"menu-title sidebar-menu-item"},Pe={key:1,class:"menu-item"},Ie={class:"menu-link"},Ae={class:"menu-icon"},Le={class:"menu-title sidebar-menu-item"},Ke=w(()=>e("span",{class:"menu-arrow"},null,-1)),De={key:0,class:"menu-item"},je=["href"],Be=w(()=>e("span",{class:"menu-bullet"},[e("span",{class:"bullet bullet-dot"})],-1)),Ve={class:"menu-title sidebar-menu-item"},Ee=["onClick"],Ue=w(()=>e("span",{class:"menu-bullet"},[e("span",{class:"bullet bullet-dot"})],-1)),ze={class:"menu-title sidebar-menu-item"},Fe={class:"menu-link"},Oe=w(()=>e("span",{class:"menu-bullet"},[e("span",{class:"bullet bullet-dot"})],-1)),Re={class:"menu-title"},He=w(()=>e("span",{class:"menu-arrow"},null,-1)),We={class:"menu-sub menu-sub-accordion"},qe=["onClick"],Ge=w(()=>e("span",{class:"menu-bullet"},[e("span",{class:"bullet bullet-dot"})],-1)),Je={class:"menu-title"},Qe=w(()=>e("div",{class:"menu-item"},[e("div",{class:"menu-content"},[e("div",{class:"separator mx-1 my-4"})])],-1)),Xe=S({__name:"Menu",setup(t){W();const s=G(),d=U(),p=P(null);let r=P("");const{redirectByLink:v}=J(),u=l=>{var T;let a=s.path.split("/");const _=`/${a[1]}/${a[2]}`,i=f.value.find(c=>c.PageName.toLowerCase()==l&&c.MenuName==_);return i?(T=i.Children)==null?void 0:T.some(c=>c.MenuName==s.path):!1},m=$(()=>"Test"),f=$(()=>{if(typeof d.menu.getAllProductMenu!="function")return[];const l=d.menu.getAllProductMenu(m.value);if(l.forEach(a=>{a.Children=d.menu.getAllFeatureMenu(a.MenuId),a.Children.forEach(_=>{_.Children=d.menu.getAllChildMenu(_.MenuId)})}),r.value){let a=[];return l.forEach(_=>{const i=h(_);i&&a.push(i)}),a}return l}),h=l=>{const a=l.Children.filter(_=>_.PageName.toLowerCase().includes(r.value.toLowerCase()));if(a.length>0)return l.Children=a,l;if(l.PageName.toLowerCase().includes(r.value.toLowerCase()))return l};return q(()=>{Y.reinitialization(),Z.reinitialization(),p.value&&(p.value.scrollTop=0),console.log(s.path)}),ie(f,async l=>{l&&setTimeout(()=>{var a;(a=document.getElementsByClassName("subMenuActive")[0])==null||a.scrollIntoView({behavior:"smooth"})},200)},{deep:!0}),(l,a)=>{const _=N("router-link");return n(),o(M,null,[e("div",we,[le(e("input",{type:"text","onUpdate:modelValue":a[0]||(a[0]=i=>ce(r)?r.value=i:r=i),class:"form-control form-control-solid ps-15 rounded search-placeholder-label",placeholder:"Search menu"},null,512),[[re,b(r)]])]),e("div",{id:"kt_aside_menu_wrapper",ref_key:"scrollElRef",ref:p,class:"hover-scroll-overlay-y","data-kt-scroll":"true","data-kt-scroll-activate":"{default: false, lg: true}","data-kt-scroll-dependencies":"#kt_aside_logo, #kt_aside_footer","data-kt-scroll-height":"auto","data-kt-scroll-offset":"0","data-kt-scroll-wrappers":"#kt_aside_menu"},[e("div",ye,[(n(!0),o(M,null,K(f.value,(i,T)=>(n(),o(M,{key:T},[i.IsMenu?(n(),o("div",$e,[i.MenuName.includes("https://")?(n(),o("a",{key:0,target:"_blank",href:i.MenuName,class:"menu-link"},[Ce,e("span",Me,k(i.PageName),1)],8,xe)):(n(),R(_,{key:1,to:{path:i.MenuName}},{default:D(({href:c,isActive:j,isExactActive:C})=>[e("a",{class:g([[j&&"active",C&&"active",C&&"subMenuActive"],"menu-link"]),href:"javascript:void(0)",onClick:A=>b(v)(c)},[Se,e("span",Te,k(i.PageName),1)],10,Ne)]),_:2},1032,["to"]))])):y("",!0),i.IsMenu?y("",!0):(n(),o("div",Pe,[e("div",{class:g([{show:u(i.PageName.toLowerCase())},"menu-item menu-accordion"]),"data-kt-menu-sub":"accordion","data-kt-menu-trigger":"click"},[e("span",Ie,[e("span",Ae,[e("em",{class:g(["fas fa-cog","bi fs-3"])})]),e("span",Le,k(i.PageName),1),Ke]),e("div",{class:g([{show:u(i.PageName.toLocaleLowerCase())},"menu-sub menu-sub-accordion"])},[(n(!0),o(M,null,K(i.Children,(c,j)=>(n(),o(M,{key:j},[c.IsMenu?(n(),o("div",De,[c.MenuName.includes("https://")?(n(),o("a",{key:0,target:"_blank",href:c.MenuName,class:"menu-link"},[Be,e("span",Ve,k(c.PageName),1)],8,je)):c.MenuId!=224?(n(),R(_,{key:1,to:{path:c.MenuName}},{default:D(({href:C,isActive:A,isExactActive:L})=>[e("a",{class:g([[A&&"active",L&&"active",L&&"subMenuActive"],"menu-link"]),href:"javascript:void(0)",onClick:F=>b(v)(C)},[Ue,e("span",ze,k(c.PageName),1)],10,Ee)]),_:2},1032,["to"])):y("",!0)])):y("",!0),c.IsMenu?y("",!0):(n(),o("div",{key:1,class:g([{show:u(c.MenuName),hover:u(c.MenuName)},"menu-item menu-accordion"]),"data-kt-menu-sub":"accordion","data-kt-menu-trigger":"click"},[e("span",Fe,[Oe,e("span",Re,k(c.PageName),1),He]),e("div",We,[(n(!0),o(M,null,K(c.Children,(C,A)=>(n(),o("div",{key:A,class:"menu-item",style:{"margin-left":"15px"}},[x(_,{to:{path:C.MenuName}},{default:D(({href:L,isActive:F,isExactActive:X})=>[e("a",{class:g(["menu-link",[F&&"active",X&&"active"]]),href:"javascript:void(0)",onClick:Jt=>b(v)(L)},[Ge,e("span",Je,k(C.PageName),1)],10,qe)]),_:2},1032,["to"])]))),128))])],2))],64))),128))],2)],2)]))],64))),128)),Qe])],512)],64)}}}),Ye=I(Xe,[["__scopeId","data-v-1adc8edd"]]),Ze=S({name:"KTAside",components:{KTMenu:Ye},props:{lightLogo:String,darkLogo:String},setup(){const{t}=H(),s=W(),d=E(),p=$(()=>s.getters.getIsSideActive),r=u=>{s.dispatch(_e.SET_IS_SIDE_ACTIVE,u)},v=()=>{d.push({name:"mydashboard"})};return q(()=>{O.reinitialization(),ee.reinitialization()}),de(()=>{O.bootstrap()}),{asideTheme:te,t,isSideOpened:p,changeSideState:r,handlePreviewDashboard:v}}}),z=t=>(B("data-v-a92d1e28"),t=t(),V(),t),et={id:"aside-wrapper"},tt={class:"button-collapse"},st=z(()=>e("span",null,[e("div",{class:"button-collapse-icon"})],-1)),at=[st],nt={class:"aside-logo flex-column-auto",id:"kt_aside_logo"},ot=z(()=>e("img",{alt:"Logo",src:ge,class:"h-40px logo"},null,-1)),it=[ot],lt={class:"aside-menu flex-column-fluid"},rt=z(()=>e("div",{class:"aside-footer flex-column-auto pt-5 pb-7 px-5",id:"kt_aside_footer"},null,-1));function ct(t,s,d,p,r,v){const u=N("KTMenu");return n(),o("div",et,[e("div",tt,[t.$route.name!=="mydashboard"&&t.$route.name!=="personalinfo"?(n(),o("div",{key:0,id:"kt_aside_toggle",class:g(`btn btn-icon px-0 btn-color-white btn-active-color-white aside-toggle xd ${t.isSideOpened?"":"hovered active"}`),"data-kt-toggle":"true","data-kt-toggle-state":"active","data-kt-toggle-target":"body","data-kt-toggle-name":"aside-minimize",onClick:s[0]||(s[0]=m=>t.changeSideState(!t.isSideOpened))},at,2)):y("",!0)]),e("div",{id:"kt_aside",class:g(["aside aside-hoverable",[t.asideTheme==="light"&&"aside-light",t.asideTheme==="dark"&&"aside-dark"]]),"data-kt-drawer":"true","data-kt-drawer-name":"aside","data-kt-drawer-activate":"{default: true, lg: false}","data-kt-drawer-overlay":"true","data-kt-drawer-width":"{default:'200px', '300px': '250px'}","data-kt-drawer-direction":"start","data-kt-drawer-toggle":"#kt_aside_mobile_toggle"},[e("div",nt,[e("a",{href:"javascript:void(0)",onClick:s[1]||(s[1]=m=>t.handlePreviewDashboard())},it)]),e("div",lt,[x(u)]),rt],2)])}const ds=I(Ze,[["render",ct],["__scopeId","data-v-a92d1e28"]]),dt={class:"menu menu-sub menu-sub-dropdown menu-column menu-rounded menu-blue-600 fw-bold py-4","data-kt-menu":"true"},ut={class:"menu-item px-5"},mt=S({__name:"UserMenu",setup(t){const s=E(),{t:d,te:p}=H(),r=Q(),v=U(),{instance:u}=ve(),m=async()=>{try{await u.logoutPopup()}catch(f){console.log(f)}finally{localStorage.clear(),sessionStorage.clear(),r.reset(),v.reset(),await pe(he,"validTokenNew"),s.push({name:"signin"})}};return(f,h)=>(n(),o("div",dt,[e("div",ut,[e("a",{onClick:h[0]||(h[0]=l=>m()),class:"menu-link px-5"},k(b(fe)("SIGNOUT",b(d),b(p))),1)])]))}}),_t=I(mt,[["__scopeId","data-v-6e22c603"]]),pt=t=>(B("data-v-477c1c13"),t=t(),V(),t),ht={class:"d-flex align-items-stretch flex-shrink-0"},gt={class:"topbar d-flex align-items-stretch flex-shrink-0"},vt=pt(()=>e("div",{class:"d-flex align-items-center"},[e("div",{class:"btn btn-icon position-relative w-30px h-30px w-md-40px h-md-40px",style:{visibility:"hidden"}},[e("em",{class:"bi bi bi-bell-fill",style:{"font-size":"2rem",color:"#CFD8DC"}})])],-1)),ft={key:0,class:"symbol symbol-circle"},kt=["src"],bt={key:1,class:"symbol symbol-circle firstname-placeholder text-center d-flex flex-row justify-content-center align-items-center py-5"},wt={class:"d-flex flex-column",style:{"margin-left":"10px",width:"70%"}},yt={class:"fw-bolder d-flex align-items-center text-white fs-6 wrap name-container justify-content-between"},$t={href:"javascript:void(0)",class:"fw-bold text-muted fs-8 text-elipsis",style:{"text-align":"left"}},xt=S({__name:"Topbar",setup(t){const s=Q(),d=P(""),p=P(null),r=P("bi bi-caret-down-fill"),v=()=>{var h;(h=p.value)!=null&&h.className.includes("menu-dropdown")?(r.value="bi bi-caret-down-fill",d.value=""):(r.value="bi bi-caret-up-fill",d.value="wrapper-active")},u=$(()=>s.userPic),m=$(()=>{var l,a;return typeof((l=s.user)==null?void 0:l.Name)!=="undefined"?((a=s.user)==null?void 0:a.Name.split(" "))[0]:""});ue(async()=>{s.userPic==""&&await s.setUserProfilePic(!be())});const f=$(()=>ke.isUndefined(s.user.Name)?"":s.user.Name[0]);return(h,l)=>(n(),o("div",ht,[e("div",gt,[vt,e("div",{class:g([d.value,"d-flex align-items-center"]),id:"kt_header_user_menu_toggle"},[e("div",{id:"user-menu",ref_key:"trigger",ref:p,onClick:v,class:"btn btn-icon btn-active-light-primary w-md-260px h-md-260px",style:{width:"156px","justify-content":"normal",height:"48px"},"data-kt-menu-trigger":"click","data-kt-menu-attach":"parent","data-kt-menu-placement":"bottom-end","data-kt-menu-flip":"bottom"},[u.value!=""?(n(),o("div",ft,[e("img",{class:"menu-avatar-img",src:u.value,alt:"metronic"},null,8,kt)])):(n(),o("div",bt,[e("span",null,k(f.value),1)])),e("div",wt,[e("div",yt,[me(k(m.value)+" ",1),e("em",{ref:"caret",class:g(r.value),style:{flex:"1","font-size":"1rem","margin-left":"10px","margin-right":"10px"}},null,2)]),e("a",$t,k(b(s).user.Position),1)])],512),x(_t)],2)])]))}}),Ct=I(xt,[["__scopeId","data-v-477c1c13"]]),Mt={class:"header-menu align-items-stretch","data-kt-drawer":"true","data-kt-drawer-name":"header-menu","data-kt-drawer-activate":"{default: true, lg: false}","data-kt-drawer-overlay":"true","data-kt-drawer-width":"{default:'200px', '300px': '250px'}","data-kt-drawer-direction":"end","data-kt-drawer-toggle":"#kt_header_menu_mobile_toggle","data-kt-place":"true","data-kt-place-mode":"prepend","data-kt-place-parent":"{default: '#kt_body', lg: '#kt_header_nav'}"},Nt={class:"menu menu-lg-rounded menu-column menu-lg-row menu-state-bg menu-title-white-700 menu-state-title-success menu-state-icon-success menu-state-bullet-success menu-arrow-white-400 fw-bold my-5 my-lg-0 align-items-stretch",id:"#kt_header_menu",style:{"padding-top":"10px"},"data-kt-menu":"true"},St={class:"menu-item me-lg-1 bspace-menu"},Tt=["onClick"],Pt={class:"menu-title"},It=["onClick"],At={class:"menu-title fw-600"},Lt=e("span",{class:"menu-arrow d-lg-none"},null,-1),Kt=S({__name:"Menu",props:{menuVisible:{type:Boolean,required:!0}},setup(t){const s=U(),{redirectByLink:d,redirectByName:p}=J(),r=m=>s.activePage===m,v=$(()=>{var m;return typeof s.menu.getAllTribeMenu!="function"?[]:(m=s.menu)==null?void 0:m.getAllTribeMenu()}),u=(m,f)=>{s.setActivePage(m);const h=f.split(" ").join("");p(h)};return(m,f)=>{const h=N("inline-svg"),l=N("router-link");return n(),o("div",Mt,[e("div",Nt,[e("div",St,[x(l,{to:{name:"mydashboard"}},{default:D(({href:a,isActive:_,isExactActive:i})=>[e("a",{href:"javascript:void(0)",class:g(["menu-link py-3",[_&&"active",i&&"active"]]),onClick:T=>b(d)(a)},[e("span",Pt,[x(h,{src:"/media/svg/header/home.svg"})])],10,Tt)]),_:1})]),t.menuVisible?(n(!0),o(M,{key:0},K(v.value,(a,_)=>(n(),o("div",{key:_,class:"menu-item me-lg-1 bspace-menu"},[e("span",{onClick:i=>u(a,a.toLowerCase()),class:g(["menu-link py-3",{active:r(a)}])},[e("span",At,k(a),1),Lt],10,It)]))),128)):y("",!0)])])}}}),Dt=S({name:"KTHeader",props:{title:String,hdColor:String,menuVisible:Boolean},components:{KTTopbar:Ct,KTMenu:Kt},setup(){const t=G(),s=E(),d=$(()=>t.name=="mydashboard");return{headerChangeColor:se,headerWidthFluid:ae,headerLeft:ne,asideDisplay:oe,checkIsDashboard:d,handlePreviewDashboard:()=>{s.push({name:"mydashboard"})}}},methods:{forceHeaderUpdate(){alert("success update header"),this.$forceUpdate()}}}),jt="/media/logos/bumaau/buma-logo.png",Bt={id:"kt_header",class:"header align-items-stretch"},Vt={key:0,class:"d-flex align-items-center d-lg-none ms-n3 me-1",title:"Show aside menu"},Et={class:"btn btn-icon btn-active-light-primary",id:"kt_aside_mobile_toggle"},Ut={class:"svg-icon svg-icon-2x mt-1"},zt={class:"d-flex align-items-center flex-grow-1 flex-lg-grow-0 d-lg-none"},Ft={class:"aside-logo flex-column-auto",id:"kt_aside_logo"},Ot=e("img",{alt:"Logo",src:jt,class:"h-40px logo"},null,-1),Rt=[Ot],Ht={class:"d-flex align-items-stretch justify-content-between flex-lg-grow-1"},Wt={class:"d-flex align-items-stretch",id:"kt_header_menu_nav"},qt={class:"d-flex align-items-stretch flex-shrink-0"};function Gt(t,s,d,p,r,v){const u=N("inline-svg"),m=N("KTMenu"),f=N("KTTopbar");return n(),o("div",Bt,[e("div",{class:g([{"container-fluid":t.headerWidthFluid,"container-xxl":!t.headerWidthFluid},"d-flex align-items-stretch justify-content-between"])},[t.checkIsDashboard?y("",!0):(n(),o("div",Vt,[e("div",Et,[e("span",Ut,[x(u,{src:"/media/icons/duotune/menu/menu-burger.svg"})])])])),e("div",zt,[e("div",Ft,[e("a",{href:"javascript:void(0)",onClick:s[0]||(s[0]=h=>t.handlePreviewDashboard())},Rt)])]),e("div",Ht,[e("div",Wt,[x(m,{"menu-visible":t.menuVisible},null,8,["menu-visible"])]),e("div",qt,[x(f)])])],2)])}const us=I(Dt,[["render",Gt]]);export{us as K,ds as a};
