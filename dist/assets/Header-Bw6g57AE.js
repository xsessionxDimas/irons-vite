import{u as O}from"./vue-i18n-CbVMwo04.js";import{b as V,S as Y,M as Z,T as z,D as ee,A as te,a as R,e as se,f as ae}from"./index-BuVmIl8K.js";import{g as ne,h as oe,i as ie,j as le,k as re}from"./dom-CwBJfy2t.js";import{k as T,r as P,c as x,o as H,d as ce,p as a,aa as o,aB as e,y as de,a5 as ue,u as b,K as me,F as N,$ as D,bd as W,bb as q,R as S,C as v,q as F,x as j,b4 as g,A as $,s as C,N as _e,a7 as pe,B as he}from"./@vue-BypzYtbH.js";import{b as G,u as E}from"./vue-router-iNp9kJ0K.js";import{n as J}from"./navigator-D5io2Cca.js";import{u as Q}from"./useMenuStore-CD5Gmvif.js";import{_ as I}from"./nw-img-vue-CR837WER.js";import{_ as ge}from"./logo-whitebg-DE6C9hWQ.js";import{u as fe}from"./useMsal-BbsBYoof.js";import{t as ve}from"./language-BriOOvyN.js";import{e as ke}from"./lodash-DrHMlsdo.js";import{i as be}from"./internet-connection-CnLQPjRt.js";const w=s=>(W("data-v-a92dc6ad"),s=s(),q(),s),we={class:"d-flex align-items-center position-relative my-0 p-5",id:"menu-search"},ye={id:"#kt_header_menu",class:"menu menu-column menu-title-gray-800 menu-state-title-primary menu-state-icon-primary menu-state-bullet-primary menu-arrow-gray-500 sidebar-overflow","data-kt-menu":"true"},$e={key:0,class:"menu-item"},xe=["href"],Ce=w(()=>e("span",{class:"menu-bullet"},[e("span",{class:"bullet bullet-dot"})],-1)),Me={class:"menu-title sidebar-menu-item"},Ne=["onClick"],Se=w(()=>e("span",{class:"menu-bullet"},[e("span",{class:"bullet bullet-dot"})],-1)),Te={class:"menu-title sidebar-menu-item"},Pe={key:1,class:"menu-item"},Ie={class:"menu-link"},Ae={class:"menu-icon"},Le={class:"menu-title sidebar-menu-item"},Ke=w(()=>e("span",{class:"menu-arrow"},null,-1)),De={key:0,class:"menu-item"},je=["href"],Be=w(()=>e("span",{class:"menu-bullet"},[e("span",{class:"bullet bullet-dot"})],-1)),Ve={class:"menu-title sidebar-menu-item"},Ee=["onClick"],Ue=w(()=>e("span",{class:"menu-bullet"},[e("span",{class:"bullet bullet-dot"})],-1)),ze={class:"menu-title sidebar-menu-item"},Fe={class:"menu-link"},Oe=w(()=>e("span",{class:"menu-bullet"},[e("span",{class:"bullet bullet-dot"})],-1)),Re={class:"menu-title"},He=w(()=>e("span",{class:"menu-arrow"},null,-1)),We={class:"menu-sub menu-sub-accordion"},qe=["onClick"],Ge=w(()=>e("span",{class:"menu-bullet"},[e("span",{class:"bullet bullet-dot"})],-1)),Je={class:"menu-title"},Qe=w(()=>e("div",{class:"menu-item"},[e("div",{class:"menu-content"},[e("div",{class:"separator mx-1 my-4"})])],-1)),Xe=T({__name:"Menu",setup(s){const t=G(),d=V(),f=Q(),p=P(null);let u=P("");const{redirectByLink:m}=J(),r=n=>{var A;let i=t.path.split("/");const h=`/${i[1]}/${i[2]}`,l=_.value.find(c=>c.PageName.toLowerCase()==n&&c.MenuName==h);return l?(A=l.Children)==null?void 0:A.some(c=>c.MenuName==t.path):!1},k=x(()=>f.getPage),_=x(()=>{if(typeof d.menu.getAllProductMenu!="function")return[];const n=d.menu.getAllProductMenu(k.value);if(n.forEach(i=>{i.Children=d.menu.getAllFeatureMenu(i.MenuId),i.Children.forEach(h=>{h.Children=d.menu.getAllChildMenu(h.MenuId)})}),u.value){let i=[];return n.forEach(h=>{const l=y(h);l&&i.push(l)}),i}return n}),y=n=>{const i=n.Children.filter(h=>h.PageName.toLowerCase().includes(u.value.toLowerCase()));if(i.length>0)return n.Children=i,n;if(n.PageName.toLowerCase().includes(u.value.toLowerCase()))return n};return H(()=>{Y.reinitialization(),Z.reinitialization(),p.value&&(p.value.scrollTop=0),console.log(t.path)}),ce(_,async n=>{n&&setTimeout(()=>{var i;(i=document.getElementsByClassName("subMenuActive")[0])==null||i.scrollIntoView({behavior:"smooth"})},200)},{deep:!0}),(n,i)=>{const h=S("router-link");return a(),o(N,null,[e("div",we,[de(e("input",{type:"text","onUpdate:modelValue":i[0]||(i[0]=l=>me(u)?u.value=l:u=l),class:"form-control form-control-solid ps-15 rounded search-placeholder-label",placeholder:"Search menu"},null,512),[[ue,b(u)]])]),e("div",{id:"kt_aside_menu_wrapper",ref_key:"scrollElRef",ref:p,class:"hover-scroll-overlay-y","data-kt-scroll":"true","data-kt-scroll-activate":"{default: false, lg: true}","data-kt-scroll-dependencies":"#kt_aside_logo, #kt_aside_footer","data-kt-scroll-height":"auto","data-kt-scroll-offset":"0","data-kt-scroll-wrappers":"#kt_aside_menu"},[e("div",ye,[(a(!0),o(N,null,D(_.value,(l,A)=>(a(),o(N,{key:A},[l.IsMenu?(a(),o("div",$e,[l.MenuName.includes("https://")?(a(),o("a",{key:0,target:"_blank",href:l.MenuName,class:"menu-link"},[Ce,e("span",Me,v(l.PageName),1)],8,xe)):(a(),F(h,{key:1,to:{path:l.MenuName}},{default:j(({href:c,isActive:B,isExactActive:M})=>[e("a",{class:g([[B&&"active",M&&"active",M&&"subMenuActive"],"menu-link"]),href:"javascript:void(0)",onClick:L=>b(m)(c)},[Se,e("span",Te,v(l.PageName),1)],10,Ne)]),_:2},1032,["to"]))])):$("",!0),l.IsMenu?$("",!0):(a(),o("div",Pe,[e("div",{class:g([{show:r(l.PageName.toLowerCase())},"menu-item menu-accordion"]),"data-kt-menu-sub":"accordion","data-kt-menu-trigger":"click"},[e("span",Ie,[e("span",Ae,[e("em",{class:g(["fas fa-cog","bi fs-3"])})]),e("span",Le,v(l.PageName),1),Ke]),e("div",{class:g([{show:r(l.PageName.toLocaleLowerCase())},"menu-sub menu-sub-accordion"])},[(a(!0),o(N,null,D(l.Children,(c,B)=>(a(),o(N,{key:B},[c.IsMenu?(a(),o("div",De,[c.MenuName.includes("https://")?(a(),o("a",{key:0,target:"_blank",href:c.MenuName,class:"menu-link"},[Be,e("span",Ve,v(c.PageName),1)],8,je)):c.MenuId!=224?(a(),F(h,{key:1,to:{path:c.MenuName}},{default:j(({href:M,isActive:L,isExactActive:K})=>[e("a",{class:g([[L&&"active",K&&"active",K&&"subMenuActive"],"menu-link"]),href:"javascript:void(0)",onClick:U=>b(m)(M)},[Ue,e("span",ze,v(c.PageName),1)],10,Ee)]),_:2},1032,["to"])):$("",!0)])):$("",!0),c.IsMenu?$("",!0):(a(),o("div",{key:1,class:g([{show:r(c.MenuName),hover:r(c.MenuName)},"menu-item menu-accordion"]),"data-kt-menu-sub":"accordion","data-kt-menu-trigger":"click"},[e("span",Fe,[Oe,e("span",Re,v(c.PageName),1),He]),e("div",We,[(a(!0),o(N,null,D(c.Children,(M,L)=>(a(),o("div",{key:L,class:"menu-item",style:{"margin-left":"15px"}},[C(h,{to:{path:M.MenuName}},{default:j(({href:K,isActive:U,isExactActive:X})=>[e("a",{class:g(["menu-link",[U&&"active",X&&"active"]]),href:"javascript:void(0)",onClick:Jt=>b(m)(K)},[Ge,e("span",Je,v(M.PageName),1)],10,qe)]),_:2},1032,["to"])]))),128))])],2))],64))),128))],2)],2)]))],64))),128)),Qe])],512)],64)}}}),Ye=I(Xe,[["__scopeId","data-v-a92dc6ad"]]),Ze=T({name:"KTAside",components:{KTMenu:Ye},props:{lightLogo:String,darkLogo:String},setup(){const{t:s}=O(),t=Q(),d=E(),f=x(()=>(console.log(t.getIsSideActive,"aaa"),t.getIsSideActive)),p=m=>{t[te.SET_IS_SIDE_ACTIVE](m)},u=()=>{d.push({name:"mydashboard"})};return H(()=>{z.reinitialization(),ee.reinitialization()}),_e(()=>{z.bootstrap()}),{asideTheme:ne,t:s,isSideOpened:f,changeSideState:p,handlePreviewDashboard:u}}}),et={id:"aside-wrapper"},tt={class:"button-collapse"},st=e("span",null,[e("div",{class:"button-collapse-icon"})],-1),at=[st],nt={class:"aside-logo flex-column-auto",id:"kt_aside_logo"},ot=e("img",{alt:"Logo",src:ge,class:"h-40px logo"},null,-1),it=[ot],lt={class:"aside-menu flex-column-fluid"},rt=e("div",{class:"aside-footer flex-column-auto pt-5 pb-7 px-5",id:"kt_aside_footer"},null,-1);function ct(s,t,d,f,p,u){const m=S("KTMenu");return a(),o("div",et,[e("div",tt,[s.$route.name!=="mydashboard"&&s.$route.name!=="personalinfo"?(a(),o("div",{key:0,id:"kt_aside_toggle",class:g(`btn btn-icon px-0 btn-color-white btn-active-color-white aside-toggle xd ${s.isSideOpened?"":"hovered active"}`),"data-kt-toggle":"true","data-kt-toggle-state":"active","data-kt-toggle-target":"body","data-kt-toggle-name":"aside-minimize",onClick:t[0]||(t[0]=r=>s.changeSideState(!s.isSideOpened))},at,2)):$("",!0)]),e("div",{id:"kt_aside",class:g(["aside aside-hoverable",[s.asideTheme==="light"&&"aside-light",s.asideTheme==="dark"&&"aside-dark"]]),"data-kt-drawer":"true","data-kt-drawer-name":"aside","data-kt-drawer-activate":"{default: true, lg: false}","data-kt-drawer-overlay":"true","data-kt-drawer-width":"{default:'200px', '300px': '250px'}","data-kt-drawer-direction":"start","data-kt-drawer-toggle":"#kt_aside_mobile_toggle"},[e("div",nt,[e("a",{href:"javascript:void(0)",onClick:t[1]||(t[1]=r=>s.handlePreviewDashboard())},it)]),e("div",lt,[C(m)]),rt],2)])}const cs=I(Ze,[["render",ct]]),dt={class:"menu menu-sub menu-sub-dropdown menu-column menu-rounded menu-blue-600 fw-bold py-4","data-kt-menu":"true"},ut={class:"menu-item px-5"},mt=T({__name:"UserMenu",setup(s){const t=E(),{t:d,te:f}=O(),p=R(),u=V(),{instance:m}=fe(),r=async()=>{try{await m.logoutPopup()}catch(k){console.log(k)}finally{localStorage.clear(),sessionStorage.clear(),p.reset(),u.reset(),await se(ae,"validTokenNew"),t.push({name:"signin"})}};return(k,_)=>(a(),o("div",dt,[e("div",ut,[e("a",{onClick:_[0]||(_[0]=y=>r()),class:"menu-link px-5"},v(b(ve)("SIGNOUT",b(d),b(f))),1)])]))}}),_t=I(mt,[["__scopeId","data-v-6e22c603"]]),pt=s=>(W("data-v-477c1c13"),s=s(),q(),s),ht={class:"d-flex align-items-stretch flex-shrink-0"},gt={class:"topbar d-flex align-items-stretch flex-shrink-0"},ft=pt(()=>e("div",{class:"d-flex align-items-center"},[e("div",{class:"btn btn-icon position-relative w-30px h-30px w-md-40px h-md-40px",style:{visibility:"hidden"}},[e("em",{class:"bi bi bi-bell-fill",style:{"font-size":"2rem",color:"#CFD8DC"}})])],-1)),vt={key:0,class:"symbol symbol-circle"},kt=["src"],bt={key:1,class:"symbol symbol-circle firstname-placeholder text-center d-flex flex-row justify-content-center align-items-center py-5"},wt={class:"d-flex flex-column",style:{"margin-left":"10px",width:"70%"}},yt={class:"fw-bolder d-flex align-items-center text-white fs-6 wrap name-container justify-content-between"},$t={href:"javascript:void(0)",class:"fw-bold text-muted fs-8 text-elipsis",style:{"text-align":"left"}},xt=T({__name:"Topbar",setup(s){const t=R(),d=P(""),f=P(null),p=P("bi bi-caret-down-fill"),u=()=>{var _;(_=f.value)!=null&&_.className.includes("menu-dropdown")?(p.value="bi bi-caret-down-fill",d.value=""):(p.value="bi bi-caret-up-fill",d.value="wrapper-active")},m=x(()=>t.userPic),r=x(()=>{var y,n;return typeof((y=t.user)==null?void 0:y.Name)!=="undefined"?((n=t.user)==null?void 0:n.Name.split(" "))[0]:""});pe(async()=>{t.userPic==""&&await t.setUserProfilePic(!be())});const k=x(()=>ke.isUndefined(t.user.Name)?"":t.user.Name[0]);return(_,y)=>(a(),o("div",ht,[e("div",gt,[ft,e("div",{class:g([d.value,"d-flex align-items-center"]),id:"kt_header_user_menu_toggle"},[e("div",{id:"user-menu",ref_key:"trigger",ref:f,onClick:u,class:"btn btn-icon btn-active-light-primary w-md-260px h-md-260px",style:{width:"156px","justify-content":"normal",height:"48px"},"data-kt-menu-trigger":"click","data-kt-menu-attach":"parent","data-kt-menu-placement":"bottom-end","data-kt-menu-flip":"bottom"},[m.value!=""?(a(),o("div",vt,[e("img",{class:"menu-avatar-img",src:m.value,alt:"metronic"},null,8,kt)])):(a(),o("div",bt,[e("span",null,v(k.value),1)])),e("div",wt,[e("div",yt,[he(v(r.value)+" ",1),e("em",{ref:"caret",class:g(p.value),style:{flex:"1","font-size":"1rem","margin-left":"10px","margin-right":"10px"}},null,2)]),e("a",$t,v(b(t).user.Position),1)])],512),C(_t)],2)])]))}}),Ct=I(xt,[["__scopeId","data-v-477c1c13"]]),Mt={class:"header-menu align-items-stretch","data-kt-drawer":"true","data-kt-drawer-name":"header-menu","data-kt-drawer-activate":"{default: true, lg: false}","data-kt-drawer-overlay":"true","data-kt-drawer-width":"{default:'200px', '300px': '250px'}","data-kt-drawer-direction":"end","data-kt-drawer-toggle":"#kt_header_menu_mobile_toggle","data-kt-place":"true","data-kt-place-mode":"prepend","data-kt-place-parent":"{default: '#kt_body', lg: '#kt_header_nav'}"},Nt={class:"menu menu-lg-rounded menu-column menu-lg-row menu-state-bg menu-title-white-700 menu-state-title-success menu-state-icon-success menu-state-bullet-success menu-arrow-white-400 fw-bold my-5 my-lg-0 align-items-stretch",id:"#kt_header_menu",style:{"padding-top":"10px"},"data-kt-menu":"true"},St={class:"menu-item me-lg-1 bspace-menu"},Tt=["onClick"],Pt={class:"menu-title"},It=["onClick"],At={class:"menu-title fw-600"},Lt=e("span",{class:"menu-arrow d-lg-none"},null,-1),Kt=T({__name:"Menu",props:{menuVisible:{type:Boolean,required:!0}},setup(s){const t=V(),{redirectByLink:d,redirectByName:f}=J(),p=r=>t.activePage===r,u=x(()=>{var r;return typeof t.menu.getAllTribeMenu!="function"?[]:(r=t.menu)==null?void 0:r.getAllTribeMenu()}),m=(r,k)=>{t.setActivePage(r);const _=k.split(" ").join("");f(_)};return(r,k)=>{const _=S("inline-svg"),y=S("router-link");return a(),o("div",Mt,[e("div",Nt,[e("div",St,[C(y,{to:{name:"mydashboard"}},{default:j(({href:n,isActive:i,isExactActive:h})=>[e("a",{href:"javascript:void(0)",class:g(["menu-link py-3",[i&&"active",h&&"active"]]),onClick:l=>b(d)(n)},[e("span",Pt,[C(_,{src:"/media/svg/header/home.svg"})])],10,Tt)]),_:1})]),s.menuVisible?(a(!0),o(N,{key:0},D(u.value,(n,i)=>(a(),o("div",{key:i,class:"menu-item me-lg-1 bspace-menu"},[e("span",{onClick:h=>m(n,n.toLowerCase()),class:g(["menu-link py-3",{active:p(n)}])},[e("span",At,v(n),1),Lt],10,It)]))),128)):$("",!0)])])}}}),Dt=T({name:"KTHeader",props:{title:String,hdColor:String,menuVisible:Boolean},components:{KTTopbar:Ct,KTMenu:Kt},setup(){const s=G(),t=E(),d=x(()=>s.name=="mydashboard");return{headerChangeColor:oe,headerWidthFluid:ie,headerLeft:le,asideDisplay:re,checkIsDashboard:d,handlePreviewDashboard:()=>{t.push({name:"mydashboard"})}}},methods:{forceHeaderUpdate(){alert("success update header"),this.$forceUpdate()}}}),jt="/media/logos/bumaau/buma-logo.png",Bt={id:"kt_header",class:"header align-items-stretch"},Vt={key:0,class:"d-flex align-items-center d-lg-none ms-n3 me-1",title:"Show aside menu"},Et={class:"btn btn-icon btn-active-light-primary",id:"kt_aside_mobile_toggle"},Ut={class:"svg-icon svg-icon-2x mt-1"},zt={class:"d-flex align-items-center flex-grow-1 flex-lg-grow-0 d-lg-none"},Ft={class:"aside-logo flex-column-auto",id:"kt_aside_logo"},Ot=e("img",{alt:"Logo",src:jt,class:"h-40px logo"},null,-1),Rt=[Ot],Ht={class:"d-flex align-items-stretch justify-content-between flex-lg-grow-1"},Wt={class:"d-flex align-items-stretch",id:"kt_header_menu_nav"},qt={class:"d-flex align-items-stretch flex-shrink-0"};function Gt(s,t,d,f,p,u){const m=S("inline-svg"),r=S("KTMenu"),k=S("KTTopbar");return a(),o("div",Bt,[e("div",{class:g([{"container-fluid":s.headerWidthFluid,"container-xxl":!s.headerWidthFluid},"d-flex align-items-stretch justify-content-between"])},[s.checkIsDashboard?$("",!0):(a(),o("div",Vt,[e("div",Et,[e("span",Ut,[C(m,{src:"/media/icons/duotune/menu/menu-burger.svg"})])])])),e("div",zt,[e("div",Ft,[e("a",{href:"javascript:void(0)",onClick:t[0]||(t[0]=_=>s.handlePreviewDashboard())},Rt)])]),e("div",Ht,[e("div",Wt,[C(r,{"menu-visible":s.menuVisible},null,8,["menu-visible"])]),e("div",qt,[C(k)])])],2)])}const ds=I(Dt,[["render",Gt]]);export{ds as K,cs as a};
