import{a as U}from"./manipulate-html-string-DqTEGh-F.js";import{e as R}from"./lodash-DrHMlsdo.js";import{k as x,c as n,p as g,aa as k,aB as w,b4 as E,b6 as F,r as B,bL as T,a7 as Y,Y as J,y as K,u as A,o as Q,s as j,F as q,$ as X,q as O,A as N}from"./@vue-BypzYtbH.js";import{b as Z,g as ee,h as te,a as I}from"./reference-file-C1vLEEpf.js";import{u as oe}from"./@vueuse-DFoNmIyu.js";import{i as re}from"./internet-connection-CnLQPjRt.js";import{_ as ae}from"./InformationPopUp.vue_vue_type_style_index_0_lang-O2xYF9Pq.js";import{_ as ne}from"./PDFViewerDialog.vue_vue_type_style_index_0_lang-GWz8s3FD.js";const le=["innerHTML"],se=x({__name:"ReferenceLabel",props:{item:{type:Object,required:!0},reference:{type:Object,required:!0}},setup(m){const t=m,i=n(()=>t.item.style!=null),e=n(()=>t.item.style),r=n(()=>i.value&&e.value.border!=null),l=n(()=>e.value.border),a=n(()=>i.value&&e.value.borderRadius!=null),o=n(()=>e.value.borderRadius),u=n(()=>U(t.item.value)),v=n(()=>{let c="";return i.value&&(e.value.potraitBreakPoint&&e.value.breakPoint!="none"&&(c=`col-md-${e.value.potraitBreakPoint}`),c=`${c} col-lg-${e.value.breakPoint}`),c}),d=n(()=>{let c="";if(t.item.style&&t.item.style.textAlign)switch(t.item.style.textAlign){case"left":c="text-start";break;case"right":c="text-end";break;default:c="text-center"}return c}),h=n(()=>"pb-2"),P=n(()=>{const c=i.value&&e.value.bgColor!="none"?`background-color: ${e.value.bgColor}; `:"",$=i.value&&e.value.fontColor!="none"?`color: ${e.value.fontColor}; `:"",D=r.value&&l.value.top!="none"?`border-top: ${l.value.top}; `:"",L=r.value&&l.value.right!="none"?`border-right: ${l.value.right}; `:"";let _=r.value&&l.value.bottom!="none"?`border-bottom: ${l.value.bottom}; margin-bottom: 1rem;`:"",f=0;t.reference.items.forEach(p=>{r.value?(l.value.right=="none"&&(f=f+Number(e.value.breakPoint)),R.isEqual(p,R.last(t.reference.items))&&(f=f+Number(e.value.breakPoint))):r.value||(f=f+Number(e.value.breakPoint))}),f==12&&(_=i.value&&!r.value&&l.value.bottom!="none"?`border-bottom: ${l.value.bottom}; margin-bottom: 1rem; `:"");const s=r.value&&l.value.left!="none"?`border-left: ${l.value.left}; `:"",b=a.value&&o.value.topRight!="none"?`border-top-right-radius: ${o.value.topRight}; `:"",y=a.value&&o.value.bottomRight!="none"?`border-bottom-right-radius: ${o.value.bottomRight}; `:"",S=a.value&&o.value.topLeft!="none"?`border-top-left-radius: ${o.value.topLeft}; `:"",C=a.value&&o.value.bottomLeft!="none"?`border-bottom-left-radius: ${o.value.bottomLeft}; `:"";return`${c}${$}${D}${L}${_}${s}${b}${y}${S}${C}`});return(c,$)=>(g(),k("div",{class:E([[d.value,v.value,h.value],"px-2 pt-2"]),style:F(P.value)},[w("label",{innerHTML:u.value},null,8,le)],6))}}),ie=["src"],ue=x({__name:"ReferenceImage",props:{item:{type:Object,required:!0},generalStyle:{type:Boolean,default:!0},reference:{type:Object,required:!0}},setup(m){const t=m;oe();const i=B("/media/svg/dma/warning.svg"),e=B(!0),r=T(()=>t.item.style&&t.item.style.breakPoint!="none"?`col-${t.item.style.breakPoint}`:"col"),l=T(()=>t.item.style&&t.item.style.breakPoint=="1"?"width: 20px; height: 20px":"");Y(async()=>{t.item.value.toString();try{const o=t.item.value,u=window.URL||window.webkitURL;if(re())i.value=await I(o);else{let v=!0;const d=await Z(o);if(!R.isEmpty(d)&&d.createdDate){const h=new Date,P=d.createdDate;(h.getTime()-P.getTime())/(1e3*60*60*24)<1&&(v=!1)}if(v){const h=await ee(o);i.value=u.createObjectURL(h),te(o,"",h)}else i.value=await I(o)}e.value=!1}catch{e.value=!1}});const a=T(()=>"pb-2");return(o,u)=>{const v=J("loading");return K((g(),k("div",{class:E([[A(r),A(a)],"pt-2 px-2 d-flex d-flex justify-content-center"])},[w("img",{src:i.value,class:"img-fluid",style:F(A(l))},null,12,ie)],2)),[[v,e.value]])}}}),ce=["innerHTML"],de=x({__name:"ReferenceHTML",props:{item:{type:Object,required:!0},reference:{type:Object,required:!0}},setup(m){const t=m,i=B(null),e=B(""),r=B(!1),l=n(()=>t.item.style!=null),a=n(()=>t.item.style),o=n(()=>l.value&&a.value.border!=null),u=n(()=>a.value.border),v=n(()=>l.value&&a.value.borderRadius!=null),d=n(()=>a.value.borderRadius),h=n(()=>U(t.item.value).replaceAll("{BLOB_URL}","https://digitaldevbumaausta001.blob.core.windows.net")),P=n(()=>{let s="";return l.value&&(a.value.potraitBreakPoint&&a.value.breakPoint!="none"&&(s=`col-md-${a.value.potraitBreakPoint}`),s=`${s} col-lg-${a.value.breakPoint}`),s}),c=n(()=>{let s="";if(t.item.style&&t.item.style.textAlign)switch(t.item.style.textAlign){case"left":s="text-start";break;case"right":s="text-end";break;default:s="text-center"}return s}),$=n(()=>"pb-2"),D=n(()=>{const s=l.value&&a.value.bgColor!="none"?`background-color: ${a.value.bgColor}; `:"",b=l.value&&a.value.fontColor!="none"?`color: ${a.value.fontColor}; `:"",y=o.value&&u.value.top!="none"?`border-top: ${u.value.top}; `:"",S=o.value&&u.value.right!="none"?`border-right: ${u.value.right}; `:"";let C=o.value&&u.value.bottom!="none"?`border-bottom: ${u.value.bottom}; margin-bottom: 1rem;`:"",p=0;t.reference.items.forEach(W=>{o.value?(u.value.right=="none"&&(p=p+Number(a.value.breakPoint)),R.isEqual(W,R.last(t.reference.items))&&(p=p+Number(a.value.breakPoint))):o.value||(p=p+Number(a.value.breakPoint))}),p==12&&(C=l.value&&!o.value&&u.value.bottom!="none"?`border-bottom: ${u.value.bottom}; margin-bottom: 1rem; `:"");const M=o.value&&u.value.left!="none"?`border-left: ${u.value.left}; `:"",H=v.value&&d.value.topRight!="none"?`border-top-right-radius: ${d.value.topRight}; `:"",V=v.value&&d.value.bottomRight!="none"?`border-bottom-right-radius: ${d.value.bottomRight}; `:"",z=v.value&&d.value.topLeft!="none"?`border-top-left-radius: ${d.value.topLeft}; `:"",G=v.value&&d.value.bottomLeft!="none"?`border-bottom-left-radius: ${d.value.bottomLeft}; `:"";return`${s}${b}${y}${S}${C}${M}${H}${V}${z}${G}`}),L=B(!1),_=s=>{L.value=s},f=()=>{r.value=!1};return Q(()=>{try{Array.from(i.value.getElementsByClassName("show-pdf")).forEach(b=>{b.onclick=y=>{y.preventDefault(),r.value=!0,e.value=b.href}})}catch(s){console.log(s)}try{Array.from(i.value.getElementsByClassName("spv-print-pdf")).forEach(b=>{b.onclick=y=>{y.preventDefault(),r.value=!0,e.value=b.href,_(!0)}})}catch(s){console.log(s)}}),(s,b)=>(g(),k(q,null,[w("div",{class:E([[c.value,P.value,$.value],"px-2 pt-2"]),style:F(D.value)},[w("span",{ref_key:"html",ref:i,innerHTML:h.value},null,8,ce)],6),j(ne,{show:r.value,onHandleCloseModal:f,"blob-url":e.value},null,8,["show","blob-url"]),j(ae,{show:L.value,onClose:_},null,8,["show"])],64))}}),me={class:"row w-100 m-0"},Be=x({__name:"ReferenceInline",props:{items:{required:!0,type:Object},reference:{required:!0,type:Object}},setup(m){const t=m;return n(()=>{const i=t.reference.items[0],e=R.last(t.items),r=t.reference.updatedBy!="",l=e.style&&e.style.border&&e.style.border.right!="none"?`border-right: ${e.style.border.right}; `:"",a=r&&e.style&&e.style.border&&e.style.border.bottom!="none"?`border-bottom: ${e.style.border.bottom}; `:"",o=i.style&&i.style.border&&i.style.border.left!="none"?`border-left: ${i.style.border.left}; `:"",u=r&&e.style&&e.style.border&&e.style.border.bottom!="none"?"margin-bottom: 4px ":"";return`${l}${o}${a}${u}`}),(i,e)=>(g(),k("div",null,[w("div",me,[(g(!0),k(q,null,X(m.items,r=>(g(),k(q,{key:r.key},[r.itemType==="image"?(g(),O(ue,{key:0,item:r,reference:m.reference},null,8,["item","reference"])):N("",!0),r.itemType==="label"?(g(),O(se,{key:1,item:r,reference:m.reference},null,8,["item","reference"])):N("",!0),r.itemType==="html"?(g(),O(de,{key:2,item:r,reference:m.reference},null,8,["item","reference"])):N("",!0)],64))),128))])]))}});export{Be as _,ue as a,se as b,de as c};
