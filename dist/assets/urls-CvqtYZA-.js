import{i as n,m as l,a as p}from"./number-format-BdMuQVyW.js";const o="https://digital-bumaau-dev-apm-001.azure-api.net/dinspect/api/service_sheet_header",s="https://digital-bumaau-dev-apm-001.azure-api.net/dinspect/api/service_sheet_detail",_=`${o}/service_sheet`,g=`${s}/update_task`,f=`${s}/get_task_progress`,E=`${s}/get_data_by_param`,v="https://digital-bumaau-dev-apm-001.azure-api.net/amadm/api/master_data/parameter_ehms/rating",y=`${o}/update`,b=`${o}/update_task`,T=`${s}/get_field_value`,R=`${o}/get_field_value`,D="https://digital-bumaau-dev-apm-001.azure-api.net/dinspect/api/master_setting/get_server_time",A="https://digital-bumaau-dev-apm-001.azure-api.net/dinspect/api/master_setting/get_data_by_param",u="https://digital-bumaau-dev-apm-001.azure-api.net/dinspect/api/defect_header",L=`${u}/get_data_by_param`,q=`${u}/update`,d="https://digital-bumaau-dev-apm-001.azure-api.net/dinspect/api/task_cbm_default_value",S=`${d}/get_data_by_param`,I=`${d}/get_data_list_by_param`,c="https://digital-bumaau-dev-apm-001.azure-api.net/dinspect/api/calibration_header",P=`${c}/calibration_payload`,$="https://digital-bumaau-dev-apm-001.azure-api.net/dinspect/api/calibration_detail/update_task",M="https://digital-bumaau-dev-apm-001.azure-api.net/dinspect/api/calibration_header/update",C="https://digital-bumaau-dev-apm-001.azure-api.net/ironlake-asset/api/ironlake/equipment/get_hm_offset",H=`${s}/get_previous_cbm_history`,N="https://digital-bumaau-dev-apm-001.azure-api.net/amadm/api/master_data/skip_preservice_reason?ver=v1",U="https://digital-bumaau-dev-apm-001.azure-api.net/dinspect/api/defect_header/update_with_service_detail_id",F=`${s}/get_field_value?ver=v1`;class m{constructor(){this.type="",this.assetNumber="",this.raisedBy="",this.date="",this.title="",this.isValid=!0,this.images=[],this.description=this.initStringWithValidationType(),this.priority="",this.isComplete=!0}initValidationType(){return{isValid:!0,message:""}}initStringWithValidationType(t=""){return{value:t,isValid:!0,errorMessage:""}}initStringWithValidationTypeArray(t=""){return[this.initStringWithValidationType(t)]}setType(t){this.type=t}setRaisedBy(t){this.raisedBy=t}setDate(t){this.date=t}setAssetNumber(t){this.assetNumber=t}addImages(...t){this.images=this.images.concat(t)}setDescription(t){this.description.value=t}setTitle(t){this.title=t}setPriority(t){this.priority=t}setIsComplete(t){this.isComplete=t}validateDescription(){let t=!0;return this.description.value===""?(this.description.isValid=!1,this.description.errorMessage="Required",t=!1):(this.description.isValid=!0,this.description.errorMessage=""),t}get IsValid(){return this.isValid}get Images(){return this.images}get Description(){return this.description}get AssetNumber(){return this.assetNumber}get RaisedBy(){return this.raisedBy}get Date(){return this.date}get Title(){return this.title}get Priority(){return this.priority}get IsComplete(){return this.isComplete}get Type(){return this.type}}class G extends m{constructor(){super(),this.instruction=this.initStringWithValidationType(),this.plannedDuration=this.initStringWithValidationType(),this.parts=[],this.labours=[this.initLabours()],this.resources=this.initStringWithValidationTypeArray(),this.symptoms=this.initStringWithValidationTypeArray(),this.causes=this.initStringWithValidationTypeArray(),this.isNeed30Minutes=!1,this.defectRequirement=""}initParts(t="",i="",a="",e=[],r=[]){return{partNumberFormatted:t,partNumber:t,partDescription:i,qty:a,attachment:e,images:r,partNumberValidation:this.initValidationType(),descriptionValidation:this.initValidationType(),qtyValidation:this.initValidationType()}}initLabours(t="",i="",a="",e=""){return{position:t,qty:i,hireEach:a,totalHours:e,positionValidation:this.initValidationType(),qtyValidation:this.initValidationType(),hireEachValidation:this.initValidationType(),totalHoursValidation:this.initValidationType()}}setIsNeed30Minutes(t){this.isNeed30Minutes=t}setDefectRequirement(t){this.defectRequirement=t}setPlannedDuration(t){this.plannedDuration.value=t}setInstruction(t){this.instruction.value=t}importParts(...t){this.parts=[],t.forEach(i=>{this.parts.push(this.initParts(i.partNumber,i.partDescription,i.qty,i.attachment||[],i.images||[]))})}addPart(...t){t.forEach(i=>{this.parts.push(this.initParts(i.partNumber,i.partDescription,i.qty))})}importLabours(...t){this.labours=[],t.forEach(i=>{this.labours.push(this.initLabours(i.position,i.qty,i.hireEach,i.totalHours))})}addLabour(...t){t.forEach(i=>{this.labours.push(this.initLabours(i.position,i.qty,i.hireEach,i.totalHours))})}importResources(...t){this.resources=[],t.forEach(i=>{this.resources.push(this.initStringWithValidationType(i))})}addResource(...t){t.forEach(i=>{this.resources.push(this.initStringWithValidationType(i))})}importSymptoms(...t){this.symptoms=[],t.forEach(i=>{this.symptoms.push(this.initStringWithValidationType(i))})}addSymptom(...t){t.forEach(i=>{this.symptoms.push(this.initStringWithValidationType(i))})}importCauses(...t){this.causes=[],t.forEach(i=>{this.causes.push(this.initStringWithValidationType(i))})}addCauses(...t){t.forEach(i=>{this.causes.push(this.initStringWithValidationType(i))})}setPartNumber(t,i){this.parts[t].partNumber=i}setPartDescription(t,i){this.parts[t].partDescription=i}setPartQty(t,i){this.parts[t].qty=i}setPartImage(t,i){this.parts[t].images=i}setPartAttachment(t,i){this.parts[t].attachment=i}removeParts(t){this.parts.splice(t,1)}setLabourActivity(t,i){this.labours[t].position=i}setLabourQty(t,i){this.labours[t].qty=i}setLabourHireEach(t,i){this.labours[t].hireEach=i}setLabourTotalHours(t,i){this.labours[t].totalHours=i}removeLabours(t){this.labours.splice(t,1)}setResources(t,i){this.resources[t].value=i}removeResource(t){this.resources.splice(t,1)}setSymptom(t,i){this.symptoms[t].value=i}removeSymptom(t){this.symptoms.splice(t,1)}setCauses(t,i){this.causes[t].value=i}removeCauses(t){this.causes.splice(t,1)}validatePlannedDuration(){let t=!0;if(this.plannedDuration.value==="")this.plannedDuration.isValid=!1,this.plannedDuration.errorMessage="Required",t=!1;else if(isNaN(Number(this.plannedDuration.value)))this.plannedDuration.isValid=!1,this.plannedDuration.errorMessage="Invalid Format",t=!1;else{let i=!n(this.plannedDuration.value);if(i)this.plannedDuration.isValid=!0,this.plannedDuration.errorMessage="";else return this.plannedDuration.isValid=!1,this.plannedDuration.errorMessage="Invalid format",t=!1,t;i=l(this.plannedDuration.value),i?this.IsNeed30Minutes&&(Number(this.plannedDuration.value)<=.5?(this.plannedDuration.isValid=!1,this.plannedDuration.errorMessage="Must more than half an hour",t=!1):(this.plannedDuration.isValid=!0,this.plannedDuration.errorMessage="")):(this.plannedDuration.isValid=!1,this.plannedDuration.errorMessage="Out of range (max 5 digit and 2 fraction)",t=!1)}return t}validateInstruction(){let t=!0;return this.instruction.value===""?(this.instruction.isValid=!1,this.instruction.errorMessage="Required",t=!1):(this.instruction.isValid=!0,this.instruction.errorMessage=""),t}validateParts(){let t=!0;const i=[];return this.parts.forEach(a=>{const e=[];e.push(this.validatePartDescription(a)),e.push(this.validatePartQty(a)),i.push(e.every(r=>r))}),t=i.every(a=>a),t}validatePartDescription(t){let i=!0;return t.partDescription===""?(t.descriptionValidation.isValid=!1,t.descriptionValidation.message="Required",i=!1):(t.descriptionValidation.isValid=!0,t.descriptionValidation.message=""),i}validatePartQty(t){let i=!0;if(t.qty==="")t.qtyValidation.isValid=!1,t.qtyValidation.message="Required",i=!1;else if(t.qty=="0"||Number(t.qty)==0)t.qtyValidation.isValid=!1,t.qtyValidation.message="Must be greater than 0",i=!1;else{let a=!n(t.qty);if(a)t.qtyValidation.isValid=!0,t.qtyValidation.message="";else return t.qtyValidation.isValid=!1,t.qtyValidation.message="Invalid format",i=!1,i;a=l(t.qty),a?(t.qtyValidation.isValid=!0,t.qtyValidation.message=""):(t.qtyValidation.isValid=!1,t.qtyValidation.message="Out of range (max 5 digit and 2 fraction)",i=!1)}return i}validateLabours(){let t=!0;const i=[];return this.labours.forEach(a=>{const e=[];e.push(this.validateLaboursActivity(a)),e.push(this.validateLaboursQty(a)),e.push(this.validateLaboursHireEach(a)),i.push(e.every(r=>r))}),t=i.every(a=>a),t}validateLaboursActivity(t){let i=!0;return t.position?(t.positionValidation.isValid=!0,t.positionValidation.message=""):(t.positionValidation.isValid=!1,t.positionValidation.message="Required",i=!1),this.labours.filter(e=>e.position===t.position).length>1?(t.positionValidation.isValid=!1,t.positionValidation.message="Duplicate labour",i=!1):(t.positionValidation.isValid=!0,t.positionValidation.message=""),i}validateLaboursQty(t){let i=!0;if(t.qty==="")t.qtyValidation.isValid=!1,t.qtyValidation.message="Required",i=!1;else if(t.qty=="0"||Number(t.qty)==0)t.qtyValidation.isValid=!1,t.qtyValidation.message="Must be greater than 0",i=!1;else{let a=!n(t.qty);if(a)t.qtyValidation.isValid=!0,t.qtyValidation.message="";else return t.qtyValidation.isValid=!1,t.qtyValidation.message="Invalid format",i=!1,i;a=p(t.qty),a?(t.qtyValidation.isValid=!0,t.qtyValidation.message=""):(t.qtyValidation.isValid=!1,t.qtyValidation.message="Out of range (max 5 digits)",i=!1)}return i}validateLaboursHireEach(t){let i=!0;if(t.hireEach==="")t.hireEachValidation.isValid=!1,t.hireEachValidation.message="Required",i=!1;else if(t.hireEach=="0"||Number(t.hireEach)==0)t.hireEachValidation.isValid=!1,t.hireEachValidation.message="Must be greater than 0",i=!1;else{let a=!n(t.hireEach);if(a)t.hireEachValidation.isValid=!0,t.hireEachValidation.message="";else return t.hireEachValidation.isValid=!1,t.hireEachValidation.message="Invalid format",i=!1,i;a=l(t.hireEach),a?(t.hireEachValidation.isValid=!0,t.hireEachValidation.message=""):(t.hireEachValidation.isValid=!1,t.hireEachValidation.message="Out of range (max 5 digit and 2 fraction)",i=!1)}return i}validateLaboursTotalHours(t){let i=!0;if(t.totalHours==="")t.totalHoursValidation.isValid=!1,t.totalHoursValidation.message="Required",i=!1;else{let a=!n(t.totalHours);if(a)t.totalHoursValidation.isValid=!0,t.totalHoursValidation.message="";else return t.totalHoursValidation.isValid=!1,t.totalHoursValidation.message="Invalid format",i=!1,i;a=l(t.totalHours),a?(t.totalHoursValidation.isValid=!0,t.totalHoursValidation.message=""):(t.totalHoursValidation.isValid=!1,t.totalHoursValidation.message="Out of range (max 5 digit and 2 fraction)",i=!1)}return i}validateResources(){let t=!0;return this.resources.forEach((i,a)=>{a!==0&&(t=this.validateResource(i))}),t}validateResourcesAdd(){let t=!0;return this.resources.forEach(i=>{t=this.validateResource(i)}),t}validateResourcesRemove(){let t=!0;const i=this.resources.length;return this.resources.forEach((a,e)=>{if(e===0&&a.value==""&&i==1){a.isValid=!0;return}t=this.validateResource(a)}),t}validateResource(t){let i=!0;return t.value===""?(t.isValid=!1,t.errorMessage="Required",i=!1):(t.isValid=!0,t.errorMessage=""),i}validateSymptoms(){let t=!0;return this.symptoms.forEach(i=>{t=this.validateSymptom(i)}),t}validateSymptom(t){let i=!0;return t.value===""?(t.isValid=!1,t.errorMessage="Required",i=!1):this.Symptoms.filter(e=>e.value===t.value).length>1?(t.isValid=!1,t.errorMessage="Duplicate symptom",i=!1):(t.isValid=!0,t.errorMessage=""),i}validateCauses(){let t=!0;return this.causes.forEach(i=>{t=this.validateCause(i)}),t}validateCause(t){let i=!0;return t.value===""?(t.isValid=!1,t.errorMessage="Required",i=!1):this.Causes.filter(e=>e.value===t.value).length>1?(t.isValid=!1,t.errorMessage="Duplicate causes",i=!1):(t.isValid=!0,t.errorMessage=""),i}validateDefectForm(){const t=[];t.push(this.validateDescription()),t.push(this.validatePlannedDuration()),t.push(this.validateInstruction()),t.push(this.validateParts()),t.push(this.validateLabours()),t.push(this.validateResources()),t.push(this.validateSymptoms()),t.push(this.validateCauses()),this.isValid=t.every(i=>i)}get PlannedDuration(){return this.plannedDuration}get Instruction(){return this.instruction}get Parts(){return this.parts}get Labours(){return this.labours}get Resources(){return this.resources}get Symptoms(){return this.symptoms}get Causes(){return this.causes}get IsNeed30Minutes(){return this.isNeed30Minutes}get DefectRequirement(){return this.defectRequirement}}const z="https://digital-bumaau-dev-apm-001.azure-api.net/amadm/api/master_data/daily_schedule/get_config_service_sheet",W="https://digital-bumaau-dev-apm-001.azure-api.net/amadm/api/master_data/daily_schedule/get_config_interim_engine",B="https://digital-bumaau-dev-apm-001.azure-api.net/utility/api/master_attachment/download_by_url_list?ver=v1",O="https://digital-bumaau-dev-apm-001.azure-api.net/utility/api/master_attachment/get_sas_url",k="https://digital-bumaau-dev-apm-001.azure-api.net/dinspect/api/defect_detail/get_previous_crack_by_wo";export{m as A,I as C,G as D,y as G,N as P,b as U,O as a,z as b,W as c,k as d,_ as e,B as f,f as g,H as h,F as i,S as j,R as k,D as l,A as m,C as n,U as o,g as p,E as q,L as r,q as s,v as t,T as u,P as v,$ as w,M as x};
