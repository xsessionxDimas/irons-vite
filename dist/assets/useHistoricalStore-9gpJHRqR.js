import{s as u,e as p}from"./helpers-wUOLw-dU.js";import{F as h}from"./ProcessingTimePopUp.vue_vue_type_style_index_0_lang-DeJTSv0v.js";import{k as f,c,p as n,aa as g,aB as o,C as _,q as S,A as v,b4 as y}from"./@vue-BypzYtbH.js";import{_ as F}from"./nw-img-vue-CR837WER.js";import{u as d}from"./authentication-handler-Pueb_EI7.js";import{c as m,s as l}from"./index-BuVmIl8K.js";import{d as D}from"./pinia-BjOS2_Ao.js";const L={class:"row w-100 pe-0 header-form"},N={class:"col-3"},w={class:"title"},I={class:"text-right"},B=["innerHTML"],H=f({__name:"Header",props:{formName:{required:!0,type:String},title:{required:!1,type:String,default:"Digital Service"},htmlFormName:{required:!1,type:String,default:""},formStatus:{required:!0,type:String},percentageProgress:{required:!0,type:Number},mechanicName:{required:!1,type:String,default:""},isGeneralUpdated:{required:!0,type:Boolean}},setup(e){const a=e,s=c(()=>u(a.formStatus,a.percentageProgress)),r=c(()=>{let t,i;return s.value&&(t=`<span class='status-badge p-1 ${p(s.value)}'>${s.value}</span>`),a.formName?i=a.formName:i=a.htmlFormName,t+i});return(t,i)=>(n(),g("div",L,[o("div",N,[o("h4",w,_(e.title),1)]),o("div",{class:y({"d-flex justify-content-between mt-1 mb-4":e.isGeneralUpdated,"col-9 text-right":!e.isGeneralUpdated})},[e.isGeneralUpdated?(n(),S(h,{key:0,mechanicName:e.mechanicName},null,8,["mechanicName"])):v("",!0),o("div",I,[o("h4",{class:"form-name",innerHTML:r.value},null,8,B)])],2)]))}}),U=F(H,[["__scopeId","data-v-07f16ad5"]]),k=(e,a)=>{window.localStorage.setItem(e,a)},O=e=>{window.localStorage.removeItem(e)},$="https://digital-bumaau-dev-apm-001.azure-api.net/amadm/api/master_data/daily_schedule/get_form_history",T="https://digital-bumaau-dev-apm-001.azure-api.net/dinspect/api/service_sheet_header/get_defect_service_sheet_history",P=D({id:"historical",state:()=>({stateDataFetched:!1,stateFormList:[],stateDefectList:[]}),getters:{formList:e=>e.stateFormList,defectList:e=>e.stateDefectList,dataFetched:e=>e.stateDataFetched},actions:{async getHistoricalFormData(e,a,s){const r={ver:"v1",psTypeId:e,equipmentModel:a,equipmentNumber:s};try{const t=await m.get(`${$}?${new URLSearchParams(r).toString()}`);this.stateFormList=t.data.result.content}catch(t){d(t),l("IRONS",t),console.log(t)}},async getHistoricalDefectData(e,a,s){const r={ver:"v1",psTypeId:e,equipmentModel:a,unitNumber:s};try{const t=await m.get(`${T}?${new URLSearchParams(r).toString()}`);this.stateDefectList=t.data.result.content}catch(t){d(t),l("IRONS",t),console.log(t)}},setDataFetchedFlag(e){this.stateDataFetched=e},reset(){this.stateDataFetched=!1,this.stateFormList=[],this.stateDefectList=[]}}});export{U as H,O as d,k as s,P as u};
